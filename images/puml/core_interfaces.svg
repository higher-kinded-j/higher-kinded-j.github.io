<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="691px" preserveAspectRatio="none" style="width:1580px;height:691px;background:#24273A;" version="1.1" viewBox="0 0 1580 691" width="1580px" zoomAndPan="magnify"><defs/><g><rect fill="#24273A" height="691" style="stroke:none;stroke-width:1.0;" width="1580" x="0" y="0"/><!--cluster Defunctionalisation Pattern Details--><g id="cluster_Defunctionalisation Pattern Details"><path d="M7.5,6 L209.2031,6 A2.25,2.25 0 0 1 210.7031,7.5 L217.7031,24 L1571.5,24 A1.5,1.5 0 0 1 1573,25.5 L1573,682.5 A1.5,1.5 0 0 1 1571.5,684 L7.5,684 A1.5,1.5 0 0 1 6,682.5 L6,7.5 A1.5,1.5 0 0 1 7.5,6 " fill="#24273A" style="stroke:#CAD3F5;stroke-width:1.5;"/><line style="stroke:#CAD3F5;stroke-width:1.5;" x1="6" x2="217.7031" y1="24" y2="24"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="198.7031" x="10" y="17.2402">Defunctionalisation Pattern Details</text></g><!--cluster For External Types (Optional etc)--><g id="cluster_For External Types (Optional etc)"><path d="M31.5,45 L223.2012,45 A2.25,2.25 0 0 1 224.7012,46.5 L231.7012,63 L748.5,63 A1.5,1.5 0 0 1 750,64.5 L750,658.5 A1.5,1.5 0 0 1 748.5,660 L31.5,660 A1.5,1.5 0 0 1 30,658.5 L30,46.5 A1.5,1.5 0 0 1 31.5,45 " fill="#24273A" style="stroke:#CAD3F5;stroke-width:1.5;"/><line style="stroke:#CAD3F5;stroke-width:1.5;" x1="30" x2="231.7012" y1="63" y2="63"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="188.7012" x="34" y="56.2402">For External Types (Optional etc)</text></g><!--cluster internal--><g id="cluster_internal"><path d="M55.5,301 L101.8418,301 A2.25,2.25 0 0 1 103.3418,302.5 L110.3418,319 L332.5,319 A1.5,1.5 0 0 1 334,320.5 L334,536.5 A1.5,1.5 0 0 1 332.5,538 L55.5,538 A1.5,1.5 0 0 1 54,536.5 L54,302.5 A1.5,1.5 0 0 1 55.5,301 " fill="#24273A" style="stroke:#CAD3F5;stroke-width:1.5;"/><line style="stroke:#CAD3F5;stroke-width:1.5;" x1="54" x2="110.3418" y1="319" y2="319"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="43.3418" x="58" y="312.2402">internal</text></g><!--cluster For Library-Defined Types (Id, Maybe, IO, Transformers)--><g id="cluster_For Library-Defined Types (Id, Maybe, IO, Transformers)"><path d="M775.5,45 L1097.2324,45 A2.25,2.25 0 0 1 1098.7324,46.5 L1105.7324,63 L1351.5,63 A1.5,1.5 0 0 1 1353,64.5 L1353,530.5 A1.5,1.5 0 0 1 1351.5,532 L775.5,532 A1.5,1.5 0 0 1 774,530.5 L774,46.5 A1.5,1.5 0 0 1 775.5,45 " fill="#24273A" style="stroke:#CAD3F5;stroke-width:1.5;"/><line style="stroke:#CAD3F5;stroke-width:1.5;" x1="774" x2="1105.7324" y1="63" y2="63"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="318.7324" x="778" y="56.2402">For Library-Defined Types (Id, Maybe, IO, Transformers)</text></g><!--class KindUnwrapException--><g id="elem_KindUnwrapException"><rect codeLine="6" fill="#24273A" height="46" id="KindUnwrapException" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="187.4219" x="1369.29" y="76"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="187.4219" x="1369.29" y="76"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="187.4219" x="1369.29" y="104.5"/><rect codeLine="6" fill="none" height="46" id="KindUnwrapException" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="187.4219" x="1369.29" y="76"/><ellipse cx="1383.29" cy="91" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M1385.124,95.248 Q1384.7138,95.459 1384.2627,95.5645 Q1383.8115,95.6699 1383.3134,95.6699 Q1381.5439,95.6699 1380.6123,94.5039 Q1379.6806,93.3379 1379.6806,91.1348 Q1379.6806,88.9258 1380.6123,87.7598 Q1381.5439,86.5938 1383.3134,86.5938 Q1383.8115,86.5938 1384.2685,86.6992 Q1384.7255,86.8047 1385.124,87.0156 L1385.124,88.9375 Q1384.6787,88.5273 1384.2597,88.3369 Q1383.8408,88.1465 1383.3955,88.1465 Q1382.4463,88.1465 1381.9629,88.8994 Q1381.4795,89.6523 1381.4795,91.1348 Q1381.4795,92.6113 1381.9629,93.3643 Q1382.4463,94.1172 1383.3955,94.1172 Q1383.8408,94.1172 1384.2597,93.9268 Q1384.6787,93.7363 1385.124,93.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="157.4219" x="1396.29" y="95.3203">KindUnwrapException</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1370.29" x2="1555.7119" y1="106" y2="106"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1370.29" x2="1555.7119" y1="114" y2="114"/></g><!--class OptionalKindInterface--><g id="elem_OptionalKindInterface"><rect codeLine="9" fill="#24273A" height="58" id="OptionalKindInterface" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="265.7344" x="109.13" y="183"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="265.7344" x="109.13" y="183"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="265.7344" x="109.13" y="211.5"/><rect codeLine="9" fill="none" height="58" id="OptionalKindInterface" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="265.7344" x="109.13" y="183"/><ellipse cx="186.1866" cy="198" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M183.1945,195.2754 L183.1945,193.752 L188.4034,193.752 L188.4034,195.2754 L186.6632,195.2754 L186.6632,200.9766 L188.4034,200.9766 L188.4034,202.5 L183.1945,202.5 L183.1945,200.9766 L184.9347,200.9766 L184.9347,195.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="91.6172" x="205.1866" y="202.3203">OptionalKind</text><rect fill="#24273A" height="14" style="stroke:#C6A0F6;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="10.0039" x="367.8605" y="180"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="8.0039" x="368.8605" y="190.2402">A</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="110.13" x2="373.8644" y1="213" y2="213"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="253.7344" x="115.13" y="226.2402">class Witness {} ' Nested phantom Witness type</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="110.13" x2="373.8644" y1="233" y2="233"/></g><!--class Kind--><g id="elem_Kind"><rect fill="#24273A" height="46" id="Kind" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="62.0234" x="210.99" y="76"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="62.0234" x="210.99" y="76"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="62.0234" x="210.99" y="104.5"/><rect fill="none" height="46" id="Kind" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="62.0234" x="210.99" y="76"/><ellipse cx="224.99" cy="91" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M221.9978,88.2754 L221.9978,86.752 L227.2068,86.752 L227.2068,88.2754 L225.4666,88.2754 L225.4666,93.9766 L227.2068,93.9766 L227.2068,95.5 L221.9978,95.5 L221.9978,93.9766 L223.738,93.9766 L223.738,88.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="32.0234" x="237.99" y="95.3203">Kind</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="211.99" x2="272.0134" y1="106" y2="106"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="211.99" x2="272.0134" y1="114" y2="114"/></g><!--class JavaOptional--><g id="elem_JavaOptional"><rect codeLine="12" fill="#24273A" height="46" id="JavaOptional" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="160.293" x="307.85" y="598"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="160.293" x="307.85" y="598"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="160.293" x="307.85" y="626.5"/><rect codeLine="12" fill="none" height="46" id="JavaOptional" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="160.293" x="307.85" y="598"/><ellipse cx="321.85" cy="613" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M323.684,617.248 Q323.2738,617.459 322.8227,617.5645 Q322.3715,617.6699 321.8734,617.6699 Q320.1039,617.6699 319.1723,616.5039 Q318.2406,615.3379 318.2406,613.1348 Q318.2406,610.9258 319.1723,609.7598 Q320.1039,608.5938 321.8734,608.5938 Q322.3715,608.5938 322.8285,608.6992 Q323.2855,608.8047 323.684,609.0156 L323.684,610.9375 Q323.2387,610.5273 322.8197,610.3369 Q322.4008,610.1465 321.9555,610.1465 Q321.0063,610.1465 320.5229,610.8994 Q320.0395,611.6523 320.0395,613.1348 Q320.0395,614.6113 320.5229,615.3643 Q321.0063,616.1172 321.9555,616.1172 Q322.4008,616.1172 322.8197,615.9268 Q323.2387,615.7363 323.684,615.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="118.2891" x="334.85" y="617.3203">java.util.Optional</text><rect fill="#24273A" height="14" style="stroke:#C6A0F6;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="10.0039" x="461.1391" y="595"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="8.0039" x="462.1391" y="605.2402">A</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="308.85" x2="467.143" y1="628" y2="628"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="308.85" x2="467.143" y1="636" y2="636"/></g><!--class OptionalKindHelper--><g id="elem_OptionalKindHelper"><rect codeLine="24" fill="#24273A" height="70" id="OptionalKindHelper" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="383.1836" x="350.41" y="320"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="383.1836" x="350.41" y="320"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="383.1836" x="350.41" y="348.5"/><rect codeLine="24" fill="none" height="70" id="OptionalKindHelper" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="383.1836" x="350.41" y="320"/><ellipse cx="468.6268" cy="335" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M470.4608,339.248 Q470.0506,339.459 469.5995,339.5645 Q469.1483,339.6699 468.6502,339.6699 Q466.8807,339.6699 465.9491,338.5039 Q465.0174,337.3379 465.0174,335.1348 Q465.0174,332.9258 465.9491,331.7598 Q466.8807,330.5938 468.6502,330.5938 Q469.1483,330.5938 469.6053,330.6992 Q470.0623,330.8047 470.4608,331.0156 L470.4608,332.9375 Q470.0155,332.5273 469.5965,332.3369 Q469.1776,332.1465 468.7323,332.1465 Q467.783,332.1465 467.2996,332.8994 Q466.8163,333.6523 466.8163,335.1348 Q466.8163,336.6113 467.2996,337.3643 Q467.783,338.1172 468.7323,338.1172 Q469.1776,338.1172 469.5965,337.9268 Q470.0155,337.7363 470.4608,337.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="138.75" x="487.6268" y="339.3203">OptionalKindHelper</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="351.41" x2="732.5936" y1="350" y2="350"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="351.41" x2="732.5936" y1="358" y2="358"/><ellipse cx="361.41" cy="369.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="347.5254" x="369.41" y="371.2402">widen(opt: java.util.Optional&lt;A&gt;): Kind&lt;OptionalKind.Witness, A&gt;</text><ellipse cx="361.41" cy="381.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="358.1836" x="369.41" y="383.2402">narrow(kind: Kind&lt;OptionalKind.Witness, A&gt;): java.util.Optional&lt;A&gt;</text></g><!--class OptionalMonad--><g id="elem_OptionalMonad"><rect codeLine="28" fill="#24273A" height="46" id="OptionalMonad" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="138.5156" x="472.74" y="189"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="138.5156" x="472.74" y="189"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="138.5156" x="472.74" y="217.5"/><rect codeLine="28" fill="none" height="46" id="OptionalMonad" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="138.5156" x="472.74" y="189"/><ellipse cx="486.74" cy="204" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M488.574,208.248 Q488.1638,208.459 487.7127,208.5645 Q487.2615,208.6699 486.7634,208.6699 Q484.9939,208.6699 484.0623,207.5039 Q483.1306,206.3379 483.1306,204.1348 Q483.1306,201.9258 484.0623,200.7598 Q484.9939,199.5938 486.7634,199.5938 Q487.2615,199.5938 487.7185,199.6992 Q488.1755,199.8047 488.574,200.0156 L488.574,201.9375 Q488.1287,201.5273 487.7097,201.3369 Q487.2908,201.1465 486.8455,201.1465 Q485.8963,201.1465 485.4129,201.8994 Q484.9295,202.6523 484.9295,204.1348 Q484.9295,205.6113 485.4129,206.3643 Q485.8963,207.1172 486.8455,207.1172 Q487.2908,207.1172 487.7097,206.9268 Q488.1287,206.7363 488.574,206.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="108.5156" x="499.74" y="208.3203">OptionalMonad</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="473.74" x2="610.2556" y1="219" y2="219"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="473.74" x2="610.2556" y1="227" y2="227"/></g><!--class MonadError--><g id="elem_MonadError"><rect fill="#24273A" height="46" id="MonadError" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="114.4766" x="484.76" y="76"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="114.4766" x="484.76" y="76"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="114.4766" x="484.76" y="104.5"/><rect fill="none" height="46" id="MonadError" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="114.4766" x="484.76" y="76"/><ellipse cx="498.76" cy="91" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M495.7678,88.2754 L495.7678,86.752 L500.9768,86.752 L500.9768,88.2754 L499.2366,88.2754 L499.2366,93.9766 L500.9768,93.9766 L500.9768,95.5 L495.7678,95.5 L495.7678,93.9766 L497.508,93.9766 L497.508,88.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="84.4766" x="511.76" y="95.3203">MonadError</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="485.76" x2="598.2366" y1="106" y2="106"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="485.76" x2="598.2366" y1="114" y2="114"/></g><!--class OptionalHolder--><g id="elem_OptionalHolder"><rect codeLine="16" fill="#24273A" height="58" id="OptionalHolder" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="247.123" x="70.44" y="464"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="247.123" x="70.44" y="464"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="247.123" x="70.44" y="492.5"/><rect codeLine="16" fill="none" height="58" id="OptionalHolder" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="247.123" x="70.44" y="464"/><ellipse cx="130.6363" cy="479" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M132.4703,483.248 Q132.0601,483.459 131.6089,483.5645 Q131.1578,483.6699 130.6597,483.6699 Q128.8902,483.6699 127.9586,482.5039 Q127.0269,481.3379 127.0269,479.1348 Q127.0269,476.9258 127.9586,475.7598 Q128.8902,474.5938 130.6597,474.5938 Q131.1578,474.5938 131.6148,474.6992 Q132.0718,474.8047 132.4703,475.0156 L132.4703,476.9375 Q132.025,476.5273 131.606,476.3369 Q131.1871,476.1465 130.7418,476.1465 Q129.7925,476.1465 129.3091,476.8994 Q128.8257,477.6523 128.8257,479.1348 Q128.8257,480.6113 129.3091,481.3643 Q129.7925,482.1172 130.7418,482.1172 Q131.1871,482.1172 131.606,481.9268 Q132.025,481.7363 132.4703,481.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="106.7266" x="149.6363" y="483.3203">OptionalHolder</text><rect fill="#24273A" height="14" style="stroke:#C6A0F6;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="10.0039" x="310.5591" y="461"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="8.0039" x="311.5591" y="471.2402">A</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="71.44" x2="316.563" y1="494" y2="494"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="71.44" x2="316.563" y1="502" y2="502"/><ellipse cx="81.44" cy="513.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="222.123" x="89.44" y="515.2402">OptionalHolder(opt: java.util.Optional&lt;A&gt;)</text></g><!--class OptionalKindInterface--><g id="elem_OptionalKindInterface"><rect fill="#24273A" height="46" id="OptionalKindInterface" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="183.875" x="102.06" y="332"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="183.875" x="102.06" y="332"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="183.875" x="102.06" y="360.5"/><rect fill="none" height="46" id="OptionalKindInterface" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="183.875" x="102.06" y="332"/><ellipse cx="116.06" cy="347" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M113.0678,344.2754 L113.0678,342.752 L118.2768,342.752 L118.2768,344.2754 L116.5366,344.2754 L116.5366,349.9766 L118.2768,349.9766 L118.2768,351.5 L113.0678,351.5 L113.0678,349.9766 L114.808,349.9766 L114.808,344.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="153.875" x="129.06" y="351.3203">OptionalKindInterface</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="103.06" x2="284.935" y1="362" y2="362"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="103.06" x2="284.935" y1="370" y2="370"/></g><!--class IdKindInterface--><g id="elem_IdKindInterface"><rect codeLine="35" fill="#24273A" height="58" id="IdKindInterface" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="265.7344" x="790.13" y="326"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="265.7344" x="790.13" y="326"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="265.7344" x="790.13" y="354.5"/><rect codeLine="35" fill="none" height="58" id="IdKindInterface" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="265.7344" x="790.13" y="326"/><ellipse cx="890.3116" cy="341" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M887.3195,338.2754 L887.3195,336.752 L892.5284,336.752 L892.5284,338.2754 L890.7882,338.2754 L890.7882,343.9766 L892.5284,343.9766 L892.5284,345.5 L887.3195,345.5 L887.3195,343.9766 L889.0597,343.9766 L889.0597,338.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="45.3672" x="909.3116" y="345.3203">IdKind</text><rect fill="#24273A" height="14" style="stroke:#C6A0F6;stroke-width:1.0;stroke-dasharray:2.0,2.0;" width="10.0039" x="1048.8605" y="323"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="8.0039" x="1049.8605" y="333.2402">A</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="791.13" x2="1054.8644" y1="356" y2="356"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="253.7344" x="796.13" y="369.2402">class Witness {} ' Nested phantom Witness type</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="791.13" x2="1054.8644" y1="376" y2="376"/></g><!--class Kind--><g id="elem_Kind"><rect fill="#24273A" height="46" id="Kind" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="62.0234" x="891.99" y="189"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="62.0234" x="891.99" y="189"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="62.0234" x="891.99" y="217.5"/><rect fill="none" height="46" id="Kind" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="62.0234" x="891.99" y="189"/><ellipse cx="905.99" cy="204" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M902.9978,201.2754 L902.9978,199.752 L908.2068,199.752 L908.2068,201.2754 L906.4666,201.2754 L906.4666,206.9766 L908.2068,206.9766 L908.2068,208.5 L902.9978,208.5 L902.9978,206.9766 L904.738,206.9766 L904.738,201.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="32.0234" x="918.99" y="208.3203">Kind</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="892.99" x2="953.0134" y1="219" y2="219"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="892.99" x2="953.0134" y1="227" y2="227"/></g><!--class IdRecord--><g id="elem_IdRecord"><rect codeLine="39" fill="#24273A" height="46" id="IdRecord" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="141.1719" x="852.41" y="470"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="141.1719" x="852.41" y="470"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="141.1719" x="852.41" y="498.5"/><rect codeLine="39" fill="none" height="46" id="IdRecord" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="141.1719" x="852.41" y="470"/><ellipse cx="866.41" cy="485" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M868.244,489.248 Q867.8338,489.459 867.3827,489.5645 Q866.9315,489.6699 866.4334,489.6699 Q864.6639,489.6699 863.7323,488.5039 Q862.8006,487.3379 862.8006,485.1348 Q862.8006,482.9258 863.7323,481.7598 Q864.6639,480.5938 866.4334,480.5938 Q866.9315,480.5938 867.3885,480.6992 Q867.8455,480.8047 868.244,481.0156 L868.244,482.9375 Q867.7987,482.5273 867.3797,482.3369 Q866.9608,482.1465 866.5155,482.1465 Q865.5663,482.1465 865.0829,482.8994 Q864.5995,483.6523 864.5995,485.1348 Q864.5995,486.6113 865.0829,487.3643 Q865.5663,488.1172 866.5155,488.1172 Q866.9608,488.1172 867.3797,487.9268 Q867.7987,487.7363 868.244,487.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="111.1719" x="879.41" y="489.3203">Id&lt;A&gt;(value: A)</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="853.41" x2="992.5819" y1="500" y2="500"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="853.41" x2="992.5819" y1="508" y2="508"/></g><!--class IdKindHelper--><g id="elem_IdKindHelper"><rect codeLine="43" fill="#24273A" height="70" id="IdKindHelper" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="245.7695" x="1091.12" y="320"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="245.7695" x="1091.12" y="320"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="245.7695" x="1091.12" y="348.5"/><rect codeLine="43" fill="none" height="70" id="IdKindHelper" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="245.7695" x="1091.12" y="320"/><ellipse cx="1163.7548" cy="335" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M1165.5888,339.248 Q1165.1786,339.459 1164.7274,339.5645 Q1164.2763,339.6699 1163.7782,339.6699 Q1162.0087,339.6699 1161.077,338.5039 Q1160.1454,337.3379 1160.1454,335.1348 Q1160.1454,332.9258 1161.077,331.7598 Q1162.0087,330.5938 1163.7782,330.5938 Q1164.2763,330.5938 1164.7333,330.6992 Q1165.1903,330.8047 1165.5888,331.0156 L1165.5888,332.9375 Q1165.1434,332.5273 1164.7245,332.3369 Q1164.3055,332.1465 1163.8602,332.1465 Q1162.911,332.1465 1162.4276,332.8994 Q1161.9442,333.6523 1161.9442,335.1348 Q1161.9442,336.6113 1162.4276,337.3643 Q1162.911,338.1172 1163.8602,338.1172 Q1164.3055,338.1172 1164.7245,337.9268 Q1165.1434,337.7363 1165.5888,337.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="92.5" x="1182.7548" y="339.3203">IdKindHelper</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1092.12" x2="1335.8895" y1="350" y2="350"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1092.12" x2="1335.8895" y1="358" y2="358"/><ellipse cx="1102.12" cy="369.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="202.7695" x="1110.12" y="371.2402">widen(id: Id&lt;A&gt;): Kind&lt;Id.Witness, A&gt;</text><ellipse cx="1102.12" cy="381.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="220.7695" x="1110.12" y="383.2402">narrow(kind: Kind&lt;Id.Witness, A&gt;): Id&lt;A&gt;</text></g><!--class IdentityMonad--><g id="elem_IdentityMonad"><rect codeLine="49" fill="#24273A" height="46" id="IdentityMonad" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="130.5078" x="1148.75" y="189"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="130.5078" x="1148.75" y="189"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="130.5078" x="1148.75" y="217.5"/><rect codeLine="49" fill="none" height="46" id="IdentityMonad" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="130.5078" x="1148.75" y="189"/><ellipse cx="1162.75" cy="204" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M1164.584,208.248 Q1164.1738,208.459 1163.7227,208.5645 Q1163.2715,208.6699 1162.7734,208.6699 Q1161.0039,208.6699 1160.0723,207.5039 Q1159.1406,206.3379 1159.1406,204.1348 Q1159.1406,201.9258 1160.0723,200.7598 Q1161.0039,199.5938 1162.7734,199.5938 Q1163.2715,199.5938 1163.7285,199.6992 Q1164.1855,199.8047 1164.584,200.0156 L1164.584,201.9375 Q1164.1387,201.5273 1163.7197,201.3369 Q1163.3008,201.1465 1162.8555,201.1465 Q1161.9063,201.1465 1161.4229,201.8994 Q1160.9395,202.6523 1160.9395,204.1348 Q1160.9395,205.6113 1161.4229,206.3643 Q1161.9063,207.1172 1162.8555,207.1172 Q1163.3008,207.1172 1163.7197,206.9268 Q1164.1387,206.7363 1164.584,206.3262 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="100.5078" x="1175.75" y="208.3203">IdentityMonad</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1149.75" x2="1278.2578" y1="219" y2="219"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1149.75" x2="1278.2578" y1="227" y2="227"/></g><!--class Monad--><g id="elem_Monad"><rect fill="#24273A" height="46" id="Monad" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="78.9219" x="1174.54" y="76"/><rect fill="#363A4F" height="30" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="78.9219" x="1174.54" y="76"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2.0;" width="78.9219" x="1174.54" y="104.5"/><rect fill="none" height="46" id="Monad" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2.0;" width="78.9219" x="1174.54" y="76"/><ellipse cx="1188.54" cy="91" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1.0;"/><path d="M1185.5478,88.2754 L1185.5478,86.752 L1190.7568,86.752 L1190.7568,88.2754 L1189.0166,88.2754 L1189.0166,93.9766 L1190.7568,93.9766 L1190.7568,95.5 L1185.5478,95.5 L1185.5478,93.9766 L1187.288,93.9766 L1187.288,88.2754 Z " fill="#CAD3F5"/><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="48.9219" x="1201.54" y="95.3203">Monad</text><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1175.54" x2="1252.4619" y1="106" y2="106"/><line style="stroke:#C6A0F6;stroke-width:2.0;" x1="1175.54" x2="1252.4619" y1="114" y2="114"/></g><!--reverse link Kind to OptionalKindInterface--><g id="link_Kind_OptionalKindInterface"><path d="M242,140.46 C242,157.82 242,163.96 242,182.64 " fill="none" id="Kind-backto-OptionalKindInterface" style="stroke:#F5BDE6;stroke-width:1.0;"/><polygon fill="none" points="242,122.46,236,140.46,248,140.46,242,122.46" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--reverse link OptionalKindInterface to OptionalHolder--><g id="link_OptionalKindInterface_OptionalHolder"><path d="M194,396.46 C194,419.85 194,438.54 194,463.85 " fill="none" id="OptionalKindInterface-backto-OptionalHolder" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="194,378.46,188,396.46,200,396.46,194,378.46" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--link OptionalKindHelper to OptionalHolder--><g id="link_OptionalKindHelper_OptionalHolder"><path codeLine="20" d="M453.74,390.49 C395.94,413.08 326.9183,440.0558 272.4983,461.3258 " fill="none" id="OptionalKindHelper-to-OptionalHolder" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#F5BDE6" points="266.91,463.51,276.7486,463.9593,271.5669,461.6898,273.8364,456.5082,266.91,463.51" style="stroke:#F5BDE6;stroke-width:1.0;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="74.7012" x="369" y="430.2402">creates / uses</text></g><!--link OptionalKindHelper to JavaOptional--><g id="link_OptionalKindHelper_JavaOptional"><path codeLine="21" d="M522.03,390.24 C489.96,445.21 430.9033,546.4574 403.9933,592.5874 " fill="none" id="OptionalKindHelper-to-JavaOptional" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#F5BDE6" points="400.97,597.77,408.96,592.0116,403.4894,593.4511,402.0499,587.9805,400.97,597.77" style="stroke:#F5BDE6;stroke-width:1.0;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="90.0352" x="478.78" y="496.2402">widens / narrows</text></g><!--link OptionalHolder to JavaOptional--><g id="link_OptionalHolder_JavaOptional"><path codeLine="22" d="M237.54,522.28 C272.62,545.06 316.2281,573.3819 348.6081,594.4119 " fill="none" id="OptionalHolder-to-JavaOptional" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#F5BDE6" points="353.64,597.68,348.2709,589.4233,349.4468,594.9566,343.9135,596.1325,353.64,597.68" style="stroke:#F5BDE6;stroke-width:1.0;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="28.6875" x="303.62" y="564.2402">holds</text></g><!--reverse link MonadError to OptionalMonad--><g id="link_MonadError_OptionalMonad"><path d="M542,140.46 C542,159.72 542,169.32 542,188.57 " fill="none" id="MonadError-backto-OptionalMonad" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="542,122.46,536,140.46,548,140.46,542,122.46" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--link OptionalMonad to OptionalKindHelper--><g id="link_OptionalMonad_OptionalKindHelper"><path codeLine="31" d="M542,235.34 C542,258.02 542,287.42 542,313.66 " fill="none" id="OptionalMonad-to-OptionalKindHelper" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#F5BDE6" points="542,319.66,546,310.66,542,314.66,538,310.66,542,319.66" style="stroke:#F5BDE6;stroke-width:1.0;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="25.3477" x="543" y="281.2402">uses</text></g><!--reverse link Kind to IdKindInterface--><g id="link_Kind_IdKindInterface"><path d="M923,253.34 C923,277.8 923,299.08 923,325.68 " fill="none" id="Kind-backto-IdKindInterface" style="stroke:#F5BDE6;stroke-width:1.0;"/><polygon fill="none" points="923,235.34,917,253.34,929,253.34,923,235.34" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--reverse link IdKindInterface to IdRecord--><g id="link_IdKindInterface_IdRecord"><path d="M909.8281,402.0322 C906.5581,427.3922 909.15,446.32 912.98,469.69 " fill="none" id="IdKindInterface-backto-IdRecord" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="912.13,384.18,903.8773,401.2649,915.7788,402.7995,912.13,384.18" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--link IdRecord to IdKindInterface--><g id="link_IdRecord_IdKindInterface"><path codeLine="41" d="M933.02,469.69 C936.85,446.32 939.4419,427.3922 936.1719,402.0322 " fill="none" id="IdRecord-to-IdKindInterface" style="stroke:#F5BDE6;stroke-width:1.0;"/><polygon fill="none" points="933.87,384.18,930.2212,402.7995,942.1227,401.2649,933.87,384.18" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--link IdKindHelper to IdRecord--><g id="link_IdKindHelper_IdRecord"><path codeLine="47" d="M1140.19,390.49 C1086.98,415.36 1022.1556,445.6595 976.1556,467.1595 " fill="none" id="IdKindHelper-to-IdRecord" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#F5BDE6" points="970.72,469.7,980.5671,469.5129,975.2497,467.5829,977.1797,462.2655,970.72,469.7" style="stroke:#F5BDE6;stroke-width:1.0;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="68.6836" x="1069.5" y="430.2402">casts to/from</text></g><!--reverse link Monad to IdentityMonad--><g id="link_Monad_IdentityMonad"><path d="M1214,140.46 C1214,159.72 1214,169.32 1214,188.57 " fill="none" id="Monad-backto-IdentityMonad" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="1214,122.46,1208,140.46,1220,140.46,1214,122.46" style="stroke:#F5BDE6;stroke-width:1.0;"/></g><!--link IdentityMonad to IdKindHelper--><g id="link_IdentityMonad_IdKindHelper"><path codeLine="52" d="M1214,235.34 C1214,258.02 1214,287.42 1214,313.66 " fill="none" id="IdentityMonad-to-IdKindHelper" style="stroke:#F5BDE6;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#F5BDE6" points="1214,319.66,1218,310.66,1214,314.66,1210,310.66,1214,319.66" style="stroke:#F5BDE6;stroke-width:1.0;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="25.3477" x="1215" y="281.2402">uses</text></g><!--SRC=[jLHHRvim47xdLznuIQ86U8-gI9NQgMphEasjzdmrJkCLRCi-caOP_tq60W42hJHfUOWIs_VTTz_TTv-4P6cUSDWIQRkA8eExy5dGDd_ABJTCIUAIGgQoI39b2GF18eQaTSwOa466Z6q5aWfqYfBoB0reopCUPIXaLFqCjJlrF4yZUy5d3lurt-IIaL0IKs6n_04_a8WR2TUSKAJMXuC7xiDIj1Q-2fayofr1VVF6k2u3lEgwXVoi3DoybGYOmiDUSmlpUrsd04viqG2M7-5gCXjaBgvvKsQul5hxW1QwPt7xb3jqcTHSBhjFmb-29BTs2LVhJf8J- -Cz70gOmNTkYIUWjquibRLtv2YteONN1_1_uok6EOaqR18tNB-ucxREG-6raREsZ5kL9jo0i82oBhryApATkjv8gkLFAjb1RNhLt_9KSzDYjcetAFvelNu_yr3MXaz3O4hmFZHS303cIjCAHfLPz2AB4LtFYuGmN0yfhi1dXYEvOOh0kS7w7m7qsk72ToBXieoMQ8pQZG0SKuq5RzsLY_0cr3sbFflQ8wE-WXTmi6MtMG4LhVS4NBq_vbEuTPNp5_Vy0uJ5HEPf3pIFxjnNqgkuEkdEKtLmuwYOYVoFKj3GgpDuT1r-R_pFnwVEt9sSZlgkWwUPAKRsrJVnPD3i0xSEXNGxuRYsucG9TxX_uak8xvVmO53QZJ8PDtPgYyL9Tt_L_oOsL_nVzzNC9NSqG93bwQRRavRYiAzLmFmLqvolu6fnhE0dPyeavm1Zw-6KleqBWZ_hOOHtddbWeUx1H-OHRi8hwerNudzqI3pqHPoC-w37hfovjjfoJw5r6f6ADaPb_aYfJaD1-vDvUYTdvkcmcl19byqesIvypNRQ6yLV]--></g></svg>