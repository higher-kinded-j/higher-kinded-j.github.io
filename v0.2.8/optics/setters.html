<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Setters - Higher-Kinded-J: Composable Effects and Advanced Optics for Java</title>


        <!-- Custom HTML head -->


            <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">


        <meta name="keywords" content="Higher-Kinded Types, Higher-Kinded-J, HKT, Java, Optics, Lens, Prism, Traversal, Iso, Affine, Focus DSL, Effect Path API, Functional Programming, Monad, Functor, Applicative, EitherPath, MaybePath, TryPath, ValidationPath, Java Records, Sealed Interface, Error Handling, Immutable Data">
        
        <meta property="og:title" content="Setters - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
            <meta property="og:description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://higher-kinded-j.github.io/">
        <meta property="og:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta property="og:site_name" content="Higher-Kinded-J Documentation">
        <meta property="og:locale" content="en_GB">
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Setters - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="twitter:description" content="Unifying Composable Effects and Advanced Optics for Java. Effect Path API, Focus DSL, and the most comprehensive optics implementation in the Java ecosystem.">
        <meta name="twitter:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta name="twitter:image:alt" content="Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">
        <meta name="google-site-verification" content="X-xsiAq2cKMLOzh9dexUrX8Onx2h_YMUFgp5lHHUwSg" />
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin.css">
        <link rel="stylesheet" href=".././theme/catppuccin-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin-alerts.css">
        <link rel="stylesheet" href=".././theme/additional-hkj.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappé</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        <div class="version-selector-container">
                            <select id="version-selector" class="version-selector" aria-label="Select documentation version" title="Select documentation version">
                                <option value="">Loading versions...</option>
                            </select>
                        </div>
                    </div>

                    <h1 class="menu-title">Higher-Kinded-J: Composable Effects and Advanced Optics for Java</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j/edit/main/hkj-book/src/optics/setters.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.mdbook-alerts {
  padding: 8px 16px;
  margin-bottom: 16px;
  border-left: 0.25em solid var(--mdbook-alerts-color);
}

.mdbook-alerts > *:first-child {
  margin-top: 0;
}

.mdbook-alerts > *:last-child {
  margin-bottom: 0;
}

.mdbook-alerts-title {
  display: flex;
  font-weight: 600;
  align-items: center;
  line-height: 1;
  color: var(--mdbook-alerts-color);
  text-transform: capitalize;
}

.mdbook-alerts-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  margin-right: 0.2em;
  background-color: currentColor;
  -webkit-mask: no-repeat center / 100%;
  mask: no-repeat center / 100%;
  -webkit-mask-image: var(--mdbook-alerts-icon);
  mask-image: var(--mdbook-alerts-icon);
}

.mdbook-alerts-note {
  --mdbook-alerts-color: rgb(9, 105, 218);
  /* https://icon-sets.iconify.design/material-symbols/info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11q-.425 0-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-tip {
  --mdbook-alerts-color: rgb(26, 127, 55);
  /* https://icon-sets.iconify.design/material-symbols/lightbulb-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 22q-.825 0-1.412-.587T10 20h4q0 .825-.587 1.413T12 22m-3-3q-.425 0-.712-.288T8 18q0-.425.288-.712T9 17h6q.425 0 .713.288T16 18q0 .425-.288.713T15 19zm-.75-3q-1.725-1.025-2.738-2.75T4.5 9.5q0-3.125 2.188-5.312T12 2q3.125 0 5.313 2.188T19.5 9.5q0 2.025-1.012 3.75T15.75 16zm.6-2h6.3q1.125-.8 1.738-1.975T17.5 9.5q0-2.3-1.6-3.9T12 4Q9.7 4 8.1 5.6T6.5 9.5q0 1.35.613 2.525T8.85 14M12 14"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-important {
  --mdbook-alerts-color: rgb(130, 80, 223);
  /* https://icon-sets.iconify.design/material-symbols/chat-info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 7q.425 0 .713-.288T13 6q0-.425-.288-.712T12 5q-.425 0-.712.288T11 6q0 .425.288.713T12 7m0 8q.425 0 .713-.288T13 14v-4q0-.425-.288-.712T12 9q-.425 0-.712.288T11 10v4q0 .425.288.713T12 15m-6 3l-2.3 2.3q-.475.475-1.088.213T2 19.575V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm-.85-2H20V4H4v13.125zM4 16V4z"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-warning {
  --mdbook-alerts-color: rgb(154, 103, 0);
  /* https://icon-sets.iconify.design/material-symbols/warning-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zm1.725-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15m0-2.5"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-caution {
  --mdbook-alerts-color: rgb(207, 34, 46);
  /* https://icon-sets.iconify.design/material-symbols/brightness-alert-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m0-4q.425 0 .713-.288T13 12V8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8v4q0 .425.288.713T12 13m-3.35 7H6q-.825 0-1.412-.587T4 18v-2.65L2.075 13.4q-.275-.3-.425-.662T1.5 12q0-.375.15-.737t.425-.663L4 8.65V6q0-.825.588-1.412T6 4h2.65l1.95-1.925q.3-.275.663-.425T12 1.5q.375 0 .738.15t.662.425L15.35 4H18q.825 0 1.413.588T20 6v2.65l1.925 1.95q.275.3.425.663t.15.737q0 .375-.15.738t-.425.662L20 15.35V18q0 .825-.587 1.413T18 20h-2.65l-1.95 1.925q-.3.275-.662.425T12 22.5q-.375 0-.737-.15t-.663-.425zm.85-2l2.5 2.5l2.5-2.5H18v-3.5l2.5-2.5L18 9.5V6h-3.5L12 3.5L9.5 6H6v3.5L3.5 12L6 14.5V18zm2.5-6"%2F%3E%3C%2Fsvg%3E');
}

</style>
<h1 id="setters-a-practical-guide"><a class="header" href="#setters-a-practical-guide">Setters: A Practical Guide</a></h1>
<h2 id="composable-write-only-modifications"><a class="header" href="#composable-write-only-modifications"><em>Composable Write-Only Modifications</em></a></h2>
<div id="admonition-what-youll-learn" class="admonition admonish-info" role="note" aria-labelledby="admonition-what-youll-learn-title">
<div class="admonition-title">
<div id="admonition-what-youll-learn-title">
<p>What You'll Learn</p>
</div>
<a class="admonition-anchor-link" href="#admonition-what-youll-learn"></a>
</div>
<div>
<ul>
<li>How to modify data structures using composable, write-only optics</li>
<li>Using <code>@GenerateSetters</code> to create type-safe modifiers automatically</li>
<li>Understanding the relationship between Setter and Traversal</li>
<li>Creating modification pipelines without read access</li>
<li>Effectful modifications using Applicative contexts</li>
<li>Factory methods: <code>of</code>, <code>fromGetSet</code>, <code>forList</code>, <code>forMapValues</code>, <code>identity</code></li>
<li>When to use Setter vs Lens vs Traversal</li>
<li>Building batch update and normalisation pipelines</li>
</ul>
</div>
</div>
<div id="admonition-example-code" class="admonition admonish-note" role="note" aria-labelledby="admonition-example-code-title">
<div class="admonition-title">
<div id="admonition-example-code-title">
<p>Example Code</p>
</div>
<a class="admonition-anchor-link" href="#admonition-example-code"></a>
</div>
<div>
<p><a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/main/java/org/higherkindedj/example/optics/SetterUsageExample.java">SetterUsageExample</a></p>
</div>
</div>
<p>In the previous guide, we explored <strong><code>Getter</code></strong> for composable read-only access. Now we turn to its dual: <strong><code>Setter</code></strong>, a write-only optic that modifies data without necessarily reading it first.</p>
<p>A <strong><code>Setter</code></strong> is an optic that focuses on transforming elements within a structure. Unlike a <code>Lens</code>, which provides both getting and setting, a <code>Setter</code> concentrates solely on modification, making it ideal for batch updates, data normalisation, and transformation pipelines where read access isn't required.</p>
<hr />
<h2 id="the-scenario-user-management-system"><a class="header" href="#the-scenario-user-management-system">The Scenario: User Management System</a></h2>
<p>Consider a user management system where you need to perform various modifications:</p>
<p><strong>The Data Model:</strong></p>
<pre><code class="language-java">@GenerateSetters
public record User(String username, String email, int loginCount, UserSettings settings) {}

@GenerateSetters
public record UserSettings(
    String theme, boolean notifications, int fontSize, Map&lt;String, String&gt; preferences) {}

@GenerateSetters
public record Product(String name, double price, int stock, List&lt;String&gt; tags) {}

@GenerateSetters
public record Inventory(List&lt;Product&gt; products, String warehouseId) {}
</code></pre>
<p><strong>Common Modification Needs:</strong></p>
<ul>
<li>"Normalise all usernames to lowercase"</li>
<li>"Increment login count after authentication"</li>
<li>"Apply 10% discount to all products"</li>
<li>"Restock all items by 10 units"</li>
<li>"Convert all product names to title case"</li>
<li>"Set all user themes to dark mode"</li>
</ul>
<p>A <code>Setter</code> makes these modifications type-safe, composable, and expressive.</p>
<hr />
<h2 id="think-of-setters-like"><a class="header" href="#think-of-setters-like">Think of Setters Like...</a></h2>
<ul>
<li><strong>A functional modifier</strong>: Transforming values without reading</li>
<li><strong>A write-only lens</strong>: Focusing on modification only</li>
<li><strong>A batch transformer</strong>: Applying changes to multiple elements</li>
<li><strong>A data normalisation tool</strong>: Standardising formats across structures</li>
<li><strong>A pipeline stage</strong>: Composable modification steps</li>
</ul>
<hr />
<h2 id="setter-vs-lens-vs-traversal-understanding-the-differences"><a class="header" href="#setter-vs-lens-vs-traversal-understanding-the-differences">Setter vs Lens vs Traversal: Understanding the Differences</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Aspect</th><th>Setter</th><th>Lens</th><th>Traversal</th></tr></thead><tbody>
<tr><td><strong>Focus</strong></td><td>One or more elements</td><td>Exactly one element</td><td>Zero or more elements</td></tr>
<tr><td><strong>Can read?</strong></td><td>No (typically)</td><td>Yes</td><td>Yes</td></tr>
<tr><td><strong>Can modify?</strong></td><td>Yes</td><td>Yes</td><td>Yes</td></tr>
<tr><td><strong>Core operations</strong></td><td><code>modify</code>, <code>set</code></td><td><code>get</code>, <code>set</code>, <code>modify</code></td><td><code>modifyF</code>, <code>getAll</code></td></tr>
<tr><td><strong>Use case</strong></td><td>Write-only pipelines</td><td>Read-write field access</td><td>Collection traversals</td></tr>
<tr><td><strong>Intent</strong></td><td>"Transform these values"</td><td>"Get or set this field"</td><td>"Update all these elements"</td></tr>
</tbody></table>
</div>
<p><strong>Key Insight</strong>: A <code>Setter</code> can be viewed as the write-only half of a <code>Lens</code>. It extends <code>Optic</code>, enabling composition with other optics and supporting effectful modifications via <code>modifyF</code>. Choose <code>Setter</code> when you want to emphasise write-only intent or when read access isn't needed.</p>
<hr />
<h2 id="a-step-by-step-walkthrough"><a class="header" href="#a-step-by-step-walkthrough">A Step-by-Step Walkthrough</a></h2>
<h3 id="step-1-creating-setters"><a class="header" href="#step-1-creating-setters">Step 1: Creating Setters</a></h3>
<h4 id="using-generatesetters-annotation"><a class="header" href="#using-generatesetters-annotation">Using <code>@GenerateSetters</code> Annotation</a></h4>
<p>Annotating a record with <strong><code>@GenerateSetters</code></strong> creates a companion class (e.g., <code>UserSetters</code>) containing a <code>Setter</code> for each field:</p>
<pre><code class="language-java">import org.higherkindedj.optics.annotations.GenerateSetters;

@GenerateSetters
public record User(String username, String email, int loginCount, UserSettings settings) {}
</code></pre>
<p>This generates:</p>
<ul>
<li><code>UserSetters.username()</code> → <code>Setter&lt;User, String&gt;</code></li>
<li><code>UserSetters.email()</code> → <code>Setter&lt;User, String&gt;</code></li>
<li><code>UserSetters.loginCount()</code> → <code>Setter&lt;User, Integer&gt;</code></li>
<li><code>UserSetters.settings()</code> → <code>Setter&lt;User, UserSettings&gt;</code></li>
</ul>
<p>Plus convenience methods:</p>
<ul>
<li><code>UserSetters.withUsername(user, newUsername)</code> → <code>User</code></li>
<li><code>UserSetters.withEmail(user, newEmail)</code> → <code>User</code></li>
<li>etc.</li>
</ul>
<h4 id="customising-the-generated-package"><a class="header" href="#customising-the-generated-package">Customising the Generated Package</a></h4>
<p>By default, generated classes are placed in the same package as the annotated record. You can specify a different package using the <code>targetPackage</code> attribute:</p>
<pre><code class="language-java">// Generated class will be placed in org.example.generated.optics
@GenerateSetters(targetPackage = "org.example.generated.optics")
public record User(String username, String email, int loginCount, UserSettings settings) {}
</code></pre>
<p>This is useful when you need to avoid name collisions or organise generated code separately.</p>
<h4 id="using-factory-methods"><a class="header" href="#using-factory-methods">Using Factory Methods</a></h4>
<p>Create Setters programmatically:</p>
<pre><code class="language-java">// Using fromGetSet for single-element focus
Setter&lt;User, String&gt; usernameSetter = Setter.fromGetSet(
    User::username,
    (user, newUsername) -&gt; new User(newUsername, user.email(), user.loginCount(), user.settings()));

// Using of for transformation-based definition
Setter&lt;Person, String&gt; nameSetter = Setter.of(
    f -&gt; person -&gt; new Person(f.apply(person.name()), person.age()));

// Built-in collection setters
Setter&lt;List&lt;Integer&gt;, Integer&gt; listSetter = Setter.forList();
Setter&lt;Map&lt;String, Double&gt;, Double&gt; mapValuesSetter = Setter.forMapValues();
</code></pre>
<h3 id="step-2-core-setter-operations"><a class="header" href="#step-2-core-setter-operations">Step 2: Core Setter Operations</a></h3>
<h4 id="modifyfunction-source-transform-the-focused-value"><a class="header" href="#modifyfunction-source-transform-the-focused-value"><strong><code>modify(function, source)</code></strong>: Transform the Focused Value</a></h4>
<p>Applies a function to modify the focused element:</p>
<pre><code class="language-java">Setter&lt;User, String&gt; usernameSetter = Setter.fromGetSet(
    User::username,
    (u, name) -&gt; new User(name, u.email(), u.loginCount(), u.settings()));

User user = new User("JOHN_DOE", "john@example.com", 10, settings);

// Transform username to lowercase
User normalised = usernameSetter.modify(String::toLowerCase, user);
// Result: User("john_doe", "john@example.com", 10, settings)

// Append suffix
User suffixed = usernameSetter.modify(name -&gt; name + "_admin", user);
// Result: User("JOHN_DOE_admin", "john@example.com", 10, settings)
</code></pre>
<h4 id="setvalue-source-replace-the-focused-value"><a class="header" href="#setvalue-source-replace-the-focused-value"><strong><code>set(value, source)</code></strong>: Replace the Focused Value</a></h4>
<p>Sets all focused elements to a specific value:</p>
<pre><code class="language-java">Setter&lt;User, Integer&gt; loginCountSetter = Setter.fromGetSet(
    User::loginCount,
    (u, count) -&gt; new User(u.username(), u.email(), count, u.settings()));

User user = new User("john", "john@example.com", 10, settings);
User reset = loginCountSetter.set(0, user);
// Result: User("john", "john@example.com", 0, settings)
</code></pre>
<h3 id="step-3-composing-setters"><a class="header" href="#step-3-composing-setters">Step 3: Composing Setters</a></h3>
<p>Chain Setters together for deep modifications:</p>
<pre><code class="language-java">Setter&lt;User, UserSettings&gt; settingsSetter = Setter.fromGetSet(
    User::settings,
    (u, s) -&gt; new User(u.username(), u.email(), u.loginCount(), s));

Setter&lt;UserSettings, String&gt; themeSetter = Setter.fromGetSet(
    UserSettings::theme,
    (s, theme) -&gt; new UserSettings(theme, s.notifications(), s.fontSize(), s.preferences()));

// Compose: User → UserSettings → String
Setter&lt;User, String&gt; userThemeSetter = settingsSetter.andThen(themeSetter);

User user = new User("john", "john@example.com", 10,
    new UserSettings("light", true, 14, Map.of()));

User darkModeUser = userThemeSetter.set("dark", user);
// Result: User with settings.theme = "dark"
</code></pre>
<h4 id="deep-composition-chain"><a class="header" href="#deep-composition-chain">Deep Composition Chain</a></h4>
<pre><code class="language-java">Setter&lt;User, UserSettings&gt; settingsSetter = /* ... */;
Setter&lt;UserSettings, Integer&gt; fontSizeSetter = /* ... */;

Setter&lt;User, Integer&gt; userFontSizeSetter = settingsSetter.andThen(fontSizeSetter);

User largerFont = userFontSizeSetter.modify(size -&gt; size + 2, user);
// Result: User with settings.fontSize increased by 2
</code></pre>
<h3 id="step-4-collection-setters"><a class="header" href="#step-4-collection-setters">Step 4: Collection Setters</a></h3>
<p>Higher-Kinded-J provides built-in Setters for collections:</p>
<h4 id="forlist-modify-all-list-elements"><a class="header" href="#forlist-modify-all-list-elements"><strong><code>forList()</code></strong>: Modify All List Elements</a></h4>
<pre><code class="language-java">Setter&lt;List&lt;Integer&gt;, Integer&gt; listSetter = Setter.forList();

List&lt;Integer&gt; numbers = List.of(1, 2, 3, 4, 5);

// Double all values
List&lt;Integer&gt; doubled = listSetter.modify(x -&gt; x * 2, numbers);
// Result: [2, 4, 6, 8, 10]

// Set all to same value
List&lt;Integer&gt; allZeros = listSetter.set(0, numbers);
// Result: [0, 0, 0, 0, 0]
</code></pre>
<h4 id="formapvalues-modify-all-map-values"><a class="header" href="#formapvalues-modify-all-map-values"><strong><code>forMapValues()</code></strong>: Modify All Map Values</a></h4>
<pre><code class="language-java">Setter&lt;Map&lt;String, Integer&gt;, Integer&gt; mapSetter = Setter.forMapValues();

Map&lt;String, Integer&gt; scores = Map.of("Alice", 85, "Bob", 90, "Charlie", 78);

// Add 5 points to all scores
Map&lt;String, Integer&gt; curved = mapSetter.modify(score -&gt; Math.min(100, score + 5), scores);
// Result: {Alice=90, Bob=95, Charlie=83}

// Reset all scores
Map&lt;String, Integer&gt; reset = mapSetter.set(0, scores);
// Result: {Alice=0, Bob=0, Charlie=0}
</code></pre>
<h3 id="step-5-nested-collection-setters"><a class="header" href="#step-5-nested-collection-setters">Step 5: Nested Collection Setters</a></h3>
<p>Compose Setters for complex nested modifications:</p>
<pre><code class="language-java">Setter&lt;Inventory, List&lt;Product&gt;&gt; productsSetter = Setter.fromGetSet(
    Inventory::products,
    (inv, prods) -&gt; new Inventory(prods, inv.warehouseId()));

Setter&lt;List&lt;Product&gt;, Product&gt; productListSetter = Setter.forList();

Setter&lt;Product, Double&gt; priceSetter = Setter.fromGetSet(
    Product::price,
    (p, price) -&gt; new Product(p.name(), price, p.stock(), p.tags()));

// Compose: Inventory → List&lt;Product&gt; → Product
Setter&lt;Inventory, Product&gt; allProductsSetter = productsSetter.andThen(productListSetter);

Inventory inventory = new Inventory(
    List.of(
        new Product("Laptop", 999.99, 50, List.of("electronics")),
        new Product("Keyboard", 79.99, 100, List.of("accessories")),
        new Product("Monitor", 299.99, 30, List.of("displays"))),
    "WH-001");

// Apply 10% discount to all products
Inventory discounted = allProductsSetter.modify(
    product -&gt; priceSetter.modify(price -&gt; price * 0.9, product),
    inventory);
// Result: All product prices reduced by 10%

// Restock all products
Setter&lt;Product, Integer&gt; stockSetter = Setter.fromGetSet(
    Product::stock,
    (p, stock) -&gt; new Product(p.name(), p.price(), stock, p.tags()));

Inventory restocked = allProductsSetter.modify(
    product -&gt; stockSetter.modify(stock -&gt; stock + 10, product),
    inventory);
// Result: All product stock increased by 10
</code></pre>
<h3 id="step-6-effectful-modifications"><a class="header" href="#step-6-effectful-modifications">Step 6: Effectful Modifications</a></h3>
<p>Setters support effectful modifications via <code>modifyF</code>, allowing you to compose modifications that might fail or have side effects:</p>
<pre><code class="language-java">Setter&lt;User, String&gt; usernameSetter = Setter.fromGetSet(
    User::username,
    (u, name) -&gt; new User(name, u.email(), u.loginCount(), u.settings()));

// Validation: username must be at least 3 characters and lowercase
Function&lt;String, Kind&lt;OptionalKind.Witness, String&gt;&gt; validateUsername = username -&gt; {
    if (username.length() &gt;= 3 &amp;&amp; username.matches("[a-z_]+")) {
        return OptionalKindHelper.OPTIONAL.widen(Optional.of(username));
    } else {
        return OptionalKindHelper.OPTIONAL.widen(Optional.empty());
    }
};

User validUser = new User("john_doe", "john@example.com", 10, settings);
Kind&lt;OptionalKind.Witness, User&gt; result =
    usernameSetter.modifyF(validateUsername, validUser, OptionalMonad.INSTANCE);

Optional&lt;User&gt; validated = OptionalKindHelper.OPTIONAL.narrow(result);
// Result: Optional[User with validated username]

User invalidUser = new User("ab", "a@test.com", 0, settings); // Too short
Kind&lt;OptionalKind.Witness, User&gt; invalidResult =
    usernameSetter.modifyF(validateUsername, invalidUser, OptionalMonad.INSTANCE);

Optional&lt;User&gt; invalidValidated = OptionalKindHelper.OPTIONAL.narrow(invalidResult);
// Result: Optional.empty (validation failed)
</code></pre>
<h4 id="sequencing-effects-in-collections"><a class="header" href="#sequencing-effects-in-collections">Sequencing Effects in Collections</a></h4>
<pre><code class="language-java">Setter&lt;List&lt;Integer&gt;, Integer&gt; listSetter = Setter.forList();

List&lt;Integer&gt; numbers = List.of(1, 2, 3);

Function&lt;Integer, Kind&lt;OptionalKind.Witness, Integer&gt;&gt; doubleIfPositive = n -&gt; {
    if (n &gt; 0) {
        return OptionalKindHelper.OPTIONAL.widen(Optional.of(n * 2));
    } else {
        return OptionalKindHelper.OPTIONAL.widen(Optional.empty());
    }
};

Kind&lt;OptionalKind.Witness, List&lt;Integer&gt;&gt; result =
    listSetter.modifyF(doubleIfPositive, numbers, OptionalMonad.INSTANCE);

Optional&lt;List&lt;Integer&gt;&gt; doubled = OptionalKindHelper.OPTIONAL.narrow(result);
// Result: Optional[[2, 4, 6]]

// With negative number (will fail)
List&lt;Integer&gt; withNegative = List.of(1, -2, 3);
Kind&lt;OptionalKind.Witness, List&lt;Integer&gt;&gt; failedResult =
    listSetter.modifyF(doubleIfPositive, withNegative, OptionalMonad.INSTANCE);

Optional&lt;List&lt;Integer&gt;&gt; failed = OptionalKindHelper.OPTIONAL.narrow(failedResult);
// Result: Optional.empty (validation failed on -2)
</code></pre>
<h3 id="step-7-converting-to-traversal"><a class="header" href="#step-7-converting-to-traversal">Step 7: Converting to Traversal</a></h3>
<p>Setters can be viewed as Traversals, enabling integration with other optics:</p>
<pre><code class="language-java">Setter&lt;User, String&gt; nameSetter = Setter.fromGetSet(
    User::username,
    (u, name) -&gt; new User(name, u.email(), u.loginCount(), u.settings()));

Traversal&lt;User, String&gt; nameTraversal = nameSetter.asTraversal();

// Now you can use Traversal operations
Function&lt;String, Kind&lt;OptionalKind.Witness, String&gt;&gt; toUpper =
    s -&gt; OptionalKindHelper.OPTIONAL.widen(Optional.of(s.toUpperCase()));

Kind&lt;OptionalKind.Witness, User&gt; result =
    nameTraversal.modifyF(toUpper, user, OptionalMonad.INSTANCE);
</code></pre>
<hr />
<h2 id="built-in-helper-setters"><a class="header" href="#built-in-helper-setters">Built-in Helper Setters</a></h2>
<h3 id="identity-modifies-the-source-itself"><a class="header" href="#identity-modifies-the-source-itself"><strong><code>identity()</code></strong>: Modifies the Source Itself</a></h3>
<pre><code class="language-java">Setter&lt;String, String&gt; identitySetter = Setter.identity();

String result = identitySetter.modify(String::toUpperCase, "hello");
// Result: "HELLO"

String replaced = identitySetter.set("world", "hello");
// Result: "world"
</code></pre>
<p>Useful as a base case in composition or for direct value transformation.</p>
<hr />
<h2 id="when-to-use-setter-vs-other-approaches"><a class="header" href="#when-to-use-setter-vs-other-approaches">When to Use Setter vs Other Approaches</a></h2>
<h3 id="use-setter-when"><a class="header" href="#use-setter-when">Use Setter When:</a></h3>
<ul>
<li>You need <strong>write-only access</strong> without reading</li>
<li>You're building <strong>batch transformation</strong> pipelines</li>
<li>You want <strong>clear modification intent</strong> in your code</li>
<li>You need <strong>effectful modifications</strong> with validation</li>
<li>You're performing <strong>data normalisation</strong> across structures</li>
</ul>
<pre><code class="language-java">// Good: Batch normalisation
Setter&lt;List&lt;String&gt;, String&gt; listSetter = Setter.forList();
List&lt;String&gt; normalised = listSetter.modify(String::trim, rawStrings);

// Good: Composable deep modification
Setter&lt;Company, String&gt; employeeNamesSetter = companySetter
    .andThen(employeesSetter)
    .andThen(personNameSetter);
</code></pre>
<h3 id="use-lens-when"><a class="header" href="#use-lens-when">Use Lens When:</a></h3>
<ul>
<li>You need <strong>both reading and writing</strong></li>
<li>You want to <strong>get and set</strong> the same field</li>
</ul>
<pre><code class="language-java">// Use Lens when you need to read
Lens&lt;User, String&gt; usernameLens = Lens.of(
    User::username,
    (u, name) -&gt; new User(name, u.email(), u.loginCount(), u.settings()));

String current = usernameLens.get(user); // Read
User updated = usernameLens.set("new_name", user); // Write
</code></pre>
<h3 id="use-traversal-when"><a class="header" href="#use-traversal-when">Use Traversal When:</a></h3>
<ul>
<li>You need <strong>read operations</strong> (<code>getAll</code>) on collections</li>
<li>You're working with <strong>optional</strong> or multiple focuses</li>
</ul>
<pre><code class="language-java">// Use Traversal when you need to extract values too
Traversal&lt;Order, Product&gt; productTraversal = /* ... */;
List&lt;Product&gt; all = Traversals.getAll(productTraversal, order); // Read
</code></pre>
<h3 id="use-direct-mutation-when"><a class="header" href="#use-direct-mutation-when">Use Direct Mutation When:</a></h3>
<ul>
<li>You're working with <strong>mutable objects</strong> (not recommended in FP)</li>
<li><strong>Performance</strong> is absolutely critical</li>
</ul>
<pre><code class="language-java">// Direct mutation (only for mutable objects)
user.setUsername("new_name"); // Avoid in functional programming
</code></pre>
<hr />
<h2 id="real-world-use-cases"><a class="header" href="#real-world-use-cases">Real-World Use Cases</a></h2>
<h3 id="data-normalisation-pipeline"><a class="header" href="#data-normalisation-pipeline">Data Normalisation Pipeline</a></h3>
<pre><code class="language-java">Setter&lt;List&lt;Product&gt;, Product&gt; productSetter = Setter.forList();
Setter&lt;Product, String&gt; nameSetter = Setter.fromGetSet(
    Product::name,
    (p, name) -&gt; new Product(name, p.price(), p.stock(), p.tags()));

Function&lt;String, String&gt; normalise = name -&gt; {
    String trimmed = name.trim();
    return trimmed.substring(0, 1).toUpperCase() +
           trimmed.substring(1).toLowerCase();
};

List&lt;Product&gt; rawProducts = List.of(
    new Product("  LAPTOP  ", 999.99, 50, List.of()),
    new Product("keyboard", 79.99, 100, List.of()),
    new Product("MONITOR", 299.99, 30, List.of()));

List&lt;Product&gt; normalised = productSetter.modify(
    product -&gt; nameSetter.modify(normalise, product),
    rawProducts);
// Result: [Product("Laptop", ...), Product("Keyboard", ...), Product("Monitor", ...)]
</code></pre>
<h3 id="currency-conversion"><a class="header" href="#currency-conversion">Currency Conversion</a></h3>
<pre><code class="language-java">Setter&lt;Product, Double&gt; priceSetter = /* ... */;
double exchangeRate = 0.92; // USD to EUR

List&lt;Product&gt; euroProducts = productSetter.modify(
    product -&gt; priceSetter.modify(price -&gt; price * exchangeRate, product),
    usdProducts);
</code></pre>
<h3 id="batch-user-updates"><a class="header" href="#batch-user-updates">Batch User Updates</a></h3>
<pre><code class="language-java">Setter&lt;List&lt;User&gt;, User&gt; usersSetter = Setter.forList();
Setter&lt;User, Integer&gt; loginCountSetter = /* ... */;

// Reset all login counts
List&lt;User&gt; resetUsers = usersSetter.modify(
    user -&gt; loginCountSetter.set(0, user),
    users);

// Increment all login counts
List&lt;User&gt; incremented = usersSetter.modify(
    user -&gt; loginCountSetter.modify(count -&gt; count + 1, user),
    users);
</code></pre>
<h3 id="theme-migration"><a class="header" href="#theme-migration">Theme Migration</a></h3>
<pre><code class="language-java">Setter&lt;User, String&gt; userThemeSetter = settingsSetter.andThen(themeSetter);

// Migrate all users to dark mode
List&lt;User&gt; darkModeUsers = usersSetter.modify(
    user -&gt; userThemeSetter.set("dark", user),
    users);
</code></pre>
<hr />
<h2 id="common-pitfalls"><a class="header" href="#common-pitfalls">Common Pitfalls</a></h2>
<h3 id="dont-use-setterof-for-effectful-operations"><a class="header" href="#dont-use-setterof-for-effectful-operations">Don't Use <code>Setter.of()</code> for Effectful Operations</a></h3>
<pre><code class="language-java">// Warning: Setter.of() doesn't support modifyF properly
Setter&lt;Person, String&gt; nameSetter = Setter.of(
    f -&gt; person -&gt; new Person(f.apply(person.name()), person.age()));

// This will throw UnsupportedOperationException!
nameSetter.modifyF(validateFn, person, applicative);
</code></pre>
<h3 id="use-fromgetset-for-effectful-support"><a class="header" href="#use-fromgetset-for-effectful-support">Use <code>fromGetSet()</code> for Effectful Support</a></h3>
<pre><code class="language-java">// Correct: fromGetSet supports modifyF
Setter&lt;Person, String&gt; nameSetter = Setter.fromGetSet(
    Person::name,
    (p, name) -&gt; new Person(name, p.age()));

// Works correctly
nameSetter.modifyF(validateFn, person, applicative);
</code></pre>
<h3 id="dont-forget-immutability"><a class="header" href="#dont-forget-immutability">Don't Forget Immutability</a></h3>
<pre><code class="language-java">// Wrong: Modifying in place (if mutable)
setter.modify(obj -&gt; { obj.setValue(newValue); return obj; }, source);
</code></pre>
<h3 id="always-return-new-instances"><a class="header" href="#always-return-new-instances">Always Return New Instances</a></h3>
<pre><code class="language-java">// Correct: Return new immutable instance
Setter&lt;Product, Double&gt; priceSetter = Setter.fromGetSet(
    Product::price,
    (p, price) -&gt; new Product(p.name(), price, p.stock(), p.tags()));
</code></pre>
<hr />
<h2 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h2>
<p>Setters are <strong>lightweight and efficient</strong>:</p>
<ul>
<li><strong>Minimal overhead</strong>: Just function composition</li>
<li><strong>No reflection</strong>: Direct method calls</li>
<li><strong>Lazy application</strong>: Modifications only applied when executed</li>
<li><strong>JIT-friendly</strong>: Can be inlined by the JVM</li>
<li><strong>O(n) collection operations</strong>: <code>forList()</code> and <code>forMapValues()</code> are optimised to avoid quadratic time complexity</li>
</ul>
<h3 id="optimised-collection-operations"><a class="header" href="#optimised-collection-operations">Optimised Collection Operations</a></h3>
<p>The <code>modifyF</code> implementations in <code>forList()</code> and <code>forMapValues()</code> use efficient algorithms:</p>
<ul>
<li><strong>Right-to-left folding</strong>: Uses <code>LinkedList</code> with O(1) prepending instead of repeated array copying</li>
<li><strong>Single pass construction</strong>: Collects effects first, sequences them, then builds the final collection once</li>
<li><strong>Linear time complexity</strong>: O(n) for lists and maps with n elements</li>
</ul>
<p>This means you can safely use effectful modifications on large collections without performance concerns:</p>
<pre><code class="language-java">// Efficient even for large lists
Setter&lt;List&lt;Integer&gt;, Integer&gt; listSetter = Setter.forList();
List&lt;Integer&gt; largeList = /* thousands of elements */;

// O(n) time complexity, not O(n²)
Kind&lt;OptionalKind.Witness, List&lt;Integer&gt;&gt; result =
    listSetter.modifyF(validateAndTransform, largeList, OptionalMonad.INSTANCE);
</code></pre>
<p><strong>Best Practice</strong>: Compose Setters at initialisation time, then reuse:</p>
<pre><code class="language-java">// Define once
private static final Setter&lt;Company, Double&gt; ALL_PRODUCT_PRICES =
    companySetter.andThen(productsSetter).andThen(priceSetter);

// Reuse many times
Company discounted = ALL_PRODUCT_PRICES.modify(p -&gt; p * 0.9, company);
Company inflated = ALL_PRODUCT_PRICES.modify(p -&gt; p * 1.05, company);
</code></pre>
<hr />
<h2 id="complete-runnable-example"><a class="header" href="#complete-runnable-example">Complete, Runnable Example</a></h2>
<pre><code class="language-java">import org.higherkindedj.optics.Setter;
import org.higherkindedj.hkt.Kind;
import org.higherkindedj.hkt.optional.OptionalKind;
import org.higherkindedj.hkt.optional.OptionalKindHelper;
import org.higherkindedj.hkt.optional.OptionalMonad;
import java.util.*;
import java.util.function.Function;

public class SetterExample {

    public record User(String username, String email, int loginCount, UserSettings settings) {}
    public record UserSettings(String theme, boolean notifications, int fontSize) {}
    public record Product(String name, double price, int stock) {}

    public static void main(String[] args) {
        // === Basic Setters ===
        Setter&lt;User, String&gt; usernameSetter = Setter.fromGetSet(
            User::username,
            (u, name) -&gt; new User(name, u.email(), u.loginCount(), u.settings()));

        Setter&lt;User, Integer&gt; loginCountSetter = Setter.fromGetSet(
            User::loginCount,
            (u, count) -&gt; new User(u.username(), u.email(), count, u.settings()));

        UserSettings settings = new UserSettings("light", true, 14);
        User user = new User("JOHN_DOE", "john@example.com", 10, settings);

        // Normalise username
        User normalised = usernameSetter.modify(String::toLowerCase, user);
        System.out.println("Normalised: " + normalised.username());

        // Increment login count
        User incremented = loginCountSetter.modify(count -&gt; count + 1, user);
        System.out.println("Login count: " + incremented.loginCount());

        // === Composition ===
        Setter&lt;User, UserSettings&gt; settingsSetter = Setter.fromGetSet(
            User::settings,
            (u, s) -&gt; new User(u.username(), u.email(), u.loginCount(), s));

        Setter&lt;UserSettings, String&gt; themeSetter = Setter.fromGetSet(
            UserSettings::theme,
            (s, theme) -&gt; new UserSettings(theme, s.notifications(), s.fontSize()));

        Setter&lt;User, String&gt; userThemeSetter = settingsSetter.andThen(themeSetter);

        User darkMode = userThemeSetter.set("dark", user);
        System.out.println("Theme: " + darkMode.settings().theme());

        // === Collection Setters ===
        Setter&lt;List&lt;Integer&gt;, Integer&gt; listSetter = Setter.forList();

        List&lt;Integer&gt; numbers = List.of(1, 2, 3, 4, 5);
        List&lt;Integer&gt; doubled = listSetter.modify(x -&gt; x * 2, numbers);
        System.out.println("Doubled: " + doubled);

        // === Product Batch Update ===
        Setter&lt;Product, Double&gt; priceSetter = Setter.fromGetSet(
            Product::price,
            (p, price) -&gt; new Product(p.name(), price, p.stock()));

        Setter&lt;List&lt;Product&gt;, Product&gt; productsSetter = Setter.forList();

        List&lt;Product&gt; products = List.of(
            new Product("Laptop", 999.99, 50),
            new Product("Keyboard", 79.99, 100),
            new Product("Monitor", 299.99, 30));

        // Apply 10% discount
        List&lt;Product&gt; discounted = productsSetter.modify(
            product -&gt; priceSetter.modify(price -&gt; price * 0.9, product),
            products);

        System.out.println("Discounted prices:");
        for (Product p : discounted) {
            System.out.printf("  %s: £%.2f%n", p.name(), p.price());
        }

        // === Effectful Modification ===
        Function&lt;String, Kind&lt;OptionalKind.Witness, String&gt;&gt; validateUsername =
            username -&gt; {
                if (username.length() &gt;= 3 &amp;&amp; username.matches("[a-z_]+")) {
                    return OptionalKindHelper.OPTIONAL.widen(Optional.of(username));
                } else {
                    return OptionalKindHelper.OPTIONAL.widen(Optional.empty());
                }
            };

        User validUser = new User("john_doe", "john@example.com", 10, settings);
        Kind&lt;OptionalKind.Witness, User&gt; validResult =
            usernameSetter.modifyF(validateUsername, validUser, OptionalMonad.INSTANCE);

        Optional&lt;User&gt; validated = OptionalKindHelper.OPTIONAL.narrow(validResult);
        System.out.println("Valid username: " + validated.map(User::username).orElse("INVALID"));

        User invalidUser = new User("ab", "a@test.com", 0, settings);
        Kind&lt;OptionalKind.Witness, User&gt; invalidResult =
            usernameSetter.modifyF(validateUsername, invalidUser, OptionalMonad.INSTANCE);

        Optional&lt;User&gt; invalidValidated = OptionalKindHelper.OPTIONAL.narrow(invalidResult);
        System.out.println("Invalid username: " + invalidValidated.map(User::username).orElse("INVALID"));

        // === Data Normalisation ===
        Setter&lt;Product, String&gt; nameSetter = Setter.fromGetSet(
            Product::name,
            (p, name) -&gt; new Product(name, p.price(), p.stock()));

        Function&lt;String, String&gt; titleCase = name -&gt; {
            String trimmed = name.trim();
            return trimmed.substring(0, 1).toUpperCase() + trimmed.substring(1).toLowerCase();
        };

        List&lt;Product&gt; rawProducts = List.of(
            new Product("  LAPTOP  ", 999.99, 50),
            new Product("keyboard", 79.99, 100),
            new Product("MONITOR", 299.99, 30));

        List&lt;Product&gt; normalisedProducts = productsSetter.modify(
            product -&gt; nameSetter.modify(titleCase, product),
            rawProducts);

        System.out.println("Normalised product names:");
        for (Product p : normalisedProducts) {
            System.out.println("  - " + p.name());
        }
    }
}
</code></pre>
<p><strong>Expected Output:</strong></p>
<pre><code>Normalised: john_doe
Login count: 11
Theme: dark
Doubled: [2, 4, 6, 8, 10]
Discounted prices:
  Laptop: £899.99
  Keyboard: £71.99
  Monitor: £269.99
Valid username: john_doe
Invalid username: INVALID
Normalised product names:
  - Laptop
  - Keyboard
  - Monitor
</code></pre>
<hr />
<h2 id="why-setters-are-important"><a class="header" href="#why-setters-are-important">Why Setters Are Important</a></h2>
<p><code>Setter</code> provides a focused, write-only approach to data modification:</p>
<ul>
<li><strong>Clear intent</strong>: Explicitly write-only, preventing accidental reads</li>
<li><strong>Composability</strong>: Chains beautifully for deep, nested modifications</li>
<li><strong>Batch operations</strong>: Natural fit for updating collections</li>
<li><strong>Effectful support</strong>: Integrates with validation and error handling via Applicatives</li>
<li><strong>Type safety</strong>: Compile-time guarantees on modification paths</li>
<li><strong>Immutability-friendly</strong>: Designed for functional, immutable data structures</li>
</ul>
<p>By adding <code>Setter</code> to your optics toolkit alongside <code>Getter</code>, <code>Lens</code>, <code>Prism</code>, <code>Iso</code>, <code>Traversal</code>, and <code>Fold</code>, you gain fine-grained control over both reading and writing patterns. Use <code>Setter</code> when you need composable write-only access, <code>Getter</code> for read-only extraction, and <code>Lens</code> when you need both.</p>
<p>The key insight: <strong>Setters make modifications first-class composable operations</strong>, allowing you to build sophisticated data transformation pipelines with clarity, type safety, and clear functional intent.</p>
<hr />
<p><strong>Previous:</strong> <a href="getters.html">Getters: Composable Read-Only Access</a>
<strong>Next:</strong> <a href="profunctor_optics.html">Profunctor Optics: Advanced Data Transformation</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../optics/getters.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../optics/common_data_structure_traversals.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../optics/getters.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../optics/common_data_structure_traversals.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../version-switcher.js"></script>
        <script src=".././theme/version-switcher.js"></script>
        <script src=".././theme/sidebar-nav-link.js"></script>


    </div>
    </body>
</html>
