<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Stream - Higher-Kinded-J: Composable Effects and Advanced Optics for Java</title>


        <!-- Custom HTML head -->


            <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">


        <meta name="keywords" content="Higher-Kinded Types, Higher-Kinded-J, HKT, Java, Optics, Lens, Prism, Traversal, Iso, Affine, Focus DSL, Effect Path API, Functional Programming, Monad, Functor, Applicative, EitherPath, MaybePath, TryPath, ValidationPath, Java Records, Sealed Interface, Error Handling, Immutable Data">
        
        <meta property="og:title" content="Stream - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
            <meta property="og:description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://higher-kinded-j.github.io/">
        <meta property="og:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta property="og:site_name" content="Higher-Kinded-J Documentation">
        <meta property="og:locale" content="en_GB">
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Stream - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="twitter:description" content="Unifying Composable Effects and Advanced Optics for Java. Effect Path API, Focus DSL, and the most comprehensive optics implementation in the Java ecosystem.">
        <meta name="twitter:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta name="twitter:image:alt" content="Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">
        <meta name="google-site-verification" content="X-xsiAq2cKMLOzh9dexUrX8Onx2h_YMUFgp5lHHUwSg" />
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin.css">
        <link rel="stylesheet" href=".././theme/catppuccin-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin-alerts.css">
        <link rel="stylesheet" href=".././theme/additional-hkj.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappé</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        <div class="version-selector-container">
                            <select id="version-selector" class="version-selector" aria-label="Select documentation version" title="Select documentation version">
                                <option value="">Loading versions...</option>
                            </select>
                        </div>
                    </div>

                    <h1 class="menu-title">Higher-Kinded-J: Composable Effects and Advanced Optics for Java</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j/edit/main/hkj-book/src/monads/stream_monad.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.mdbook-alerts {
  padding: 8px 16px;
  margin-bottom: 16px;
  border-left: 0.25em solid var(--mdbook-alerts-color);
}

.mdbook-alerts > *:first-child {
  margin-top: 0;
}

.mdbook-alerts > *:last-child {
  margin-bottom: 0;
}

.mdbook-alerts-title {
  display: flex;
  font-weight: 600;
  align-items: center;
  line-height: 1;
  color: var(--mdbook-alerts-color);
  text-transform: capitalize;
}

.mdbook-alerts-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  margin-right: 0.2em;
  background-color: currentColor;
  -webkit-mask: no-repeat center / 100%;
  mask: no-repeat center / 100%;
  -webkit-mask-image: var(--mdbook-alerts-icon);
  mask-image: var(--mdbook-alerts-icon);
}

.mdbook-alerts-note {
  --mdbook-alerts-color: rgb(9, 105, 218);
  /* https://icon-sets.iconify.design/material-symbols/info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11q-.425 0-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-tip {
  --mdbook-alerts-color: rgb(26, 127, 55);
  /* https://icon-sets.iconify.design/material-symbols/lightbulb-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 22q-.825 0-1.412-.587T10 20h4q0 .825-.587 1.413T12 22m-3-3q-.425 0-.712-.288T8 18q0-.425.288-.712T9 17h6q.425 0 .713.288T16 18q0 .425-.288.713T15 19zm-.75-3q-1.725-1.025-2.738-2.75T4.5 9.5q0-3.125 2.188-5.312T12 2q3.125 0 5.313 2.188T19.5 9.5q0 2.025-1.012 3.75T15.75 16zm.6-2h6.3q1.125-.8 1.738-1.975T17.5 9.5q0-2.3-1.6-3.9T12 4Q9.7 4 8.1 5.6T6.5 9.5q0 1.35.613 2.525T8.85 14M12 14"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-important {
  --mdbook-alerts-color: rgb(130, 80, 223);
  /* https://icon-sets.iconify.design/material-symbols/chat-info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 7q.425 0 .713-.288T13 6q0-.425-.288-.712T12 5q-.425 0-.712.288T11 6q0 .425.288.713T12 7m0 8q.425 0 .713-.288T13 14v-4q0-.425-.288-.712T12 9q-.425 0-.712.288T11 10v4q0 .425.288.713T12 15m-6 3l-2.3 2.3q-.475.475-1.088.213T2 19.575V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm-.85-2H20V4H4v13.125zM4 16V4z"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-warning {
  --mdbook-alerts-color: rgb(154, 103, 0);
  /* https://icon-sets.iconify.design/material-symbols/warning-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zm1.725-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15m0-2.5"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-caution {
  --mdbook-alerts-color: rgb(207, 34, 46);
  /* https://icon-sets.iconify.design/material-symbols/brightness-alert-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m0-4q.425 0 .713-.288T13 12V8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8v4q0 .425.288.713T12 13m-3.35 7H6q-.825 0-1.412-.587T4 18v-2.65L2.075 13.4q-.275-.3-.425-.662T1.5 12q0-.375.15-.737t.425-.663L4 8.65V6q0-.825.588-1.412T6 4h2.65l1.95-1.925q.3-.275.663-.425T12 1.5q.375 0 .738.15t.662.425L15.35 4H18q.825 0 1.413.588T20 6v2.65l1.925 1.95q.275.3.425.663t.15.737q0 .375-.15.738t-.425.662L20 15.35V18q0 .825-.587 1.413T18 20h-2.65l-1.95 1.925q-.3.275-.662.425T12 22.5q-.375 0-.737-.15t-.663-.425zm.85-2l2.5 2.5l2.5-2.5H18v-3.5l2.5-2.5L18 9.5V6h-3.5L12 3.5L9.5 6H6v3.5L3.5 12L6 14.5V18zm2.5-6"%2F%3E%3C%2Fsvg%3E');
}

</style>
<h1 id="the-streammonad"><a class="header" href="#the-streammonad">The StreamMonad:</a></h1>
<h2 id="lazy-potentially-infinite-sequences-with-functional-operations"><a class="header" href="#lazy-potentially-infinite-sequences-with-functional-operations"><em>Lazy, Potentially Infinite Sequences with Functional Operations</em></a></h2>
<div id="admonition-what-youll-learn" class="admonition admonish-info" role="note" aria-labelledby="admonition-what-youll-learn-title">
<div class="admonition-title">
<div id="admonition-what-youll-learn-title">
<p>What You'll Learn</p>
</div>
<a class="admonition-anchor-link" href="#admonition-what-youll-learn"></a>
</div>
<div>
<ul>
<li>How to work with Streams as contexts for lazy, potentially infinite sequences</li>
<li>Understanding Stream's <strong>single-use semantics</strong> and how to work with them</li>
<li>Using <code>map</code>, <code>flatMap</code>, and <code>ap</code> for lazy functional composition</li>
<li>Leveraging StreamOps utilities for common stream operations</li>
<li>Building efficient data processing pipelines with monadic operations</li>
<li>When to choose Stream over List for sequential processing</li>
</ul>
</div>
</div>
<div id="admonition-see-example-code" class="admonition admonish-example" role="note" aria-labelledby="admonition-see-example-code-title">
<div class="admonition-title">
<div id="admonition-see-example-code-title">
<p>See Example Code:</p>
</div>
<a class="admonition-anchor-link" href="#admonition-see-example-code"></a>
</div>
<div>
<p><a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/main/java/org/higherkindedj/example/basic/StreamExample.java">StreamExample.java</a></p>
</div>
</div>
<h2 id="purpose"><a class="header" href="#purpose">Purpose</a></h2>
<p>The <code>StreamMonad</code> in the <code>Higher-Kinded-J</code> library provides a monadic interface for Java's standard <code>java.util.stream.Stream</code>. It allows developers to work with streams in a functional style, enabling operations like <code>map</code>, <code>flatMap</code>, and <code>ap</code> within the higher-kinded type system. This is particularly useful for processing sequences of data lazily, handling potentially infinite sequences, and composing stream operations in a type-safe manner.</p>
<p>Key benefits include:</p>
<ul>
<li><strong>Lazy Evaluation:</strong> Operations are not performed until a terminal operation is invoked, allowing for efficient processing of large or infinite sequences.</li>
<li><strong>HKT Integration:</strong> <code>StreamKind</code> (the higher-kinded wrapper for <code>Stream</code>) and <code>StreamMonad</code> allow <code>Stream</code> to be used with generic functions and type classes expecting <code>Kind&lt;F, A&gt;</code>, <code>Functor&lt;F&gt;</code>, <code>Applicative&lt;F&gt;</code>, or <code>Monad&lt;F&gt;</code>.</li>
<li><strong>MonadZero Instance:</strong> Provides an empty stream via <code>zero()</code>, useful for filtering and conditional logic.</li>
<li><strong>Functional Composition:</strong> Easily chain operations on streams where each operation maintains laziness and allows composition of complex data transformations.</li>
</ul>
<p>It implements <code>MonadZero&lt;StreamKind.Witness&gt;</code>, inheriting from <code>Monad</code>, <code>Applicative</code>, and <code>Functor</code>.</p>
<div id="admonition-important-single-use-semantics" class="admonition admonish-warning" role="note" aria-labelledby="admonition-important-single-use-semantics-title">
<div class="admonition-title">
<div id="admonition-important-single-use-semantics-title">
<p>Important: Single-Use Semantics</p>
</div>
<a class="admonition-anchor-link" href="#admonition-important-single-use-semantics"></a>
</div>
<div>
<p>Java Streams have <strong>single-use semantics</strong>. Once a terminal operation has been performed on a stream (including operations that narrow and inspect the stream), that stream cannot be reused. Attempting to operate on a consumed stream throws <code>IllegalStateException</code>.</p>
<p><strong>Best Practice:</strong> Create fresh stream instances for each operation sequence. Don't store and reuse <code>Kind&lt;StreamKind.Witness, A&gt;</code> instances after they've been consumed.</p>
</div>
</div>
<h2 id="structure"><a class="header" href="#structure">Structure</a></h2>
<p><img src="../images/puml/stream_monad.svg" alt="stream_monad.svg" /></p>
<h2 id="how-to-use-streammonad-and-streamkind"><a class="header" href="#how-to-use-streammonad-and-streamkind">How to Use <code>StreamMonad</code> and <code>StreamKind</code></a></h2>
<h3 id="creating-instances"><a class="header" href="#creating-instances">Creating Instances</a></h3>
<p><code>StreamKind&lt;A&gt;</code> is the higher-kinded type representation for <code>java.util.stream.Stream&lt;A&gt;</code>. You create <code>StreamKind</code> instances using the <code>StreamKindHelper</code> utility class, the <code>of</code> method from <code>StreamMonad</code>, or the convenient factory methods in <code>StreamOps</code>.</p>
<div id="admonition-_streamwidenstream_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_streamwidenstream_-title">
<div class="admonition-title">
<div id="admonition-_streamwidenstream_-title">
<p><em>STREAM.widen(Stream<A>)</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_streamwidenstream_"></a>
</div>
<div>
<p>Converts a standard <code>java.util.stream.Stream&lt;A&gt;</code> into a <code>Kind&lt;StreamKind.Witness, A&gt;</code>.</p>
<pre><code class="language-java">Stream&lt;String&gt; stringStream = Stream.of("a", "b", "c");
Kind&lt;StreamKind.Witness, String&gt; streamKind1 = STREAM.widen(stringStream);

Stream&lt;Integer&gt; intStream = Stream.of(1, 2, 3);
Kind&lt;StreamKind.Witness, Integer&gt; streamKind2 = STREAM.widen(intStream);

Stream&lt;Object&gt; emptyStream = Stream.empty();
Kind&lt;StreamKind.Witness, Object&gt; streamKindEmpty = STREAM.widen(emptyStream);
</code></pre>
</div>
</div>
<div id="admonition-_streammonadofa-value_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_streammonadofa-value_-title">
<div class="admonition-title">
<div id="admonition-_streammonadofa-value_-title">
<p><em>streamMonad.of(A value)</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_streammonadofa-value_"></a>
</div>
<div>
<p>Lifts a single value into the <code>StreamKind</code> context, creating a singleton stream. A <code>null</code> input value results in an empty <code>StreamKind</code>.</p>
<pre><code class="language-java">StreamMonad streamMonad = StreamMonad.INSTANCE;

Kind&lt;StreamKind.Witness, String&gt; streamKindOneItem = streamMonad.of("hello"); // Contains a stream with one element: "hello"
Kind&lt;StreamKind.Witness, Integer&gt; streamKindAnotherItem = streamMonad.of(42);  // Contains a stream with one element: 42
Kind&lt;StreamKind.Witness, Object&gt; streamKindFromNull = streamMonad.of(null); // Contains an empty stream
</code></pre>
</div>
</div>
<div id="admonition-_streammonadzero_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_streammonadzero_-title">
<div class="admonition-title">
<div id="admonition-_streammonadzero_-title">
<p><em>streamMonad.zero()</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_streammonadzero_"></a>
</div>
<div>
<p>Creates an empty <code>StreamKind</code>, useful for filtering operations or providing a "nothing" value in monadic computations.</p>
<pre><code class="language-java">StreamMonad streamMonad = StreamMonad.INSTANCE;

Kind&lt;StreamKind.Witness, String&gt; emptyStreamKind = streamMonad.zero(); // Empty stream
</code></pre>
</div>
</div>
<div id="admonition-_streamnarrow_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_streamnarrow_-title">
<div class="admonition-title">
<div id="admonition-_streamnarrow_-title">
<p><em>STREAM.narrow()</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_streamnarrow_"></a>
</div>
<div>
<p>To get the underlying <code>java.util.stream.Stream&lt;A&gt;</code> from a <code>Kind&lt;StreamKind.Witness, A&gt;</code>, use <code>STREAM.narrow()</code>:</p>
<pre><code class="language-java">Kind&lt;StreamKind.Witness, String&gt; streamKind = STREAM.widen(Stream.of("example"));
Stream&lt;String&gt; unwrappedStream = STREAM.narrow(streamKind); // Returns Stream containing "example"

// You can then perform terminal operations on the unwrapped stream
List&lt;String&gt; result = unwrappedStream.collect(Collectors.toList());
System.out.println(result); // [example]
</code></pre>
</div>
</div>
<div id="admonition-_streamops-factory-methods_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_streamops-factory-methods_-title">
<div class="admonition-title">
<div id="admonition-_streamops-factory-methods_-title">
<p><em>StreamOps Factory Methods</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_streamops-factory-methods_"></a>
</div>
<div>
<p>The <code>StreamOps</code> utility class provides convenient factory methods for creating <code>StreamKind</code> instances:</p>
<pre><code class="language-java">// Create from varargs
Kind&lt;StreamKind.Witness, Integer&gt; numbers = fromArray(1, 2, 3, 4, 5);

// Create a range (exclusive end)
Kind&lt;StreamKind.Witness, Integer&gt; range = range(1, 11); // 1 through 10

// Create from collection
List&lt;String&gt; names = Arrays.asList("Alice", "Bob", "Charlie");
Kind&lt;StreamKind.Witness, String&gt; nameStream = fromIterable(names);

// Create empty stream
Kind&lt;StreamKind.Witness, String&gt; empty = empty();
</code></pre>
</div>
</div>
<h3 id="key-operations"><a class="header" href="#key-operations">Key Operations</a></h3>
<p>The <code>StreamMonad</code> provides standard monadic operations, all maintaining lazy evaluation:</p>
<div id="admonition-_mapfunction-f-kind-fa_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_mapfunction-f-kind-fa_-title">
<div class="admonition-title">
<div id="admonition-_mapfunction-f-kind-fa_-title">
<p><em>map(Function&lt;A, B&gt; f, Kind&lt;StreamKind.Witness, A&gt; fa)</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_mapfunction-f-kind-fa_"></a>
</div>
<div>
<p><strong><code>map(Function&lt;A, B&gt; f, Kind&lt;StreamKind.Witness, A&gt; fa)</code>:</strong></p>
<p>Applies a function <code>f</code> to each element of the stream within <code>fa</code>, returning a new <code>StreamKind</code> containing the transformed elements. The transformation is <strong>lazy</strong> and won't execute until a terminal operation is performed.</p>
<pre><code class="language-java">StreamMonad streamMonad = StreamMonad.INSTANCE;
Kind&lt;StreamKind.Witness, Integer&gt; numbers = STREAM.widen(Stream.of(1, 2, 3));

Function&lt;Integer, String&gt; intToString = i -&gt; "Number: " + i;
Kind&lt;StreamKind.Witness, String&gt; strings = streamMonad.map(intToString, numbers);

// At this point, no transformation has occurred yet (lazy)
// Terminal operation triggers execution:
List&lt;String&gt; result = STREAM.narrow(strings).collect(Collectors.toList());
System.out.println(result);
// Output: [Number: 1, Number: 2, Number: 3]
</code></pre>
</div>
</div>
<div id="admonition-_flatmapfunction-f-kind-ma_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_flatmapfunction-f-kind-ma_-title">
<div class="admonition-title">
<div id="admonition-_flatmapfunction-f-kind-ma_-title">
<p><em>flatMap(Function&lt;A, Kind&lt;StreamKind.Witness, B&gt;&gt; f, Kind&lt;StreamKind.Witness, A&gt; ma)</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_flatmapfunction-f-kind-ma_"></a>
</div>
<div>
<p><strong><code>flatMap(Function&lt;A, Kind&lt;StreamKind.Witness, B&gt;&gt; f, Kind&lt;StreamKind.Witness, A&gt; ma)</code>:</strong></p>
<p>Applies a function <code>f</code> to each element of the stream within <code>ma</code>. The function <code>f</code> itself returns a <code>StreamKind&lt;B&gt;</code>. <code>flatMap</code> then flattens all these resulting streams into a single <code>StreamKind&lt;B&gt;</code>. Evaluation remains lazy.</p>
<pre><code class="language-java">StreamMonad streamMonad = StreamMonad.INSTANCE;
Kind&lt;StreamKind.Witness, Integer&gt; initialValues = STREAM.widen(Stream.of(1, 2, 3));

// Function that takes an integer and returns a stream of itself and itself + 10
Function&lt;Integer, Kind&lt;StreamKind.Witness, Integer&gt;&gt; replicateAndAddTen =
    i -&gt; STREAM.widen(Stream.of(i, i + 10));

Kind&lt;StreamKind.Witness, Integer&gt; flattenedStream = streamMonad.flatMap(replicateAndAddTen, initialValues);

// Lazy - evaluation happens at terminal operation
List&lt;Integer&gt; result = STREAM.narrow(flattenedStream).collect(Collectors.toList());
System.out.println(result);
// Output: [1, 11, 2, 12, 3, 13]

// Example with conditional logic
Function&lt;Integer, Kind&lt;StreamKind.Witness, String&gt;&gt; toWordsIfEven =
    i -&gt; (i % 2 == 0) ?
         STREAM.widen(Stream.of("even", String.valueOf(i))) :
         streamMonad.zero(); // Empty stream for odd numbers

Kind&lt;StreamKind.Witness, String&gt; wordStream = streamMonad.flatMap(toWordsIfEven, initialValues);
List&lt;String&gt; words = STREAM.narrow(wordStream).collect(Collectors.toList());
System.out.println(words);
// Output: [even, 2]
</code></pre>
</div>
</div>
<div id="admonition-_apkind-ff-kind-fa_" class="admonition admonish-note" role="note" aria-labelledby="admonition-_apkind-ff-kind-fa_-title">
<div class="admonition-title">
<div id="admonition-_apkind-ff-kind-fa_-title">
<p><em>ap(Kind&lt;StreamKind.Witness, Function&lt;A, B&gt;&gt; ff, Kind&lt;StreamKind.Witness, A&gt; fa)</em></p>
</div>
<a class="admonition-anchor-link" href="#admonition-_apkind-ff-kind-fa_"></a>
</div>
<div>
<p><strong><code>ap(Kind&lt;StreamKind.Witness, Function&lt;A, B&gt;&gt; ff, Kind&lt;StreamKind.Witness, A&gt; fa)</code>:</strong></p>
<p>Applies a stream of functions <code>ff</code> to a stream of values <code>fa</code>. This results in a new stream where each function from <code>ff</code> is applied to each value in <code>fa</code> (Cartesian product style). Evaluation remains lazy.</p>
<pre><code class="language-java">StreamMonad streamMonad = StreamMonad.INSTANCE;

Function&lt;Integer, String&gt; addPrefix = i -&gt; "Val: " + i;
Function&lt;Integer, String&gt; multiplyAndString = i -&gt; "Mul: " + (i * 2);

Kind&lt;StreamKind.Witness, Function&lt;Integer, String&gt;&gt; functions =
    STREAM.widen(Stream.of(addPrefix, multiplyAndString));
Kind&lt;StreamKind.Witness, Integer&gt; values = STREAM.widen(Stream.of(10, 20));

Kind&lt;StreamKind.Witness, String&gt; appliedResults = streamMonad.ap(functions, values);

// Lazy - collects when terminal operation is performed
List&lt;String&gt; result = STREAM.narrow(appliedResults).collect(Collectors.toList());
System.out.println(result);
// Output: [Val: 10, Val: 20, Mul: 20, Mul: 40]
</code></pre>
</div>
</div>
<h2 id="streamops-utility-documentation"><a class="header" href="#streamops-utility-documentation">StreamOps Utility Documentation</a></h2>
<p>The <code>StreamOps</code> class provides a rich set of static utility methods for working with <code>StreamKind</code> instances. These operations complement the monadic interface with practical stream manipulation functions.</p>
<h3 id="creation-operations"><a class="header" href="#creation-operations">Creation Operations</a></h3>
<div id="admonition-factory-methods" class="admonition admonish-note" role="note" aria-labelledby="admonition-factory-methods-title">
<div class="admonition-title">
<div id="admonition-factory-methods-title">
<p>Factory Methods</p>
</div>
<a class="admonition-anchor-link" href="#admonition-factory-methods"></a>
</div>
<div>
<pre><code class="language-java">// Create from varargs
Kind&lt;StreamKind.Witness, T&gt; fromArray(T... elements)

// Create from Iterable
Kind&lt;StreamKind.Witness, T&gt; fromIterable(Iterable&lt;T&gt; iterable)

// Create a range [start, end)
Kind&lt;StreamKind.Witness, Integer&gt; range(int start, int end)

// Create empty stream
Kind&lt;StreamKind.Witness, T&gt; empty()
</code></pre>
<p><strong>Examples:</strong></p>
<pre><code class="language-java">Kind&lt;StreamKind.Witness, String&gt; names = fromArray("Alice", "Bob", "Charlie");
Kind&lt;StreamKind.Witness, Integer&gt; numbers = range(1, 101); // 1 to 100
Kind&lt;StreamKind.Witness, String&gt; emptyStream = empty();
</code></pre>
</div>
</div>
<h3 id="filtering-and-selection"><a class="header" href="#filtering-and-selection">Filtering and Selection</a></h3>
<div id="admonition-filtering-operations" class="admonition admonish-note" role="note" aria-labelledby="admonition-filtering-operations-title">
<div class="admonition-title">
<div id="admonition-filtering-operations-title">
<p>Filtering Operations</p>
</div>
<a class="admonition-anchor-link" href="#admonition-filtering-operations"></a>
</div>
<div>
<pre><code class="language-java">// Keep only elements matching predicate
Kind&lt;StreamKind.Witness, A&gt; filter(Predicate&lt;A&gt; predicate, Kind&lt;StreamKind.Witness, A&gt; stream)

// Take first n elements
Kind&lt;StreamKind.Witness, A&gt; take(long n, Kind&lt;StreamKind.Witness, A&gt; stream)

// Skip first n elements
Kind&lt;StreamKind.Witness, A&gt; drop(long n, Kind&lt;StreamKind.Witness, A&gt; stream)
</code></pre>
<p><strong>Examples:</strong></p>
<pre><code class="language-java">Kind&lt;StreamKind.Witness, Integer&gt; numbers = range(1, 101);

// Get only even numbers
Kind&lt;StreamKind.Witness, Integer&gt; evens = filter(n -&gt; n % 2 == 0, numbers);

// Get first 10 elements
Kind&lt;StreamKind.Witness, Integer&gt; first10 = take(10, range(1, 1000));

// Skip first 5 elements
Kind&lt;StreamKind.Witness, Integer&gt; afterFirst5 = drop(5, range(1, 20));
</code></pre>
</div>
</div>
<h3 id="combination-operations"><a class="header" href="#combination-operations">Combination Operations</a></h3>
<div id="admonition-combining-streams" class="admonition admonish-note" role="note" aria-labelledby="admonition-combining-streams-title">
<div class="admonition-title">
<div id="admonition-combining-streams-title">
<p>Combining Streams</p>
</div>
<a class="admonition-anchor-link" href="#admonition-combining-streams"></a>
</div>
<div>
<pre><code class="language-java">// Concatenate two streams sequentially
Kind&lt;StreamKind.Witness, A&gt; concat(Kind&lt;StreamKind.Witness, A&gt; stream1, Kind&lt;StreamKind.Witness, A&gt; stream2)

// Zip two streams element-wise with combiner function
Kind&lt;StreamKind.Witness, C&gt; zip(Kind&lt;StreamKind.Witness, A&gt; stream1, Kind&lt;StreamKind.Witness, B&gt; stream2, BiFunction&lt;A, B, C&gt; combiner)

// Pair each element with its index (starting from 0)
Kind&lt;StreamKind.Witness, Tuple2&lt;Integer, A&gt;&gt; zipWithIndex(Kind&lt;StreamKind.Witness, A&gt; stream)
</code></pre>
<p><strong>Examples:</strong></p>
<pre><code class="language-java">Kind&lt;StreamKind.Witness, Integer&gt; first = range(1, 4);   // 1, 2, 3
Kind&lt;StreamKind.Witness, Integer&gt; second = range(10, 13); // 10, 11, 12

// Sequential concatenation
Kind&lt;StreamKind.Witness, Integer&gt; combined = concat(first, second);
// Result: 1, 2, 3, 10, 11, 12

// Element-wise combination
Kind&lt;StreamKind.Witness, String&gt; names = fromArray("Alice", "Bob", "Charlie");
Kind&lt;StreamKind.Witness, Integer&gt; ages = fromArray(25, 30, 35);
Kind&lt;StreamKind.Witness, String&gt; profiles = zip(names, ages,
    (name, age) -&gt; name + " is " + age);
// Result: "Alice is 25", "Bob is 30", "Charlie is 35"

// Index pairing
Kind&lt;StreamKind.Witness, String&gt; items = fromArray("apple", "banana", "cherry");
Kind&lt;StreamKind.Witness, Tuple2&lt;Integer, String&gt;&gt; indexed = zipWithIndex(items);
// Result: (0, "apple"), (1, "banana"), (2, "cherry")
</code></pre>
</div>
</div>
<h3 id="terminal-operations"><a class="header" href="#terminal-operations">Terminal Operations</a></h3>
<div id="admonition-consuming-streams" class="admonition admonish-note" role="note" aria-labelledby="admonition-consuming-streams-title">
<div class="admonition-title">
<div id="admonition-consuming-streams-title">
<p>Consuming Streams</p>
</div>
<a class="admonition-anchor-link" href="#admonition-consuming-streams"></a>
</div>
<div>
<pre><code class="language-java">// Collect to List
List&lt;A&gt; toList(Kind&lt;StreamKind.Witness, A&gt; stream)

// Collect to Set
Set&lt;A&gt; toSet(Kind&lt;StreamKind.Witness, A&gt; stream)

// Execute side effect for each element
void forEach(Consumer&lt;A&gt; action, Kind&lt;StreamKind.Witness, A&gt; stream)
</code></pre>
<p><strong>Examples:</strong></p>
<pre><code class="language-java">Kind&lt;StreamKind.Witness, Integer&gt; numbers = range(1, 6);

// Collect to List
List&lt;Integer&gt; numberList = toList(numbers); // [1, 2, 3, 4, 5]

// Collect to Set (removes duplicates)
Kind&lt;StreamKind.Witness, String&gt; words = fromArray("a", "b", "a", "c");
Set&lt;String&gt; uniqueWords = toSet(words); // {"a", "b", "c"}

// Execute side effects
Kind&lt;StreamKind.Witness, String&gt; messages = fromArray("Hello", "World");
forEach(System.out::println, messages);
// Prints:
// Hello
// World
</code></pre>
</div>
</div>
<h3 id="side-effects-and-debugging"><a class="header" href="#side-effects-and-debugging">Side Effects and Debugging</a></h3>
<div id="admonition-observation-operations" class="admonition admonish-note" role="note" aria-labelledby="admonition-observation-operations-title">
<div class="admonition-title">
<div id="admonition-observation-operations-title">
<p>Observation Operations</p>
</div>
<a class="admonition-anchor-link" href="#admonition-observation-operations"></a>
</div>
<div>
<pre><code class="language-java">// Execute side effect for each element while passing through
Kind&lt;StreamKind.Witness, A&gt; tap(Consumer&lt;A&gt; action, Kind&lt;StreamKind.Witness, A&gt; stream)
</code></pre>
<p><strong>Example:</strong></p>
<pre><code class="language-java">List&lt;String&gt; log = new ArrayList&lt;&gt;();

Kind&lt;StreamKind.Witness, Integer&gt; pipeline = tap(
    n -&gt; log.add("Processing: " + n),
    StreamMonad.INSTANCE.map(n -&gt; n * 2, range(1, 4))
);

// Side effects haven't executed yet (lazy)
System.out.println("Log size: " + log.size()); // 0

// Terminal operation triggers execution
List&lt;Integer&gt; result = toList(pipeline);
System.out.println("Log size: " + log.size()); // 3
System.out.println("Log: " + log); // [Processing: 2, Processing: 4, Processing: 6]
System.out.println("Result: " + result); // [2, 4, 6]
</code></pre>
</div>
</div>
<h2 id="important-constraints-single-use-semantics"><a class="header" href="#important-constraints-single-use-semantics">Important Constraints: Single-Use Semantics</a></h2>
<div id="admonition-critical-stream-single-use-limitation" class="admonition admonish-danger" role="note" aria-labelledby="admonition-critical-stream-single-use-limitation-title">
<div class="admonition-title">
<div id="admonition-critical-stream-single-use-limitation-title">
<p>Critical: Stream Single-Use Limitation</p>
</div>
<a class="admonition-anchor-link" href="#admonition-critical-stream-single-use-limitation"></a>
</div>
<div>
<p>Unlike <code>List</code> or <code>Optional</code>, Java Streams can only be consumed <strong>once</strong>. This is a fundamental characteristic of <code>java.util.stream.Stream</code> that is preserved in the HKT representation.</p>
<p><strong>What This Means:</strong></p>
<ul>
<li>Once you perform a terminal operation on a stream (including <code>narrow()</code> followed by collection), that stream is consumed</li>
<li>Attempting to reuse a consumed stream throws <code>IllegalStateException</code></li>
<li>Each <code>Kind&lt;StreamKind.Witness, A&gt;</code> instance can only flow through one pipeline to completion</li>
</ul>
<p><strong>Correct Approach:</strong></p>
<pre><code class="language-java">// Create fresh stream for each independent operation
Kind&lt;StreamKind.Witness, Integer&gt; stream1 = range(1, 4);
List&lt;Integer&gt; result1 = toList(stream1); // ✓ First use

Kind&lt;StreamKind.Witness, Integer&gt; stream2 = range(1, 4); // Create new stream
List&lt;Integer&gt; result2 = toList(stream2); // ✓ Second use with fresh stream
</code></pre>
<p><strong>Incorrect Approach:</strong></p>
<pre><code class="language-java">// DON'T DO THIS - Will throw IllegalStateException
Kind&lt;StreamKind.Witness, Integer&gt; stream = range(1, 4);
List&lt;Integer&gt; result1 = toList(stream);  // ✓ First use
List&lt;Integer&gt; result2 = toList(stream);  // ✗ ERROR: stream already consumed!
</code></pre>
<p><strong>Design Implications:</strong></p>
<ul>
<li>Don't store <code>StreamKind</code> instances in fields for reuse</li>
<li>Create streams on-demand when needed</li>
<li>Use factory methods or suppliers to generate fresh streams</li>
<li>Consider using <code>List</code> if you need to process data multiple times</li>
</ul>
</div>
</div>
<h2 id="practical-example-complete-usage"><a class="header" href="#practical-example-complete-usage">Practical Example: Complete Usage</a></h2>
<div id="admonition-comprehensive-stream-example" class="admonition admonish-example" role="note" aria-labelledby="admonition-comprehensive-stream-example-title">
<div class="admonition-title">
<div id="admonition-comprehensive-stream-example-title">
<p>Comprehensive Stream Example</p>
</div>
<a class="admonition-anchor-link" href="#admonition-comprehensive-stream-example"></a>
</div>
<div>
<p>Here's a complete example demonstrating various Stream operations:</p>
<pre><code class="language-java">import org.higherkindedj.hkt.Kind;
import org.higherkindedj.hkt.stream.StreamKind;
import org.higherkindedj.hkt.stream.StreamMonad;
import static org.higherkindedj.hkt.stream.StreamKindHelper.STREAM;
import static org.higherkindedj.hkt.stream.StreamOps.*;

import java.util.List;
import java.util.function.Function;

public class StreamUsageExample {
   public static void main(String[] args) {
      StreamMonad streamMonad = StreamMonad.INSTANCE;

      // 1. Create a StreamKind using range
      Kind&lt;StreamKind.Witness, Integer&gt; numbersKind = range(1, 11); // 1 through 10

      // 2. Use map to transform (lazy)
      Function&lt;Integer, String&gt; numberToString = n -&gt; "Item-" + n;
      Kind&lt;StreamKind.Witness, String&gt; stringsKind = streamMonad.map(numberToString, numbersKind);

      System.out.println("Mapped: " + toList(stringsKind));
      // Expected: [Item-1, Item-2, Item-3, ..., Item-10]

      // 3. Create fresh stream for flatMap example
      Kind&lt;StreamKind.Witness, Integer&gt; numbersKind2 = range(1, 6);

      // flatMap: duplicate even numbers, skip odd numbers
      Function&lt;Integer, Kind&lt;StreamKind.Witness, Integer&gt;&gt; duplicateIfEven = n -&gt; {
         if (n % 2 == 0) {
            return fromArray(n, n); // Duplicate even numbers
         } else {
            return streamMonad.zero(); // Skip odd numbers
         }
      };

      Kind&lt;StreamKind.Witness, Integer&gt; flatMappedKind = streamMonad.flatMap(duplicateIfEven, numbersKind2);
      System.out.println("FlatMapped: " + toList(flatMappedKind));
      // Expected: [2, 2, 4, 4]

      // 4. Use of to create singleton
      Kind&lt;StreamKind.Witness, String&gt; singleValueKind = streamMonad.of("hello world");
      System.out.println("From 'of': " + toList(singleValueKind));
      // Expected: [hello world]

      // 5. Use zero to create empty stream
      Kind&lt;StreamKind.Witness, String&gt; emptyKind = streamMonad.zero();
      System.out.println("From 'zero': " + toList(emptyKind));
      // Expected: []

      // 6. StreamOps: filter and take
      Kind&lt;StreamKind.Witness, Integer&gt; largeRange = range(1, 101);
      Kind&lt;StreamKind.Witness, Integer&gt; evensFirst10 = take(10, filter(n -&gt; n % 2 == 0, largeRange));
      System.out.println("First 10 evens: " + toList(evensFirst10));
      // Expected: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20]

      // 7. Zip two streams
      Kind&lt;StreamKind.Witness, String&gt; names = fromArray("Alice", "Bob", "Charlie");
      Kind&lt;StreamKind.Witness, Integer&gt; scores = fromArray(95, 87, 92);
      Kind&lt;StreamKind.Witness, String&gt; results = zip(names, scores,
          (name, score) -&gt; name + ": " + score);

      System.out.println("Results: " + toList(results));
      // Expected: [Alice: 95, Bob: 87, Charlie: 92]

      // 8. Demonstrating single-use constraint
      Kind&lt;StreamKind.Witness, Integer&gt; streamOnce = range(1, 4);
      List&lt;Integer&gt; firstUse = toList(streamOnce);
      System.out.println("First use: " + firstUse);
      // Expected: [1, 2, 3]

      // Must create new stream for second use
      Kind&lt;StreamKind.Witness, Integer&gt; streamTwice = range(1, 4);
      List&lt;Integer&gt; secondUse = toList(streamTwice);
      System.out.println("Second use (new stream): " + secondUse);
      // Expected: [1, 2, 3]
   }
}
</code></pre>
</div>
</div>
<h2 id="when-to-use-streammonad"><a class="header" href="#when-to-use-streammonad">When to Use StreamMonad</a></h2>
<p><strong>Choose <code>StreamMonad</code> when:</strong></p>
<ul>
<li>Processing large datasets where lazy evaluation provides memory efficiency</li>
<li>Working with potentially infinite sequences</li>
<li>Building complex data transformation pipelines</li>
<li>You need intermediate laziness and only want to materialise results at the end</li>
<li>Single-pass processing is sufficient for your use case</li>
</ul>
<p><strong>Choose <code>ListMonad</code> instead when:</strong></p>
<ul>
<li>You need to process the same data multiple times</li>
<li>Random access to elements is required</li>
<li>The entire dataset fits comfortably in memory</li>
<li>You need to store the result for later reuse</li>
</ul>
<p><strong>Key Difference:</strong> <code>List</code> is eager and reusable; <code>Stream</code> is lazy and single-use.</p>
<hr />
<p><strong>Previous:</strong> <a href="state_monad.html">State</a>
<strong>Next:</strong> <a href="trampoline_monad.html">Trampoline</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../monads/state_monad.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../monads/trampoline_monad.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../monads/state_monad.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../monads/trampoline_monad.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../version-switcher.js"></script>
        <script src=".././theme/version-switcher.js"></script>
        <script src=".././theme/sidebar-nav-link.js"></script>


    </div>
    </body>
</html>
