<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Focus DSL - Higher-Kinded Types and Optics for Java</title>


        <!-- Custom HTML head -->


            <meta name="description" content="Explore Higher-Kinded Types (HKTs) and Optcs in Java with the Higher-Kinded-J library. Learn about Functors, Applicatives, Monads, Transformers, practical functional patterns, and how to write cleaner, more composable Java code for your projects using Optics.">


        <meta name="keywords" content="Higher-Kinded Types, Higher-Kinded-J, Higher-Kinded Java, Higher Kinded Java, HKT, Java, Optics, Lens, Prism, Traversal, Iso, Functional Programming, Monad, Functor, Applicative, Transformer, Monoid, Traverse, higherkindedj">
        
        <meta property="og:title" content="Focus DSL - Higher-Kinded Types and Optics for Java"> 
            <meta property="og:description" content="Explore Higher-Kinded Types (HKTs) and Optcs in Java with the Higher-Kinded-J library. Learn about Functors, Applicatives, Monads, Transformers, practical functional patterns, and how to write cleaner, more composable Java code for your projects using Optics.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://higher-kinded-j.github.io/"> 
        
        <meta property="og:image" content="https://higher-kinded-j.github.io/preview.png" />
        <meta property="og:site_name" content="Higher-Kinded-J Documentation" />
        
        
        <meta name="twitter:card" content="summary_large_image" /> <meta name="twitter:title" content="Focus DSL - Higher-Kinded Types and Optics for Java - Higher-Kinded-J" />
        <meta name="twitter:description" content="Bringing Higher-Kinded Types and Optics to Java functional patterns" />
        <meta name="twitter:image" content="https://higher-kinded-j.github.io/preview.png" />
        <meta name="description" content="Explore Higher-Kinded Types (HKTs) and Optcs in Java with the Higher-Kinded-J library. Learn about Functors, Applicatives, Monads, Transformers, practical functional patterns, and how to write cleaner, more composable Java code for your projects using Optics.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">
        <meta name="google-site-verification" content="X-xsiAq2cKMLOzh9dexUrX8Onx2h_YMUFgp5lHHUwSg" />
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin.css">
        <link rel="stylesheet" href=".././theme/catppuccin-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin-alerts.css">
        <link rel="stylesheet" href=".././theme/additional-hkj.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frapp√©</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        <div class="version-selector-container">
                            <select id="version-selector" class="version-selector" aria-label="Select documentation version" title="Select documentation version">
                                <option value="">Loading versions...</option>
                            </select>
                        </div>
                    </div>

                    <h1 class="menu-title">Higher-Kinded Types and Optics for Java</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j/edit/main/hkj-book/src/optics/focus_dsl.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.mdbook-alerts {
  padding: 8px 16px;
  margin-bottom: 16px;
  border-left: 0.25em solid var(--mdbook-alerts-color);
}

.mdbook-alerts > *:first-child {
  margin-top: 0;
}

.mdbook-alerts > *:last-child {
  margin-bottom: 0;
}

.mdbook-alerts-title {
  display: flex;
  font-weight: 600;
  align-items: center;
  line-height: 1;
  color: var(--mdbook-alerts-color);
  text-transform: capitalize;
}

.mdbook-alerts-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  margin-right: 0.2em;
  background-color: currentColor;
  -webkit-mask: no-repeat center / 100%;
  mask: no-repeat center / 100%;
  -webkit-mask-image: var(--mdbook-alerts-icon);
  mask-image: var(--mdbook-alerts-icon);
}

.mdbook-alerts-note {
  --mdbook-alerts-color: rgb(9, 105, 218);
  /* https://icon-sets.iconify.design/material-symbols/info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11q-.425 0-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-tip {
  --mdbook-alerts-color: rgb(26, 127, 55);
  /* https://icon-sets.iconify.design/material-symbols/lightbulb-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 22q-.825 0-1.412-.587T10 20h4q0 .825-.587 1.413T12 22m-3-3q-.425 0-.712-.288T8 18q0-.425.288-.712T9 17h6q.425 0 .713.288T16 18q0 .425-.288.713T15 19zm-.75-3q-1.725-1.025-2.738-2.75T4.5 9.5q0-3.125 2.188-5.312T12 2q3.125 0 5.313 2.188T19.5 9.5q0 2.025-1.012 3.75T15.75 16zm.6-2h6.3q1.125-.8 1.738-1.975T17.5 9.5q0-2.3-1.6-3.9T12 4Q9.7 4 8.1 5.6T6.5 9.5q0 1.35.613 2.525T8.85 14M12 14"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-important {
  --mdbook-alerts-color: rgb(130, 80, 223);
  /* https://icon-sets.iconify.design/material-symbols/chat-info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 7q.425 0 .713-.288T13 6q0-.425-.288-.712T12 5q-.425 0-.712.288T11 6q0 .425.288.713T12 7m0 8q.425 0 .713-.288T13 14v-4q0-.425-.288-.712T12 9q-.425 0-.712.288T11 10v4q0 .425.288.713T12 15m-6 3l-2.3 2.3q-.475.475-1.088.213T2 19.575V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm-.85-2H20V4H4v13.125zM4 16V4z"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-warning {
  --mdbook-alerts-color: rgb(154, 103, 0);
  /* https://icon-sets.iconify.design/material-symbols/warning-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zm1.725-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15m0-2.5"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-caution {
  --mdbook-alerts-color: rgb(207, 34, 46);
  /* https://icon-sets.iconify.design/material-symbols/brightness-alert-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m0-4q.425 0 .713-.288T13 12V8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8v4q0 .425.288.713T12 13m-3.35 7H6q-.825 0-1.412-.587T4 18v-2.65L2.075 13.4q-.275-.3-.425-.662T1.5 12q0-.375.15-.737t.425-.663L4 8.65V6q0-.825.588-1.412T6 4h2.65l1.95-1.925q.3-.275.663-.425T12 1.5q.375 0 .738.15t.662.425L15.35 4H18q.825 0 1.413.588T20 6v2.65l1.925 1.95q.275.3.425.663t.15.737q0 .375-.15.738t-.425.662L20 15.35V18q0 .825-.587 1.413T18 20h-2.65l-1.95 1.925q-.3.275-.662.425T12 22.5q-.375 0-.737-.15t-.663-.425zm.85-2l2.5 2.5l2.5-2.5H18v-3.5l2.5-2.5L18 9.5V6h-3.5L12 3.5L9.5 6H6v3.5L3.5 12L6 14.5V18zm2.5-6"%2F%3E%3C%2Fsvg%3E');
}

</style>
<h1 id="focus-dsl-path-based-optic-syntax"><a class="header" href="#focus-dsl-path-based-optic-syntax">Focus DSL: Path-Based Optic Syntax</a></h1>
<h2 id="type-safe-navigation-through-nested-data"><a class="header" href="#type-safe-navigation-through-nested-data"><em>Type-Safe Navigation Through Nested Data</em></a></h2>
<div id="admonition-what-youll-learn" class="admonition admonish-info" role="note" aria-labelledby="admonition-what-youll-learn-title">
<div class="admonition-title">
<div id="admonition-what-youll-learn-title">
<p>What You'll Learn</p>
</div>
<a class="admonition-anchor-link" href="#admonition-what-youll-learn"></a>
</div>
<div>
<ul>
<li>How to navigate deeply nested data structures with type-safe paths</li>
<li>Using <code>@GenerateFocus</code> to generate path builders automatically</li>
<li><strong>Fluent cross-type navigation</strong> with generated navigators (no <code>.via()</code> needed)</li>
<li>The difference between <code>FocusPath</code>, <code>AffinePath</code>, and <code>TraversalPath</code></li>
<li>Collection navigation with <code>.each()</code>, <code>.at()</code>, <code>.some()</code>, <code>.nullable()</code>, and <code>.traverseOver()</code></li>
<li><strong>Seamless nullable field handling</strong> with <code>@Nullable</code> annotation detection</li>
<li>Type class integration: effectful operations, monoid aggregation, and Traverse support</li>
<li>Working with sum types using <code>instanceOf()</code> and conditional modification with <code>modifyWhen()</code></li>
<li>Composing Focus paths with existing optics</li>
<li>Debugging paths with <code>traced()</code></li>
<li>When to use Focus DSL vs manual lens composition</li>
</ul>
</div>
</div>
<div id="admonition-example-code" class="admonition admonish-note" role="note" aria-labelledby="admonition-example-code-title">
<div class="admonition-title">
<div id="admonition-example-code-title">
<p>Example Code</p>
</div>
<a class="admonition-anchor-link" href="#admonition-example-code"></a>
</div>
<div>
<p><a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/main/java/org/higherkindedj/example/optics/focus/NavigatorExample.java">NavigatorExample</a> | <a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/main/java/org/higherkindedj/example/optics/focus/TraverseIntegrationExample.java">TraverseIntegrationExample</a> | <a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/main/java/org/higherkindedj/example/optics/focus/ValidationPipelineExample.java">ValidationPipelineExample</a></p>
</div>
</div>
<p>The Focus DSL provides a fluent, path-based syntax for working with optics. Instead of manually composing lenses, prisms, and traversals, you can navigate through your data structures using intuitive method chains that mirror the shape of your data.</p>
<hr />
<h2 id="the-problem-verbose-manual-composition"><a class="header" href="#the-problem-verbose-manual-composition">The Problem: Verbose Manual Composition</a></h2>
<p>When working with deeply nested data structures, manual optic composition becomes verbose:</p>
<pre><code class="language-java">// Manual composition - verbose and repetitive
Lens&lt;Company, String&gt; employeeNameLens =
    CompanyLenses.departments()
        .andThen(DepartmentLenses.employees())
        .andThen(EmployeeLenses.name());

// Must compose at each use site
String name = employeeNameLens.get(company);
</code></pre>
<p>With the Focus DSL, the same operation becomes:</p>
<pre><code class="language-java">// Focus DSL - fluent and intuitive
String name = CompanyFocus.departments().employees().name().get(company);
</code></pre>
<hr />
<h2 id="think-of-focus-paths-like"><a class="header" href="#think-of-focus-paths-like">Think of Focus Paths Like...</a></h2>
<ul>
<li><strong>File system paths</strong>: <code>/company/departments/employees/name</code></li>
<li><strong>JSON pointers</strong>: <code>$.departments[*].employees[*].name</code></li>
<li><strong>XPath expressions</strong>: <code>//department/employee/name</code></li>
<li><strong>IDE navigation</strong>: Click through nested fields with autocomplete</li>
</ul>
<p>The key difference: Focus paths are fully type-safe, with compile-time checking at every step.</p>
<hr />
<h2 id="a-step-by-step-walkthrough"><a class="header" href="#a-step-by-step-walkthrough">A Step-by-Step Walkthrough</a></h2>
<h3 id="step-1-annotate-your-records"><a class="header" href="#step-1-annotate-your-records">Step 1: Annotate Your Records</a></h3>
<p>Add <code>@GenerateFocus</code> alongside <code>@GenerateLenses</code> to generate path builders:</p>
<pre><code class="language-java">import org.higherkindedj.optics.annotations.GenerateLenses;
import org.higherkindedj.optics.annotations.GenerateFocus;

@GenerateLenses
@GenerateFocus
public record Company(String name, List&lt;Department&gt; departments) {}

@GenerateLenses
@GenerateFocus
public record Department(String name, List&lt;Employee&gt; employees) {}

@GenerateLenses
@GenerateFocus
public record Employee(String name, int age, Optional&lt;String&gt; email) {}
</code></pre>
<h3 id="step-2-use-generated-focus-classes"><a class="header" href="#step-2-use-generated-focus-classes">Step 2: Use Generated Focus Classes</a></h3>
<p>The annotation processor generates companion Focus classes with path builders:</p>
<pre><code class="language-java">// Generated: CompanyFocus.java
// Navigate to company name
FocusPath&lt;Company, String&gt; namePath = CompanyFocus.name();
String companyName = namePath.get(company);

// Navigate through collections
TraversalPath&lt;Company, Department&gt; deptPath = CompanyFocus.departments();
List&lt;Department&gt; allDepts = deptPath.getAll(company);

// Navigate to specific index
AffinePath&lt;Company, Department&gt; firstDeptPath = CompanyFocus.department(0);
Optional&lt;Department&gt; firstDept = firstDeptPath.getOptional(company);
</code></pre>
<h3 id="step-3-chain-navigation-methods"><a class="header" href="#step-3-chain-navigation-methods">Step 3: Chain Navigation Methods</a></h3>
<p>Focus paths support fluent chaining for deep navigation:</p>
<pre><code class="language-java">// Deep path through collections
TraversalPath&lt;Company, String&gt; allEmployeeNames =
    CompanyFocus.departments()     // TraversalPath&lt;Company, Department&gt;
        .employees()               // TraversalPath&lt;Company, Employee&gt;
        .name();                   // TraversalPath&lt;Company, String&gt;

// Get all employee names across all departments
List&lt;String&gt; names = allEmployeeNames.getAll(company);

// Modify all employee names
Company updated = allEmployeeNames.modifyAll(String::toUpperCase, company);
</code></pre>
<hr />
<h2 id="the-three-path-types"><a class="header" href="#the-three-path-types">The Three Path Types</a></h2>
<p>Focus DSL provides three path types, mirroring the optic hierarchy:</p>
<pre><code>         FocusPath&lt;S, A&gt;
        (exactly one focus)
               |
        AffinePath&lt;S, A&gt;
      (zero or one focus)
               |
      TraversalPath&lt;S, A&gt;
      (zero or more focus)
</code></pre>
<h3 id="focuspath-exactly-one-element"><a class="header" href="#focuspath-exactly-one-element">FocusPath: Exactly One Element</a></h3>
<p><code>FocusPath&lt;S, A&gt;</code> wraps a <code>Lens&lt;S, A&gt;</code> and guarantees exactly one focused element:</p>
<pre><code class="language-java">// Always succeeds - the field always exists
FocusPath&lt;Employee, String&gt; namePath = EmployeeFocus.name();

String name = namePath.get(employee);           // Always returns a value
Employee updated = namePath.set("Bob", employee);  // Always succeeds
Employee modified = namePath.modify(String::toUpperCase, employee);
</code></pre>
<p><strong>Key Operations:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Method</th><th>Return Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>get(S)</code></td><td><code>A</code></td><td>Extract the focused value</td></tr>
<tr><td><code>set(A, S)</code></td><td><code>S</code></td><td>Replace the focused value</td></tr>
<tr><td><code>modify(Function&lt;A,A&gt;, S)</code></td><td><code>S</code></td><td>Transform the focused value</td></tr>
<tr><td><code>toLens()</code></td><td><code>Lens&lt;S, A&gt;</code></td><td>Extract underlying optic</td></tr>
</tbody></table>
</div>
<h3 id="affinepath-zero-or-one-element"><a class="header" href="#affinepath-zero-or-one-element">AffinePath: Zero or One Element</a></h3>
<p><code>AffinePath&lt;S, A&gt;</code> wraps an <code>Affine&lt;S, A&gt;</code> for optional access:</p>
<pre><code class="language-java">// May or may not have a value
AffinePath&lt;Employee, String&gt; emailPath = EmployeeFocus.email();

Optional&lt;String&gt; email = emailPath.getOptional(employee);  // May be empty
Employee updated = emailPath.set("new@email.com", employee);  // Always succeeds
Employee modified = emailPath.modify(String::toLowerCase, employee);  // No-op if absent
</code></pre>
<p><strong>Key Operations:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Method</th><th>Return Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>getOptional(S)</code></td><td><code>Optional&lt;A&gt;</code></td><td>Extract if present</td></tr>
<tr><td><code>set(A, S)</code></td><td><code>S</code></td><td>Replace (creates if structure allows)</td></tr>
<tr><td><code>modify(Function&lt;A,A&gt;, S)</code></td><td><code>S</code></td><td>Transform if present</td></tr>
<tr><td><code>matches(S)</code></td><td><code>boolean</code></td><td>Check if value exists</td></tr>
<tr><td><code>toAffine()</code></td><td><code>Affine&lt;S, A&gt;</code></td><td>Extract underlying optic</td></tr>
</tbody></table>
</div>
<h3 id="traversalpath-zero-or-more-elements"><a class="header" href="#traversalpath-zero-or-more-elements">TraversalPath: Zero or More Elements</a></h3>
<p><code>TraversalPath&lt;S, A&gt;</code> wraps a <code>Traversal&lt;S, A&gt;</code> for collection access:</p>
<pre><code class="language-java">// Focuses on multiple elements
TraversalPath&lt;Department, Employee&gt; employeesPath = DepartmentFocus.employees();

List&lt;Employee&gt; all = employeesPath.getAll(department);    // All employees
Department updated = employeesPath.setAll(defaultEmployee, department);
Department modified = employeesPath.modifyAll(e -&gt; promote(e), department);
</code></pre>
<p><strong>Key Operations:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Method</th><th>Return Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>getAll(S)</code></td><td><code>List&lt;A&gt;</code></td><td>Extract all focused values</td></tr>
<tr><td><code>setAll(A, S)</code></td><td><code>S</code></td><td>Replace all focused values</td></tr>
<tr><td><code>modifyAll(Function&lt;A,A&gt;, S)</code></td><td><code>S</code></td><td>Transform all focused values</td></tr>
<tr><td><code>filter(Predicate&lt;A&gt;)</code></td><td><code>TraversalPath&lt;S, A&gt;</code></td><td>Filter focused elements</td></tr>
<tr><td><code>toTraversal()</code></td><td><code>Traversal&lt;S, A&gt;</code></td><td>Extract underlying optic</td></tr>
</tbody></table>
</div>
<hr />
<h2 id="collection-navigation"><a class="header" href="#collection-navigation">Collection Navigation</a></h2>
<p>The Focus DSL provides intuitive methods for navigating collections:</p>
<h3 id="each---traverse-all-elements"><a class="header" href="#each---traverse-all-elements"><code>.each()</code> - Traverse All Elements</a></h3>
<p>Converts a collection field to a traversal over its elements:</p>
<pre><code class="language-java">// List&lt;Department&gt; -&gt; traversal over Department
TraversalPath&lt;Company, Department&gt; allDepts = CompanyFocus.departments();

// Equivalent to calling .each() on a FocusPath to List&lt;T&gt;
</code></pre>
<h3 id="atindex---access-by-index"><a class="header" href="#atindex---access-by-index"><code>.at(index)</code> - Access by Index</a></h3>
<p>Focuses on a single element at a specific index:</p>
<pre><code class="language-java">// Focus on first department
AffinePath&lt;Company, Department&gt; firstDept = CompanyFocus.department(0);

// Focus on third employee in second department
AffinePath&lt;Company, Employee&gt; specificEmployee =
    CompanyFocus.department(1).employee(2);

// Returns empty if index out of bounds
Optional&lt;Department&gt; maybe = firstDept.getOptional(emptyCompany);
</code></pre>
<h3 id="atkeykey---access-map-values"><a class="header" href="#atkeykey---access-map-values"><code>.atKey(key)</code> - Access Map Values</a></h3>
<p>For <code>Map&lt;K, V&gt;</code> fields, access values by key:</p>
<pre><code class="language-java">@GenerateLenses
@GenerateFocus
record Config(Map&lt;String, Setting&gt; settings) {}

// Focus on specific setting
AffinePath&lt;Config, Setting&gt; dbSetting = ConfigFocus.setting("database");

Optional&lt;Setting&gt; setting = dbSetting.getOptional(config);
</code></pre>
<h3 id="some---unwrap-optional"><a class="header" href="#some---unwrap-optional"><code>.some()</code> - Unwrap Optional</a></h3>
<p>For <code>Optional&lt;T&gt;</code> fields, unwrap to the inner value:</p>
<pre><code class="language-java">// Email is Optional&lt;String&gt;
AffinePath&lt;Employee, String&gt; emailPath = EmployeeFocus.email();

// Internally uses .some() to unwrap the Optional
Optional&lt;String&gt; email = emailPath.getOptional(employee);
</code></pre>
<h3 id="nullable---handle-null-values"><a class="header" href="#nullable---handle-null-values"><code>.nullable()</code> - Handle Null Values</a></h3>
<p>For fields that may be null, use <code>.nullable()</code> to treat null as absent:</p>
<pre><code class="language-java">record LegacyUser(String name, @Nullable String nickname) {}

// If @Nullable is detected, the processor generates this automatically
// Otherwise, chain with .nullable() manually:
FocusPath&lt;LegacyUser, String&gt; rawPath = LegacyUserFocus.nickname();
AffinePath&lt;LegacyUser, String&gt; safePath = rawPath.nullable();

// Null is treated as absent (empty Optional)
LegacyUser user = new LegacyUser("Alice", null);
Optional&lt;String&gt; result = safePath.getOptional(user);  // Optional.empty()

// Non-null values work normally
LegacyUser withNick = new LegacyUser("Bob", "Bobby");
Optional&lt;String&gt; present = safePath.getOptional(withNick);  // Optional.of("Bobby")
</code></pre>
<div id="admonition-automatic-nullable-detection" class="admonition admonish-tip" role="note" aria-labelledby="admonition-automatic-nullable-detection-title">
<div class="admonition-title">
<div id="admonition-automatic-nullable-detection-title">
<p>Automatic @Nullable Detection</p>
</div>
<a class="admonition-anchor-link" href="#admonition-automatic-nullable-detection"></a>
</div>
<div>
<p>When a field is annotated with <code>@Nullable</code> (from JSpecify, JSR-305, JetBrains, etc.), the <code>@GenerateFocus</code> processor automatically generates an <code>AffinePath</code> with <code>.nullable()</code> applied. No manual chaining required.</p>
</div>
</div>
<hr />
<h2 id="composition-with-existing-optics"><a class="header" href="#composition-with-existing-optics">Composition with Existing Optics</a></h2>
<p>Focus paths compose seamlessly with existing optics using <code>.via()</code>:</p>
<h3 id="path--lens--path-or-affine"><a class="header" href="#path--lens--path-or-affine">Path + Lens = Path (or Affine)</a></h3>
<pre><code class="language-java">// Existing lens for a computed property
Lens&lt;Employee, String&gt; fullNameLens = Lens.of(
    e -&gt; e.firstName() + " " + e.lastName(),
    (e, name) -&gt; { /* setter logic */ }
);

// Compose Focus path with existing lens
FocusPath&lt;Department, String&gt; employeeFullName =
    DepartmentFocus.manager().via(fullNameLens);
</code></pre>
<h3 id="path--prism--affinepath"><a class="header" href="#path--prism--affinepath">Path + Prism = AffinePath</a></h3>
<pre><code class="language-java">// Prism for sealed interface variant
Prism&lt;Shape, Circle&gt; circlePrism = ShapePrisms.circle();

// Compose to get AffinePath
AffinePath&lt;Drawing, Circle&gt; firstCircle =
    DrawingFocus.shape(0).via(circlePrism);
</code></pre>
<h3 id="path--traversal--traversalpath"><a class="header" href="#path--traversal--traversalpath">Path + Traversal = TraversalPath</a></h3>
<pre><code class="language-java">// Custom traversal
Traversal&lt;String, Character&gt; charsTraversal = StringTraversals.chars();

// Compose for character-level access
TraversalPath&lt;Employee, Character&gt; nameChars =
    EmployeeFocus.name().via(charsTraversal);
</code></pre>
<hr />
<h2 id="fluent-navigation-with-generated-navigators"><a class="header" href="#fluent-navigation-with-generated-navigators">Fluent Navigation with Generated Navigators</a></h2>
<div id="admonition-zero-boilerplate-cross-type-navigation" class="admonition admonish-tip" role="note" aria-labelledby="admonition-zero-boilerplate-cross-type-navigation-title">
<div class="admonition-title">
<div id="admonition-zero-boilerplate-cross-type-navigation-title">
<p>Zero-Boilerplate Cross-Type Navigation</p>
</div>
<a class="admonition-anchor-link" href="#admonition-zero-boilerplate-cross-type-navigation"></a>
</div>
<div>
<p>When navigating across multiple record types, the standard approach requires explicit <code>.via()</code> calls at each boundary. Generated navigators eliminate this boilerplate, enabling chains like <code>CompanyFocus.headquarters().city()</code> directly.</p>
</div>
</div>
<h3 id="the-problem-explicit-composition"><a class="header" href="#the-problem-explicit-composition">The Problem: Explicit Composition</a></h3>
<p>Without navigators, cross-type navigation requires <code>.via()</code> at each type boundary:</p>
<pre><code class="language-java">// Without navigators - explicit .via() at each step
String city = CompanyFocus.headquarters()
    .via(AddressFocus.city().toLens())
    .get(company);

// Deep navigation becomes verbose
String managerCity = CompanyFocus.departments()
    .each()
    .via(DepartmentFocus.manager().toLens())
    .via(PersonFocus.address().toLens())
    .via(AddressFocus.city().toLens())
    .get(company);
</code></pre>
<h3 id="the-solution-generated-navigators"><a class="header" href="#the-solution-generated-navigators">The Solution: Generated Navigators</a></h3>
<p>Enable navigator generation with <code>generateNavigators = true</code>:</p>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true)
record Company(String name, Address headquarters) {}

@GenerateFocus(generateNavigators = true)
record Address(String street, String city) {}

// With navigators - fluent chaining
String city = CompanyFocus.headquarters().city().get(company);

// Navigators chain naturally
Company updated = CompanyFocus.headquarters().city()
    .modify(String::toUpperCase, company);
</code></pre>
<h3 id="how-navigators-work"><a class="header" href="#how-navigators-work">How Navigators Work</a></h3>
<p>When <code>generateNavigators = true</code>, the processor generates navigator wrapper classes for fields whose types are also annotated with <code>@GenerateFocus</code>. The generated code looks like:</p>
<pre><code class="language-java">// Generated in CompanyFocus.java
public static HeadquartersNavigator&lt;Company&gt; headquarters() {
    return new HeadquartersNavigator&lt;&gt;(
        FocusPath.of(Lens.of(Company::headquarters, ...))
    );
}

// Generated inner class
public static final class HeadquartersNavigator&lt;S&gt; {
    private final FocusPath&lt;S, Address&gt; delegate;

    // Delegate methods - same as FocusPath
    public Address get(S source) { return delegate.get(source); }
    public S set(Address value, S source) { return delegate.set(value, source); }
    public S modify(Function&lt;Address, Address&gt; f, S source) { ... }

    // Navigation methods for Address fields
    public FocusPath&lt;S, String&gt; street() {
        return delegate.via(AddressFocus.street().toLens());
    }

    public FocusPath&lt;S, String&gt; city() {
        return delegate.via(AddressFocus.city().toLens());
    }

    // Access underlying path
    public FocusPath&lt;S, Address&gt; toPath() { return delegate; }
}
</code></pre>
<h3 id="path-type-widening"><a class="header" href="#path-type-widening">Path Type Widening</a></h3>
<p>Navigators automatically widen path types when navigating through optional or collection fields:</p>
<div class="table-wrapper"><table><thead><tr><th>Source Field Type</th><th>Navigator Returns</th></tr></thead><tbody>
<tr><td>Regular field (<code>Address address</code>)</td><td><code>FocusPath</code> methods</td></tr>
<tr><td>Optional field (<code>Optional&lt;Address&gt;</code>)</td><td><code>AffinePath</code> methods</td></tr>
<tr><td>Collection field (<code>List&lt;Address&gt;</code>)</td><td><code>TraversalPath</code> methods</td></tr>
</tbody></table>
</div>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true)
record User(String name, Optional&lt;Address&gt; homeAddress, List&lt;Address&gt; workAddresses) {}

// homeAddress navigator methods return AffinePath
Optional&lt;String&gt; homeCity = UserFocus.homeAddress().city().getOptional(user);

// workAddresses navigator methods return TraversalPath
List&lt;String&gt; workCities = UserFocus.workAddresses().city().getAll(user);
</code></pre>
<h3 id="controlling-navigator-generation"><a class="header" href="#controlling-navigator-generation">Controlling Navigator Generation</a></h3>
<h4 id="depth-limiting"><a class="header" href="#depth-limiting">Depth Limiting</a></h4>
<p>Prevent excessive code generation for deeply nested structures:</p>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true, maxNavigatorDepth = 2)
record Root(Level1 child) {}

// Depth 1: child() returns Level1Navigator
// Depth 2: child().nested() returns FocusPath (not a navigator)
// Beyond depth 2: use .via() for further navigation

FocusPath&lt;Root, String&gt; deepPath = RootFocus.child().nested()
    .via(Level3Focus.value().toLens());
</code></pre>
<h4 id="field-filtering"><a class="header" href="#field-filtering">Field Filtering</a></h4>
<p>Include only specific fields in navigator generation:</p>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true, includeFields = {"primary"})
record MultiAddress(Address primary, Address secondary, Address backup) {}

// primary() returns navigator with navigation methods
// secondary() and backup() return standard FocusPath&lt;MultiAddress, Address&gt;
</code></pre>
<p>Or exclude specific fields:</p>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true, excludeFields = {"internal"})
record Config(Settings user, Settings internal) {}

// user() returns navigator
// internal() returns standard FocusPath (no nested navigation)
</code></pre>
<h3 id="when-to-use-navigators"><a class="header" href="#when-to-use-navigators">When to Use Navigators</a></h3>
<p><strong>Enable navigators when:</strong></p>
<ul>
<li>Navigating across multiple record types frequently</li>
<li>Deep navigation is common in your codebase</li>
<li>You want IDE autocomplete for nested fields</li>
<li>Teaching or onboarding developers</li>
</ul>
<p><strong>Keep navigators disabled when:</strong></p>
<ul>
<li>Fields reference third-party types (not annotated with <code>@GenerateFocus</code>)</li>
<li>You need minimal generated code footprint</li>
<li>The project has shallow data structures</li>
</ul>
<h3 id="combining-navigators-with-other-features"><a class="header" href="#combining-navigators-with-other-features">Combining Navigators with Other Features</a></h3>
<p>Navigators work seamlessly with all Focus DSL features:</p>
<pre><code class="language-java">// With type class operations
Company validated = CompanyFocus.headquarters().city()
    .modifyF(this::validateCity, company, EitherMonad.INSTANCE);

// With conditional modification
Company updated = CompanyFocus.departments()
    .each()
    .modifyWhen(d -&gt; d.name().equals("Engineering"), this::promote, company);

// With tracing for debugging
FocusPath&lt;Company, String&gt; traced = CompanyFocus.headquarters().city()
    .traced((company, city) -&gt; System.out.println("City: " + city));
</code></pre>
<hr />
<h2 id="type-class-integration"><a class="header" href="#type-class-integration">Type Class Integration</a></h2>
<p>The Focus DSL integrates deeply with higher-kinded-j type classes, enabling effectful operations, monoid-based aggregation, and generic collection traversal.</p>
<h3 id="effectful-modification-with-modifyf"><a class="header" href="#effectful-modification-with-modifyf">Effectful Modification with <code>modifyF()</code></a></h3>
<p>All path types support <code>modifyF()</code> for effectful transformations:</p>
<pre><code class="language-java">// Validation - accumulate all errors
Kind&lt;ValidatedKind.Witness&lt;List&lt;String&gt;&gt;, User&gt; result = userPath.modifyF(
    email -&gt; EmailValidator.validate(email),
    user,
    ValidatedApplicative.instance()
);

// Async updates with CompletableFuture
Kind&lt;CompletableFutureKind.Witness, Config&gt; asyncResult = configPath.modifyF(
    key -&gt; fetchNewApiKey(key),  // Returns CompletableFuture
    config,
    CompletableFutureApplicative.INSTANCE
);

// IO operations
Kind&lt;IOKind.Witness, User&gt; ioResult = userPath.modifyF(
    name -&gt; IO.of(() -&gt; readFromDatabase(name)),
    user,
    IOMonad.INSTANCE
);
</code></pre>
<h3 id="monoid-based-aggregation-with-foldmap"><a class="header" href="#monoid-based-aggregation-with-foldmap">Monoid-Based Aggregation with <code>foldMap()</code></a></h3>
<p><code>TraversalPath</code> supports <code>foldMap()</code> for aggregating values:</p>
<pre><code class="language-java">// Sum all salaries using integer addition monoid
int totalSalary = employeesPath.foldMap(
    Monoids.integerAddition(),
    Employee::salary,
    company
);

// Concatenate all names
String allNames = employeesPath.foldMap(
    Monoids.string(),
    Employee::name,
    company
);

// Custom monoid for set union
Set&lt;String&gt; allSkills = employeesPath.foldMap(
    Monoids.set(),
    e -&gt; e.skills(),
    company
);
</code></pre>
<h3 id="generic-collection-traversal-with-traverseover"><a class="header" href="#generic-collection-traversal-with-traverseover">Generic Collection Traversal with <code>traverseOver()</code></a></h3>
<p>When working with collections wrapped in <code>Kind&lt;F, A&gt;</code>, use <code>traverseOver()</code> with a <code>Traverse</code> instance:</p>
<pre><code class="language-java">// Given a field with Kind&lt;ListKind.Witness, Role&gt; type
FocusPath&lt;User, Kind&lt;ListKind.Witness, Role&gt;&gt; rolesPath = UserFocus.roles();

// Traverse into the collection
TraversalPath&lt;User, Role&gt; allRoles =
    rolesPath.&lt;ListKind.Witness, Role&gt;traverseOver(ListTraverse.INSTANCE);

// Now operate on individual roles
List&lt;Role&gt; roles = allRoles.getAll(user);
User updated = allRoles.modifyAll(Role::promote, user);
</code></pre>
<p><strong>When to use <code>traverseOver()</code> vs <code>each()</code>:</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Method</th><th>Use Case</th></tr></thead><tbody>
<tr><td><code>each()</code></td><td>Standard <code>List&lt;T&gt;</code> or <code>Set&lt;T&gt;</code> fields</td></tr>
<tr><td><code>traverseOver()</code></td><td><code>Kind&lt;F, T&gt;</code> fields with custom Traverse</td></tr>
</tbody></table>
</div>
<pre><code class="language-java">// For List&lt;T&gt; - use each()
TraversalPath&lt;Team, User&gt; members = TeamFocus.membersList().each();

// For Kind&lt;ListKind.Witness, T&gt; - use traverseOver()
TraversalPath&lt;Team, User&gt; members = TeamFocus.membersKind()
    .&lt;ListKind.Witness, User&gt;traverseOver(ListTraverse.INSTANCE);
</code></pre>
<h3 id="conditional-modification-with-modifywhen"><a class="header" href="#conditional-modification-with-modifywhen">Conditional Modification with <code>modifyWhen()</code></a></h3>
<p>Modify only elements that match a predicate:</p>
<pre><code class="language-java">// Give raises only to senior employees
Company updated = CompanyFocus.employees()
    .modifyWhen(
        e -&gt; e.yearsOfService() &gt; 5,
        e -&gt; e.withSalary(e.salary().multiply(1.10)),
        company
    );

// Enable only premium features
Config updated = ConfigFocus.features()
    .modifyWhen(
        f -&gt; f.tier() == Tier.PREMIUM,
        Feature::enable,
        config
    );
</code></pre>
<h3 id="working-with-sum-types-using-instanceof"><a class="header" href="#working-with-sum-types-using-instanceof">Working with Sum Types using <code>instanceOf()</code></a></h3>
<p>Focus on specific variants of sealed interfaces:</p>
<pre><code class="language-java">sealed interface Shape permits Circle, Rectangle, Triangle {}

// Focus on circles only
AffinePath&lt;Shape, Circle&gt; circlePath = AffinePath.instanceOf(Circle.class);

// Compose with other paths
TraversalPath&lt;Drawing, Double&gt; circleRadii =
    DrawingFocus.shapes()
        .via(AffinePath.instanceOf(Circle.class))
        .via(CircleFocus.radius());

// Modify only circles
Drawing updated = DrawingFocus.shapes()
    .via(AffinePath.instanceOf(Circle.class))
    .modifyAll(c -&gt; c.withRadius(c.radius() * 2), drawing);
</code></pre>
<h3 id="path-debugging-with-traced"><a class="header" href="#path-debugging-with-traced">Path Debugging with <code>traced()</code></a></h3>
<p>Debug complex path navigation by observing values:</p>
<pre><code class="language-java">// Add tracing to see what values are accessed
FocusPath&lt;Company, String&gt; debugPath = CompanyFocus.ceo().name()
    .traced((company, name) -&gt;
        System.out.println("Accessing CEO name: " + name + " from " + company.name()));

// Every get() call now logs the accessed value
String name = debugPath.get(company);

// For TraversalPath, observe all values
TraversalPath&lt;Company, Employee&gt; tracedEmployees = CompanyFocus.employees()
    .traced((company, employees) -&gt;
        System.out.println("Found " + employees.size() + " employees"));
</code></pre>
<hr />
<h2 id="generated-class-structure"><a class="header" href="#generated-class-structure">Generated Class Structure</a></h2>
<p>For a record like:</p>
<pre><code class="language-java">@GenerateLenses
@GenerateFocus
record Employee(
    String name,
    int age,
    Optional&lt;String&gt; email,
    @Nullable String nickname,
    List&lt;Skill&gt; skills
) {}
</code></pre>
<p>The processor generates:</p>
<pre><code class="language-java">@Generated
public final class EmployeeFocus {
    private EmployeeFocus() {}

    // Required fields -&gt; FocusPath
    public static FocusPath&lt;Employee, String&gt; name() {
        return FocusPath.of(EmployeeLenses.name());
    }

    public static FocusPath&lt;Employee, Integer&gt; age() {
        return FocusPath.of(EmployeeLenses.age());
    }

    // Optional&lt;T&gt; field -&gt; AffinePath (automatically unwraps with .some())
    public static AffinePath&lt;Employee, String&gt; email() {
        return FocusPath.of(EmployeeLenses.email()).some();
    }

    // @Nullable field -&gt; AffinePath (automatically handles null with .nullable())
    public static AffinePath&lt;Employee, String&gt; nickname() {
        return FocusPath.of(EmployeeLenses.nickname()).nullable();
    }

    // List&lt;T&gt; field -&gt; TraversalPath (traverses elements)
    public static TraversalPath&lt;Employee, Skill&gt; skills() {
        return FocusPath.of(EmployeeLenses.skills()).each();
    }

    // Indexed access to List&lt;T&gt; -&gt; AffinePath
    public static AffinePath&lt;Employee, Skill&gt; skill(int index) {
        return FocusPath.of(EmployeeLenses.skills()).at(index);
    }
}
</code></pre>
<hr />
<h2 id="integration-with-free-monad-dsl"><a class="header" href="#integration-with-free-monad-dsl">Integration with Free Monad DSL</a></h2>
<p>Focus paths integrate with <code>OpticPrograms</code> for complex workflows:</p>
<pre><code class="language-java">// Build a program using Focus paths
Free&lt;OpticOpKind.Witness, Company&gt; program = OpticPrograms
    .get(company, CompanyFocus.name().toLens())
    .flatMap(name -&gt; {
        if (name.startsWith("Acme")) {
            return OpticPrograms.modifyAll(
                company,
                CompanyFocus.departments().employees().age().toTraversal(),
                age -&gt; age + 1
            );
        } else {
            return OpticPrograms.pure(company);
        }
    });

// Execute with interpreter
Company result = OpticInterpreters.direct().run(program);
</code></pre>
<hr />
<h2 id="when-to-use-focus-dsl-vs-manual-composition"><a class="header" href="#when-to-use-focus-dsl-vs-manual-composition">When to Use Focus DSL vs Manual Composition</a></h2>
<h3 id="use-focus-dsl-when"><a class="header" href="#use-focus-dsl-when">Use Focus DSL When:</a></h3>
<ul>
<li><strong>Navigating deeply nested structures</strong> with many levels</li>
<li><strong>IDE autocomplete is important</strong> for discoverability</li>
<li><strong>Teaching or onboarding</strong> developers new to optics</li>
<li><strong>Prototyping</strong> before optimising for performance</li>
</ul>
<pre><code class="language-java">// Focus DSL - clear intent, discoverable
List&lt;String&gt; emails = CompanyFocus
    .departments()
    .employees()
    .email()
    .getAll(company);
</code></pre>
<h3 id="use-manual-composition-when"><a class="header" href="#use-manual-composition-when">Use Manual Composition When:</a></h3>
<ul>
<li><strong>Custom optics</strong> (computed properties, validated updates)</li>
<li><strong>Performance-critical code</strong> (avoid intermediate allocations)</li>
<li><strong>Reusable optic libraries</strong> (compose once, use everywhere)</li>
<li><strong>Complex conditional logic</strong> in the optic itself</li>
</ul>
<pre><code class="language-java">// Manual composition - more control, reusable
public static final Lens&lt;Company, String&gt; CEO_NAME =
    CompanyLenses.ceo()
        .andThen(ExecutiveLenses.person())
        .andThen(PersonLenses.fullName());
</code></pre>
<h3 id="hybrid-approach-recommended"><a class="header" href="#hybrid-approach-recommended">Hybrid Approach (Recommended)</a></h3>
<p>Use Focus DSL for navigation, then extract for reuse:</p>
<pre><code class="language-java">// Use Focus for exploration
var path = CompanyFocus.departments().employees().email();

// Extract and store the composed optic
public static final Traversal&lt;Company, String&gt; ALL_EMAILS =
    path.toTraversal();

// Reuse the extracted optic
List&lt;String&gt; emails = Traversals.getAll(ALL_EMAILS, company);
</code></pre>
<hr />
<h2 id="common-patterns"><a class="header" href="#common-patterns">Common Patterns</a></h2>
<h3 id="pattern-1-batch-updates"><a class="header" href="#pattern-1-batch-updates">Pattern 1: Batch Updates</a></h3>
<pre><code class="language-java">// Give all employees in Engineering a raise
Company updated = CompanyFocus
    .departments()
    .filter(d -&gt; d.name().equals("Engineering"))
    .employees()
    .salary()
    .modifyAll(s -&gt; s.multiply(new BigDecimal("1.10")), company);
</code></pre>
<h3 id="pattern-2-safe-deep-access"><a class="header" href="#pattern-2-safe-deep-access">Pattern 2: Safe Deep Access</a></h3>
<pre><code class="language-java">// Safely access deeply nested optional
Optional&lt;String&gt; managerEmail = CompanyFocus
    .department(0)
    .manager()
    .email()
    .getOptional(company);

// Handle absence gracefully
String email = managerEmail.orElse("no-manager@company.com");
</code></pre>
<h3 id="pattern-3-validation-with-focus"><a class="header" href="#pattern-3-validation-with-focus">Pattern 3: Validation with Focus</a></h3>
<pre><code class="language-java">// Validate all employee ages
Validated&lt;List&lt;String&gt;, Company&gt; result = OpticOps.modifyAllValidated(
    company,
    CompanyFocus.departments().employees().age().toTraversal(),
    age -&gt; age &gt;= 18 &amp;&amp; age &lt;= 100
        ? Validated.valid(age)
        : Validated.invalid("Invalid age: " + age)
);
</code></pre>
<hr />
<h2 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h2>
<p>Focus paths add a thin abstraction layer over raw optics:</p>
<ul>
<li><strong>Path creation</strong>: Minimal overhead (simple wrapper objects)</li>
<li><strong>Traversal</strong>: Identical to underlying optic performance</li>
<li><strong>Memory</strong>: One additional object per path segment</li>
</ul>
<p><strong>Best Practice</strong>: For hot paths, extract the underlying optic:</p>
<pre><code class="language-java">// Cold path - Focus DSL is fine
var result = CompanyFocus.departments().name().getAll(company);

// Hot path - extract and cache the optic
private static final Traversal&lt;Company, String&gt; DEPT_NAMES =
    CompanyFocus.departments().name().toTraversal();

for (Company c : manyCompanies) {
    var names = Traversals.getAll(DEPT_NAMES, c);  // Faster
}
</code></pre>
<hr />
<h2 id="customising-generated-code"><a class="header" href="#customising-generated-code">Customising Generated Code</a></h2>
<h3 id="target-package"><a class="header" href="#target-package">Target Package</a></h3>
<pre><code class="language-java">@GenerateFocus(targetPackage = "com.myapp.optics.focus")
record User(String name) {}
// Generates: com.myapp.optics.focus.UserFocus
</code></pre>
<h3 id="navigator-generation"><a class="header" href="#navigator-generation">Navigator Generation</a></h3>
<p>Enable fluent cross-type navigation with generated navigator classes:</p>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true)
record Company(String name, Address headquarters) {}

@GenerateFocus(generateNavigators = true)
record Address(String street, String city) {}

// Now navigate fluently without .via():
String city = CompanyFocus.headquarters().city().get(company);
</code></pre>
<h3 id="navigator-depth-limiting"><a class="header" href="#navigator-depth-limiting">Navigator Depth Limiting</a></h3>
<p>Control how deep navigator generation goes with <code>maxNavigatorDepth</code>:</p>
<pre><code class="language-java">@GenerateFocus(generateNavigators = true, maxNavigatorDepth = 2)
record Organisation(Division division) {}

// Depth 1: Returns DivisionNavigator
// Depth 2: Returns FocusPath (not a navigator)
// Beyond: Use .via() for further navigation
</code></pre>
<h3 id="field-filtering-1"><a class="header" href="#field-filtering-1">Field Filtering</a></h3>
<p>Control which fields get navigator generation:</p>
<pre><code class="language-java">// Only generate navigators for specific fields
@GenerateFocus(generateNavigators = true, includeFields = {"homeAddress"})
record Person(String name, Address homeAddress, Address workAddress) {}

// Or exclude specific fields
@GenerateFocus(generateNavigators = true, excludeFields = {"backup"})
record Config(Settings main, Settings backup) {}
</code></pre>
<hr />
<h2 id="lens-fallback-for-non-annotated-types"><a class="header" href="#lens-fallback-for-non-annotated-types">Lens Fallback for Non-Annotated Types</a></h2>
<p>When navigating to a type without <code>@GenerateFocus</code>, you can continue with <code>.via()</code>:</p>
<pre><code class="language-java">// ThirdPartyRecord doesn't have @GenerateFocus
@GenerateLenses
@GenerateFocus
record MyRecord(ThirdPartyRecord external) {}

// Navigate as far as Focus allows, then use .via() with existing lens
FocusPath&lt;MyRecord, ThirdPartyRecord&gt; externalPath = MyRecordFocus.external();
FocusPath&lt;MyRecord, String&gt; deepPath = externalPath.via(ThirdPartyLenses.someField());
</code></pre>
<hr />
<h2 id="common-pitfalls"><a class="header" href="#common-pitfalls">Common Pitfalls</a></h2>
<h3 id="dont-recreate-paths-in-loops"><a class="header" href="#dont-recreate-paths-in-loops">Don't: Recreate paths in loops</a></h3>
<pre><code class="language-java">// Bad - creates new path objects each iteration
for (Company c : companies) {
    var names = CompanyFocus.departments().name().getAll(c);
}
</code></pre>
<h3 id="do-extract-and-reuse"><a class="header" href="#do-extract-and-reuse">Do: Extract and reuse</a></h3>
<pre><code class="language-java">// Good - create path once
var deptNames = CompanyFocus.departments().name();
for (Company c : companies) {
    var names = deptNames.getAll(c);
}
</code></pre>
<h3 id="dont-ignore-the-path-type"><a class="header" href="#dont-ignore-the-path-type">Don't: Ignore the path type</a></h3>
<pre><code class="language-java">// Confusing - what does this return?
var result = somePath.get(source);  // Might fail if AffinePath!
</code></pre>
<h3 id="do-use-the-appropriate-method"><a class="header" href="#do-use-the-appropriate-method">Do: Use the appropriate method</a></h3>
<pre><code class="language-java">// Clear - FocusPath always has a value
String name = namePath.get(employee);

// Clear - AffinePath might be empty
Optional&lt;String&gt; email = emailPath.getOptional(employee);

// Clear - TraversalPath has multiple values
List&lt;String&gt; names = namesPath.getAll(department);
</code></pre>
<hr />
<h2 id="troubleshooting-and-faq"><a class="header" href="#troubleshooting-and-faq">Troubleshooting and FAQ</a></h2>
<h3 id="compilation-errors"><a class="header" href="#compilation-errors">Compilation Errors</a></h3>
<h4 id="cannot-infer-type-arguments-for-traverseover"><a class="header" href="#cannot-infer-type-arguments-for-traverseover">"Cannot infer type arguments for traverseOver"</a></h4>
<p><strong>Problem:</strong></p>
<pre><code class="language-java">// This fails to compile
TraversalPath&lt;User, Role&gt; allRoles = rolesPath.traverseOver(ListTraverse.INSTANCE);
</code></pre>
<p><strong>Solution:</strong> Provide explicit type parameters:</p>
<pre><code class="language-java">// Add explicit type witnesses
TraversalPath&lt;User, Role&gt; allRoles =
    rolesPath.&lt;ListKind.Witness, Role&gt;traverseOver(ListTraverse.INSTANCE);
</code></pre>
<p>Java's type inference struggles with higher-kinded types. Explicit type parameters help the compiler.</p>
<h4 id="incompatible-types-when-chaining-eachvia"><a class="header" href="#incompatible-types-when-chaining-eachvia">"Incompatible types when chaining .each().via()"</a></h4>
<p><strong>Problem:</strong></p>
<pre><code class="language-java">// Type inference fails on long chains
TraversalPath&lt;Company, Integer&gt; salaries =
    FocusPath.of(companyDeptLens).each().via(deptEmployeesLens).each().via(salaryLens);
</code></pre>
<p><strong>Solution:</strong> Break the chain into intermediate variables:</p>
<pre><code class="language-java">// Use intermediate variables
TraversalPath&lt;Company, Department&gt; depts = FocusPath.of(companyDeptLens).each();
TraversalPath&lt;Company, Employee&gt; employees = depts.via(deptEmployeesLens).each();
TraversalPath&lt;Company, Integer&gt; salaries = employees.via(salaryLens);
</code></pre>
<h4 id="sealed-or-non-sealed-local-classes-are-not-allowed"><a class="header" href="#sealed-or-non-sealed-local-classes-are-not-allowed">"Sealed or non-sealed local classes are not allowed"</a></h4>
<p><strong>Problem:</strong> Defining sealed interfaces inside test methods fails:</p>
<pre><code class="language-java">@Test void myTest() {
    sealed interface Wrapper permits A, B {}  // Compilation error!
    record A() implements Wrapper {}
}
</code></pre>
<p><strong>Solution:</strong> Move sealed interfaces to class level:</p>
<pre><code class="language-java">class MyTest {
    sealed interface Wrapper permits A, B {}
    record A() implements Wrapper {}

    @Test void myTest() {
        // Use Wrapper here
    }
}
</code></pre>
<h4 id="method-reference-new-doesnt-work-with-single-field-records-as-bifunction"><a class="header" href="#method-reference-new-doesnt-work-with-single-field-records-as-bifunction">"Method reference ::new doesn't work with single-field records as BiFunction"</a></h4>
<p><strong>Problem:</strong></p>
<pre><code class="language-java">// This fails for single-field records
Lens&lt;Outer, Inner&gt; lens = Lens.of(Outer::inner, Outer::new);  // Error!
</code></pre>
<p><strong>Solution:</strong> Use explicit lambda:</p>
<pre><code class="language-java">Lens&lt;Outer, Inner&gt; lens = Lens.of(Outer::inner, (o, i) -&gt; new Outer(i));
</code></pre>
<h3 id="runtime-issues"><a class="header" href="#runtime-issues">Runtime Issues</a></h3>
<h4 id="getall-returns-empty-unexpectedly"><a class="header" href="#getall-returns-empty-unexpectedly">"getAll() returns empty unexpectedly"</a></h4>
<p><strong>Checklist:</strong></p>
<ol>
<li>Check if the AffinePath in the chain has focus (use <code>matches()</code> to verify)</li>
<li>Verify <code>instanceOf()</code> matches the actual runtime type</li>
<li>Ensure the source data actually contains elements</li>
</ol>
<pre><code class="language-java">// Debug with traced()
TraversalPath&lt;User, Role&gt; traced = rolesPath.traced(
    (user, roles) -&gt; System.out.println("Found " + roles.size() + " roles")
);
List&lt;Role&gt; roles = traced.getAll(user);
</code></pre>
<h4 id="modifyall-doesnt-change-anything"><a class="header" href="#modifyall-doesnt-change-anything">"modifyAll() doesn't change anything"</a></h4>
<p><strong>Causes:</strong></p>
<ul>
<li>The traversal has no focus (AffinePath didn't match)</li>
<li>The predicate in <code>modifyWhen()</code> never matches</li>
<li>The source collection is empty</li>
</ul>
<pre><code class="language-java">// Check focus exists
int count = path.count(source);
System.out.println("Path focuses on " + count + " elements");
</code></pre>
<h3 id="faq"><a class="header" href="#faq">FAQ</a></h3>
<h4 id="q-when-should-i-use-each-vs-traverseover"><a class="header" href="#q-when-should-i-use-each-vs-traverseover">Q: When should I use <code>each()</code> vs <code>traverseOver()</code>?</a></h4>
<div class="table-wrapper"><table><thead><tr><th>Scenario</th><th>Use</th></tr></thead><tbody>
<tr><td>Field is <code>List&lt;T&gt;</code></td><td><code>each()</code></td></tr>
<tr><td>Field is <code>Set&lt;T&gt;</code></td><td><code>each()</code></td></tr>
<tr><td>Field is <code>Kind&lt;ListKind.Witness, T&gt;</code></td><td><code>traverseOver(ListTraverse.INSTANCE)</code></td></tr>
<tr><td>Field is <code>Kind&lt;MaybeKind.Witness, T&gt;</code></td><td><code>traverseOver(MaybeTraverse.INSTANCE)</code></td></tr>
<tr><td>Custom traversable type</td><td><code>traverseOver(YourTraverse.INSTANCE)</code></td></tr>
</tbody></table>
</div>
<h4 id="q-why-use-maybemonadinstance-for-modifyf-instead-of-a-dedicated-applicative"><a class="header" href="#q-why-use-maybemonadinstance-for-modifyf-instead-of-a-dedicated-applicative">Q: Why use <code>MaybeMonad.INSTANCE</code> for <code>modifyF()</code> instead of a dedicated Applicative?</a></h4>
<p><code>MaybeMonad</code> extends <code>Applicative</code>, so it works for <code>modifyF()</code>. Higher-Kinded-J doesn't provide a separate <code>MaybeApplicative</code> because:</p>
<ul>
<li>Monad already provides all Applicative operations</li>
<li>Having one instance simplifies the API</li>
<li>Most effects you'll use with <code>modifyF()</code> are monadic anyway</li>
</ul>
<pre><code class="language-java">// Use MaybeMonad for Maybe-based validation
Kind&lt;MaybeKind.Witness, Config&gt; result =
    keyPath.modifyF(validateKey, config, MaybeMonad.INSTANCE);
</code></pre>
<h4 id="q-can-i-use-focus-dsl-with-third-party-types"><a class="header" href="#q-can-i-use-focus-dsl-with-third-party-types">Q: Can I use Focus DSL with third-party types?</a></h4>
<p>Yes, use <code>.via()</code> to compose with manually created optics:</p>
<pre><code class="language-java">// Create lens for third-party type
Lens&lt;ThirdPartyType, String&gt; fieldLens = Lens.of(
    ThirdPartyType::getField,
    (obj, value) -&gt; obj.toBuilder().field(value).build()
);

// Compose with Focus path
FocusPath&lt;MyRecord, String&gt; path = MyRecordFocus.external().via(fieldLens);
</code></pre>
<h4 id="q-how-do-i-handle-nullable-fields"><a class="header" href="#q-how-do-i-handle-nullable-fields">Q: How do I handle nullable fields?</a></h4>
<p>The Focus DSL provides four approaches for handling nullable fields, from most to least automated:</p>
<p><strong>Option 1: Use <code>@Nullable</code> annotation (Recommended)</strong></p>
<p>Annotate nullable fields with <code>@Nullable</code> from JSpecify, JSR-305, or similar. The processor automatically generates <code>AffinePath</code> with null-safe access:</p>
<pre><code class="language-java">import org.jspecify.annotations.Nullable;

@GenerateFocus
record User(String name, @Nullable String nickname) {}

// Generated: AffinePath that handles null automatically
AffinePath&lt;User, String&gt; nicknamePath = UserFocus.nickname();

User user = new User("Alice", null);
Optional&lt;String&gt; result = nicknamePath.getOptional(user);  // Optional.empty()

User withNick = new User("Bob", "Bobby");
Optional&lt;String&gt; present = nicknamePath.getOptional(withNick);  // Optional.of("Bobby")
</code></pre>
<p>Supported nullable annotations:</p>
<ul>
<li><code>org.jspecify.annotations.Nullable</code></li>
<li><code>javax.annotation.Nullable</code></li>
<li><code>jakarta.annotation.Nullable</code></li>
<li><code>org.jetbrains.annotations.Nullable</code></li>
<li><code>androidx.annotation.Nullable</code></li>
<li><code>edu.umd.cs.findbugs.annotations.Nullable</code></li>
</ul>
<p><strong>Option 2: Use <code>.nullable()</code> method</strong></p>
<p>For existing <code>FocusPath</code> instances, chain with <code>.nullable()</code> to handle nulls:</p>
<pre><code class="language-java">// If you have a FocusPath to a nullable field
FocusPath&lt;LegacyUser, String&gt; rawPath = LegacyUserFocus.nickname();

// Chain with nullable() for null-safe access
AffinePath&lt;LegacyUser, String&gt; safePath = rawPath.nullable();

Optional&lt;String&gt; result = safePath.getOptional(user);  // Empty if null
</code></pre>
<p><strong>Option 3: Use <code>AffinePath.ofNullable()</code> factory</strong></p>
<p>For manual creation without code generation:</p>
<pre><code class="language-java">// Create a nullable-aware AffinePath directly
AffinePath&lt;User, String&gt; nicknamePath = AffinePath.ofNullable(
    User::nickname,
    (user, nickname) -&gt; new User(user.name(), nickname)
);
</code></pre>
<p><strong>Option 4: Wrap in <code>Optional</code> (Alternative design)</strong></p>
<p>If you control the data model, consider using <code>Optional&lt;T&gt;</code> instead of nullable fields:</p>
<pre><code class="language-java">// Model absence explicitly with Optional
record User(String name, Optional&lt;String&gt; email) {}

// Focus DSL handles it naturally with .some()
AffinePath&lt;User, String&gt; emailPath = UserFocus.email();  // Uses .some() internally
</code></pre>
<h4 id="q-whats-the-performance-overhead-of-focus-dsl"><a class="header" href="#q-whats-the-performance-overhead-of-focus-dsl">Q: What's the performance overhead of Focus DSL?</a></h4>
<ul>
<li><strong>Path creation</strong>: Negligible (thin wrapper objects)</li>
<li><strong>Operations</strong>: Same as underlying optics</li>
<li><strong>Hot paths</strong>: Extract and cache the optic</li>
</ul>
<pre><code class="language-java">// For performance-critical code, cache the extracted optic
private static final Traversal&lt;Company, String&gt; EMPLOYEE_NAMES =
    CompanyFocus.departments().employees().name().toTraversal();

// Use the cached optic in hot loops
for (Company c : companies) {
    List&lt;String&gt; names = Traversals.getAll(EMPLOYEE_NAMES, c);
}
</code></pre>
<h4 id="q-can-i-create-focus-paths-programmatically-at-runtime"><a class="header" href="#q-can-i-create-focus-paths-programmatically-at-runtime">Q: Can I create Focus paths programmatically (at runtime)?</a></h4>
<p>Focus paths are designed for compile-time type safety. For runtime-dynamic paths, use the underlying optics directly:</p>
<pre><code class="language-java">// Build optics dynamically
Traversal&lt;JsonNode, String&gt; dynamicPath = buildTraversalFromJsonPath(jsonPathString);

// Wrap in a path if needed
TraversalPath&lt;JsonNode, String&gt; path = TraversalPath.of(dynamicPath);
</code></pre>
<hr />
<div id="admonition-further-reading" class="admonition admonish-tip" role="note" aria-labelledby="admonition-further-reading-title">
<div class="admonition-title">
<div id="admonition-further-reading-title">
<p>Further Reading</p>
</div>
<a class="admonition-anchor-link" href="#admonition-further-reading"></a>
</div>
<div>
<ul>
<li><strong>Monocle</strong>: <a href="https://www.optics.dev/Monocle/docs/focus">Focus DSL</a> - Scala's equivalent, inspiration for this design</li>
</ul>
</div>
</div>
<div id="admonition-see-also" class="admonition admonish-tip" role="note" aria-labelledby="admonition-see-also-title">
<div class="admonition-title">
<div id="admonition-see-also-title">
<p>See Also</p>
</div>
<a class="admonition-anchor-link" href="#admonition-see-also"></a>
</div>
<div>
<ul>
<li><a href="lenses.html">Lenses</a> - Foundation concepts</li>
<li><a href="fluent_api.html">Fluent API</a> - Alternative fluent patterns</li>
<li><a href="free_monad_dsl.html">Free Monad DSL</a> - Composable optic programs</li>
</ul>
</div>
</div>
<hr />
<p><strong>Previous:</strong> <a href="ch4_intro.html">Introduction</a>
<strong>Next:</strong> <a href="kind_field_support.html">Kind Field Support</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../optics/ch4_intro.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../optics/kind_field_support.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../optics/ch4_intro.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../optics/kind_field_support.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../version-switcher.js"></script>
        <script src=".././theme/version-switcher.js"></script>
        <script src=".././theme/sidebar-nav-link.js"></script>


    </div>
    </body>
</html>
