<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Capability Interfaces - Higher-Kinded-J: Composable Effects and Advanced Optics for Java</title>


        <!-- Custom HTML head -->


            <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">


        <meta name="keywords" content="Higher-Kinded Types, Higher-Kinded-J, HKT, Java, Optics, Lens, Prism, Traversal, Iso, Affine, Focus DSL, Effect Path API, Functional Programming, Monad, Functor, Applicative, EitherPath, MaybePath, TryPath, ValidationPath, Java Records, Sealed Interface, Error Handling, Immutable Data">
        
        <meta property="og:title" content="Capability Interfaces - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
            <meta property="og:description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://higher-kinded-j.github.io/">
        <meta property="og:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta property="og:site_name" content="Higher-Kinded-J Documentation">
        <meta property="og:locale" content="en_GB">
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Capability Interfaces - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="twitter:description" content="Unifying Composable Effects and Advanced Optics for Java. Effect Path API, Focus DSL, and the most comprehensive optics implementation in the Java ecosystem.">
        <meta name="twitter:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta name="twitter:image:alt" content="Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">
        <meta name="google-site-verification" content="X-xsiAq2cKMLOzh9dexUrX8Onx2h_YMUFgp5lHHUwSg" />
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin.css">
        <link rel="stylesheet" href=".././theme/catppuccin-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin-alerts.css">
        <link rel="stylesheet" href=".././theme/additional-hkj.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappé</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        <div class="version-selector-container">
                            <select id="version-selector" class="version-selector" aria-label="Select documentation version" title="Select documentation version">
                                <option value="">Loading versions...</option>
                            </select>
                        </div>
                    </div>

                    <h1 class="menu-title">Higher-Kinded-J: Composable Effects and Advanced Optics for Java</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j/edit/main/hkj-book/src/effect/capabilities.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.mdbook-alerts {
  padding: 8px 16px;
  margin-bottom: 16px;
  border-left: 0.25em solid var(--mdbook-alerts-color);
}

.mdbook-alerts > *:first-child {
  margin-top: 0;
}

.mdbook-alerts > *:last-child {
  margin-bottom: 0;
}

.mdbook-alerts-title {
  display: flex;
  font-weight: 600;
  align-items: center;
  line-height: 1;
  color: var(--mdbook-alerts-color);
  text-transform: capitalize;
}

.mdbook-alerts-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  margin-right: 0.2em;
  background-color: currentColor;
  -webkit-mask: no-repeat center / 100%;
  mask: no-repeat center / 100%;
  -webkit-mask-image: var(--mdbook-alerts-icon);
  mask-image: var(--mdbook-alerts-icon);
}

.mdbook-alerts-note {
  --mdbook-alerts-color: rgb(9, 105, 218);
  /* https://icon-sets.iconify.design/material-symbols/info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11q-.425 0-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-tip {
  --mdbook-alerts-color: rgb(26, 127, 55);
  /* https://icon-sets.iconify.design/material-symbols/lightbulb-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 22q-.825 0-1.412-.587T10 20h4q0 .825-.587 1.413T12 22m-3-3q-.425 0-.712-.288T8 18q0-.425.288-.712T9 17h6q.425 0 .713.288T16 18q0 .425-.288.713T15 19zm-.75-3q-1.725-1.025-2.738-2.75T4.5 9.5q0-3.125 2.188-5.312T12 2q3.125 0 5.313 2.188T19.5 9.5q0 2.025-1.012 3.75T15.75 16zm.6-2h6.3q1.125-.8 1.738-1.975T17.5 9.5q0-2.3-1.6-3.9T12 4Q9.7 4 8.1 5.6T6.5 9.5q0 1.35.613 2.525T8.85 14M12 14"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-important {
  --mdbook-alerts-color: rgb(130, 80, 223);
  /* https://icon-sets.iconify.design/material-symbols/chat-info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 7q.425 0 .713-.288T13 6q0-.425-.288-.712T12 5q-.425 0-.712.288T11 6q0 .425.288.713T12 7m0 8q.425 0 .713-.288T13 14v-4q0-.425-.288-.712T12 9q-.425 0-.712.288T11 10v4q0 .425.288.713T12 15m-6 3l-2.3 2.3q-.475.475-1.088.213T2 19.575V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm-.85-2H20V4H4v13.125zM4 16V4z"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-warning {
  --mdbook-alerts-color: rgb(154, 103, 0);
  /* https://icon-sets.iconify.design/material-symbols/warning-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zm1.725-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15m0-2.5"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-caution {
  --mdbook-alerts-color: rgb(207, 34, 46);
  /* https://icon-sets.iconify.design/material-symbols/brightness-alert-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m0-4q.425 0 .713-.288T13 12V8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8v4q0 .425.288.713T12 13m-3.35 7H6q-.825 0-1.412-.587T4 18v-2.65L2.075 13.4q-.275-.3-.425-.662T1.5 12q0-.375.15-.737t.425-.663L4 8.65V6q0-.825.588-1.412T6 4h2.65l1.95-1.925q.3-.275.663-.425T12 1.5q.375 0 .738.15t.662.425L15.35 4H18q.825 0 1.413.588T20 6v2.65l1.925 1.95q.275.3.425.663t.15.737q0 .375-.15.738t-.425.662L20 15.35V18q0 .825-.587 1.413T18 20h-2.65l-1.95 1.925q-.3.275-.662.425T12 22.5q-.375 0-.737-.15t-.663-.425zm.85-2l2.5 2.5l2.5-2.5H18v-3.5l2.5-2.5L18 9.5V6h-3.5L12 3.5L9.5 6H6v3.5L3.5 12L6 14.5V18zm2.5-6"%2F%3E%3C%2Fsvg%3E');
}

</style>
<h1 id="capability-interfaces"><a class="header" href="#capability-interfaces">Capability Interfaces</a></h1>
<blockquote>
<p><em>"Caress the detail, the divine detail."</em></p>
<p>-- Vladimir Nabokov</p>
</blockquote>
<p>Nabokov was speaking of prose, but the principle applies to API design. The
Effect Path API doesn't give every Path type every operation. Instead, it
builds a hierarchy of <strong>capabilities</strong>, interfaces that add specific powers
to types that genuinely possess them. A <code>MaybePath</code> can recover from absence;
an <code>IdPath</code> cannot fail in the first place, so recovery would be meaningless.
The type system prevents you from reaching for tools that don't apply.</p>
<p>This isn't bureaucratic fastidiousness. It's how the library stays honest
about what each type can do.</p>
<div id="admonition-what-youll-learn" class="admonition admonish-info" role="note" aria-labelledby="admonition-what-youll-learn-title">
<div class="admonition-title">
<div id="admonition-what-youll-learn-title">
<p>What You'll Learn</p>
</div>
<a class="admonition-anchor-link" href="#admonition-what-youll-learn"></a>
</div>
<div>
<ul>
<li>The capability interface hierarchy: Composable, Combinable, Chainable, Recoverable, Effectful, and Accumulating</li>
<li>How each capability maps to functional programming concepts (Functor, Applicative, Monad, MonadError)</li>
<li>Which operations each capability provides</li>
<li>Which Path types implement which capabilities</li>
<li>Why the layering matters for code that composes correctly</li>
</ul>
</div>
</div>
<hr />
<h2 id="the-hierarchy"><a class="header" href="#the-hierarchy">The Hierarchy</a></h2>
<pre><code>┌──────────────────────────────────────────────────────────────────────────────┐
│                     CAPABILITY HIERARCHY                                     │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│                          ┌────────────────┐                                  │
│                          │   Composable   │  map(), peek()                   │
│                          │   (Functor)    │  "I can transform what's inside" │
│                          └───────┬────────┘                                  │
│                                  │                                           │
│                          ┌───────┴────────┐                                  │
│                          │   Combinable   │  zipWith(), map2()               │
│                          │ (Applicative)  │  "I can merge independent work"  │
│                          └───────┬────────┘                                  │
│                                  │                                           │
│                          ┌───────┴────────┐                                  │
│                          │   Chainable    │  via(), flatMap(), then()        │
│                          │    (Monad)     │  "I can sequence dependent work" │
│                          └───────┬────────┘                                  │
│                                  │                                           │
│      ┌───────────────────────────┼───────────────────────────┐               │
│      │                           │                           │               │
│ ┌────┴───────┐           ┌───────┴────────┐          ┌───────┴────────┐      │
│ │ Recoverable│           │   Effectful    │          │  Accumulating  │      │
│ │(MonadError)│           │     (IO)       │          │  (Validated)   │      │
│ │            │           │                │          │                │      │
│ │ "I can     │           │ "I defer until │          │ "I collect all │      │
│ │  handle    │           │  you're ready" │          │  the problems" │      │
│ │  failure"  │           │                │          │                │      │
│ └────────────┘           └────────────────┘          └────────────────┘      │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
</code></pre>
<p>Each level builds on the previous. A <code>Chainable</code> type can do everything a
<code>Combinable</code> can do, plus sequential chaining. The three leaf capabilities,
Recoverable, Effectful, and Accumulating, represent specialised powers that
only some types possess.</p>
<p>This isn't arbitrary taxonomy. It's how you avoid calling <code>recover()</code> on a
type that never fails, or <code>unsafeRun()</code> on a type that doesn't defer execution.
The compiler catches category errors before they become runtime surprises.</p>
<hr />
<h2 id="composable-functor"><a class="header" href="#composable-functor">Composable (Functor)</a></h2>
<p><strong>What it means:</strong> You can transform the value inside without changing the
surrounding structure.</p>
<p><strong>The analogy:</strong> A translator. The message changes; the envelope stays sealed.</p>
<pre><code class="language-java">public interface Composable&lt;A&gt; {
    &lt;B&gt; Composable&lt;B&gt; map(Function&lt;? super A, ? extends B&gt; f);
    Composable&lt;A&gt; peek(Consumer&lt;? super A&gt; action);
}
</code></pre>
<p>Every Path type is Composable. It's the minimum viable capability.</p>
<pre><code class="language-java">MaybePath&lt;String&gt; name = Path.just("alice");
MaybePath&lt;Integer&gt; length = name.map(String::length);  // Just(5)

MaybePath&lt;String&gt; empty = Path.nothing();
MaybePath&lt;Integer&gt; stillEmpty = empty.map(String::length);  // Nothing
</code></pre>
<p>The function passed to <code>map</code> only runs if there's a value to transform.
Failures, absences, and pending effects pass through unchanged. This is why
you don't need defensive null checks inside <code>map</code>; the structure handles it.</p>
<h3 id="the-functor-laws"><a class="header" href="#the-functor-laws">The Functor Laws</a></h3>
<p>All Path types satisfy these laws, which is what makes composition predictable:</p>
<ol>
<li><strong>Identity:</strong> <code>path.map(x -&gt; x)</code> equals <code>path</code></li>
<li><strong>Composition:</strong> <code>path.map(f).map(g)</code> equals <code>path.map(f.andThen(g))</code></li>
</ol>
<p>The first law says mapping with the identity function changes nothing. The
second says you can fuse consecutive maps into one. These aren't aspirational
guidelines; they're guarantees the implementation must honour.</p>
<hr />
<h2 id="combinable-applicative"><a class="header" href="#combinable-applicative">Combinable (Applicative)</a></h2>
<p><strong>What it means:</strong> You can merge the results of independent computations.</p>
<p><strong>The analogy:</strong> A meeting coordinator. Everyone works separately, then results
are combined at the end. If someone fails to deliver, there's nothing to combine.</p>
<pre><code class="language-java">public interface Combinable&lt;A&gt; extends Composable&lt;A&gt; {
    &lt;B, C&gt; Combinable&lt;C&gt; zipWith(
        Combinable&lt;B&gt; other,
        BiFunction&lt;? super A, ? super B, ? extends C&gt; f
    );

    &lt;B, C, D&gt; Combinable&lt;D&gt; zipWith3(
        Combinable&lt;B&gt; second,
        Combinable&lt;C&gt; third,
        TriFunction&lt;? super A, ? super B, ? super C, ? extends D&gt; f
    );
}
</code></pre>
<p>The key property is <strong>independence</strong>. Neither computation depends on the
other's result:</p>
<pre><code class="language-java">// These validations don't affect each other
EitherPath&lt;String, String&gt; name = validateName(input.name());
EitherPath&lt;String, String&gt; email = validateEmail(input.email());
EitherPath&lt;String, Integer&gt; age = validateAge(input.age());

// Combine all three
EitherPath&lt;String, User&gt; user = name.zipWith3(email, age, User::new);
</code></pre>
<p>If all three succeed, <code>User::new</code> receives the three values. If any fails,
the first failure propagates. (For collecting <em>all</em> failures, you need
<code>Accumulating</code>; patience.)</p>
<h3 id="zipwith-vs-via"><a class="header" href="#zipwith-vs-via"><code>zipWith</code> vs <code>via</code></a></h3>
<p>A common source of confusion, worth addressing directly:</p>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>Relationship Between Computations</th></tr></thead><tbody>
<tr><td><code>zipWith</code></td><td>Independent: neither needs the other's result</td></tr>
<tr><td><code>via</code></td><td>Dependent: the second needs the first's result</td></tr>
</tbody></table>
</div>
<p>If you're validating a form, the fields are independent: use <code>zipWith</code>. If
you're fetching a user then loading their preferences, the second needs the
first: use <code>via</code>.</p>
<hr />
<h2 id="chainable-monad"><a class="header" href="#chainable-monad">Chainable (Monad)</a></h2>
<p><strong>What it means:</strong> You can sequence computations where each step depends on
the previous result.</p>
<p><strong>The analogy:</strong> A relay race. Each runner receives the baton from the previous
and decides what to do next. If someone drops the baton, the race ends there.</p>
<pre><code class="language-java">public interface Chainable&lt;A&gt; extends Combinable&lt;A&gt; {
    &lt;B&gt; Chainable&lt;B&gt; via(Function&lt;? super A, ? extends Chainable&lt;B&gt;&gt; f);
    &lt;B&gt; Chainable&lt;B&gt; flatMap(Function&lt;? super A, ? extends Chainable&lt;B&gt;&gt; f);
    &lt;B&gt; Chainable&lt;B&gt; then(Supplier&lt;? extends Chainable&lt;B&gt;&gt; next);
}
</code></pre>
<p>The <code>via</code> method is the workhorse:</p>
<pre><code class="language-java">EitherPath&lt;Error, Invoice&gt; invoice =
    Path.either(findUser(userId))
        .via(user -&gt; Path.either(getCart(user)))      // needs user
        .via(cart -&gt; Path.either(calculateTotal(cart))) // needs cart
        .via(total -&gt; Path.either(createInvoice(total))); // needs total
</code></pre>
<p>Each step receives the previous result and returns a new Path. The railway
metaphor applies: success continues forward, failure short-circuits to the end.</p>
<p><code>flatMap</code> is an alias for <code>via</code>, the same operation with the traditional name. Use
whichever reads better in context.</p>
<p><code>then</code> is for sequencing when you don't need the previous value:</p>
<pre><code class="language-java">IOPath&lt;Unit&gt; workflow =
    Path.io(() -&gt; log.info("Starting"))
        .then(() -&gt; Path.io(() -&gt; initialise()))
        .then(() -&gt; Path.io(() -&gt; process()));
</code></pre>
<h3 id="the-monad-laws"><a class="header" href="#the-monad-laws">The Monad Laws</a></h3>
<ol>
<li><strong>Left Identity:</strong> <code>Path.just(a).via(f)</code> equals <code>f.apply(a)</code></li>
<li><strong>Right Identity:</strong> <code>path.via(Path::just)</code> equals <code>path</code></li>
<li><strong>Associativity:</strong> <code>path.via(f).via(g)</code> equals <code>path.via(x -&gt; f.apply(x).via(g))</code></li>
</ol>
<p>These ensure that chaining behaves predictably regardless of how you group
operations. Refactoring a chain into helper methods won't change its behaviour.</p>
<hr />
<h2 id="recoverable-monaderror"><a class="header" href="#recoverable-monaderror">Recoverable (MonadError)</a></h2>
<p><strong>What it means:</strong> You can handle failures and potentially continue on the
success track.</p>
<p><strong>The analogy:</strong> A safety net. If you fall, something catches you. You might
climb back up, or you might stay down, but the fall doesn't have to be fatal.</p>
<pre><code class="language-java">public interface Recoverable&lt;E, A&gt; extends Chainable&lt;A&gt; {
    Recoverable&lt;E, A&gt; recover(Function&lt;? super E, ? extends A&gt; handler);
    Recoverable&lt;E, A&gt; recoverWith(
        Function&lt;? super E, ? extends Recoverable&lt;E, A&gt;&gt; handler
    );
    Recoverable&lt;E, A&gt; orElse(Supplier&lt;? extends Recoverable&lt;E, A&gt;&gt; alternative);
    &lt;F&gt; Recoverable&lt;F, A&gt; mapError(Function&lt;? super E, ? extends F&gt; f);
}
</code></pre>
<p>Different Path types have different notions of "error":</p>
<pre><code class="language-java">// MaybePath: "error" is absence
MaybePath&lt;User&gt; user = Path.maybe(findUser(id))
    .orElse(() -&gt; Path.just(User.guest()));

// EitherPath: "error" is a typed value
EitherPath&lt;Error, Config&gt; config = Path.either(loadConfig())
    .recover(error -&gt; Config.defaults())
    .mapError(e -&gt; new ConfigError("Load failed", e));

// TryPath: "error" is an exception
TryPath&lt;Integer&gt; parsed = Path.tryOf(() -&gt; Integer.parseInt(input))
    .recover(ex -&gt; 0);
</code></pre>
<p><code>Recoverable</code> is perhaps the most frequently used capability after <code>Chainable</code>,
which tells you something about the general state of affairs in software.</p>
<hr />
<h2 id="effectful-io"><a class="header" href="#effectful-io">Effectful (IO)</a></h2>
<p><strong>What it means:</strong> The computation is deferred until you explicitly run it.</p>
<p><strong>The analogy:</strong> A written contract. It describes what will happen, but nothing
happens until someone signs and executes it.</p>
<pre><code class="language-java">public interface Effectful&lt;A&gt; extends Chainable&lt;A&gt; {
    A unsafeRun();
    Try&lt;A&gt; runSafe();
    Effectful&lt;A&gt; handleError(Function&lt;? super Throwable, ? extends A&gt; handler);
    Effectful&lt;A&gt; handleErrorWith(
        Function&lt;? super Throwable, ? extends Effectful&lt;A&gt;&gt; handler
    );
    Effectful&lt;A&gt; ensuring(Runnable cleanup);
}
</code></pre>
<p>Only <code>IOPath</code> implements <code>Effectful</code>. All other Path types evaluate immediately
when you call <code>map</code> or <code>via</code>. With <code>IOPath</code>, nothing happens until you call
<code>unsafeRun()</code> or <code>runSafe()</code>:</p>
<pre><code class="language-java">IOPath&lt;String&gt; readFile = Path.io(() -&gt; {
    System.out.println("Reading file...");  // Not printed yet
    return Files.readString(path);
});

// Still nothing happens
IOPath&lt;Integer&gt; lineCount = readFile.map(s -&gt; s.split("\n").length);

// NOW it executes
Integer count = lineCount.unsafeRun();  // "Reading file..." printed
</code></pre>
<p>The <code>ensuring</code> method guarantees cleanup runs regardless of success or failure:</p>
<pre><code class="language-java">IOPath&lt;Data&gt; withCleanup = Path.io(() -&gt; acquireResource())
    .via(resource -&gt; Path.io(() -&gt; useResource(resource)))
    .ensuring(() -&gt; releaseResource());
</code></pre>
<p>The name <code>unsafeRun</code> is deliberate. It's a warning: side effects are about to
happen, referential transparency ends here. Call it at the edge of your system,
not scattered throughout.</p>
<hr />
<h2 id="accumulating-validated"><a class="header" href="#accumulating-validated">Accumulating (Validated)</a></h2>
<p><strong>What it means:</strong> You can combine independent computations while collecting
<em>all</em> errors, not just the first.</p>
<p><strong>The analogy:</strong> A code review. The reviewer notes every problem, then hands
back the full list. They don't stop at the first issue and declare the review
complete.</p>
<pre><code class="language-java">public interface Accumulating&lt;E, A&gt; extends Composable&lt;A&gt; {
    &lt;B, C&gt; Accumulating&lt;E, C&gt; zipWithAccum(
        Accumulating&lt;E, B&gt; other,
        BiFunction&lt;? super A, ? super B, ? extends C&gt; combiner
    );

    Accumulating&lt;E, A&gt; andAlso(Accumulating&lt;E, ?&gt; other);
}
</code></pre>
<p>Only <code>ValidationPath</code> implements <code>Accumulating</code>. The key difference from
<code>Combinable.zipWith</code>:</p>
<div class="table-wrapper"><table><thead><tr><th>Operation</th><th>On Multiple Failures</th></tr></thead><tbody>
<tr><td><code>zipWith</code></td><td>Returns first error (short-circuits)</td></tr>
<tr><td><code>zipWithAccum</code></td><td>Combines all errors using Semigroup</td></tr>
</tbody></table>
</div>
<pre><code class="language-java">ValidationPath&lt;List&lt;String&gt;, String&gt; name = validateName(input);
ValidationPath&lt;List&lt;String&gt;, String&gt; email = validateEmail(input);
ValidationPath&lt;List&lt;String&gt;, Integer&gt; age = validateAge(input);

// Accumulate ALL errors
ValidationPath&lt;List&lt;String&gt;, User&gt; user = name.zipWith3Accum(
    email,
    age,
    User::new
);

// If name and email both fail: Invalid(["Name too short", "Invalid email"])
// Not just: Invalid(["Name too short"])
</code></pre>
<p>Error accumulation requires a <code>Semigroup</code> to define how errors combine. For
<code>List&lt;String&gt;</code>, errors concatenate. For <code>String</code>, they might join with <code>;</code>.
The Semigroup is provided when creating the <code>ValidationPath</code>.</p>
<p>Use <code>Accumulating</code> for user-facing validation where showing all problems at
once is kinder than making users fix them one by one.</p>
<hr />
<h2 id="which-capabilities-each-path-type-has"><a class="header" href="#which-capabilities-each-path-type-has">Which Capabilities Each Path Type Has</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Path Type</th><th style="text-align: center">Composable</th><th style="text-align: center">Combinable</th><th style="text-align: center">Chainable</th><th style="text-align: center">Recoverable</th><th style="text-align: center">Effectful</th><th style="text-align: center">Accumulating</th></tr></thead><tbody>
<tr><td>MaybePath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">·</td></tr>
<tr><td>EitherPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">·</td></tr>
<tr><td>TryPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">·</td></tr>
<tr><td>IOPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">✓</td><td style="text-align: center">·</td></tr>
<tr><td>ValidationPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">✓</td></tr>
<tr><td>IdPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">·</td><td style="text-align: center">·</td></tr>
<tr><td>OptionalPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">·</td><td style="text-align: center">·</td></tr>
<tr><td>GenericPath</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">✓</td><td style="text-align: center">*</td><td style="text-align: center">·</td><td style="text-align: center">·</td></tr>
</tbody></table>
</div>
<p>* <code>GenericPath</code> recovery depends on the underlying monad.</p>
<p>Note that <code>IdPath</code> lacks <code>Recoverable</code>; it cannot fail, so recovery is
meaningless. <code>IOPath</code> lacks <code>Recoverable</code> but has <code>Effectful</code>, which includes
its own error handling via <code>handleError</code>. These aren't omissions; they're
the type system being honest about what makes sense.</p>
<hr />
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<div class="table-wrapper"><table><thead><tr><th>Capability</th><th>What It Adds</th><th>Key Operations</th></tr></thead><tbody>
<tr><td><strong>Composable</strong></td><td>Transform values</td><td><code>map</code>, <code>peek</code></td></tr>
<tr><td><strong>Combinable</strong></td><td>Merge independent work</td><td><code>zipWith</code>, <code>zipWith3</code></td></tr>
<tr><td><strong>Chainable</strong></td><td>Sequence dependent work</td><td><code>via</code>, <code>flatMap</code>, <code>then</code></td></tr>
<tr><td><strong>Recoverable</strong></td><td>Handle failure</td><td><code>recover</code>, <code>recoverWith</code>, <code>mapError</code>, <code>orElse</code></td></tr>
<tr><td><strong>Effectful</strong></td><td>Defer execution</td><td><code>unsafeRun</code>, <code>runSafe</code>, <code>handleError</code>, <code>ensuring</code></td></tr>
<tr><td><strong>Accumulating</strong></td><td>Collect all errors</td><td><code>zipWithAccum</code>, <code>andAlso</code></td></tr>
</tbody></table>
</div>
<p>The hierarchy is designed so you can write code at the appropriate level of
abstraction. If <code>map</code> suffices, use <code>map</code>. Reach for <code>via</code> only when you need
sequencing. The capabilities tell you what's available; the types ensure you
don't ask for more than a Path can deliver.</p>
<p>Continue to <a href="path_types.html">Path Types</a> for detailed coverage of each type.</p>
<div id="admonition-see-also" class="admonition admonish-tip" role="note" aria-labelledby="admonition-see-also-title">
<div class="admonition-title">
<div id="admonition-see-also-title">
<p>See Also</p>
</div>
<a class="admonition-anchor-link" href="#admonition-see-also"></a>
</div>
<div>
<ul>
<li><a href="../functional/functor.html">Functor</a> - The type class behind Composable</li>
<li><a href="../functional/applicative.html">Applicative</a> - The type class behind Combinable</li>
<li><a href="../functional/monad.html">Monad</a> - The type class behind Chainable</li>
<li><a href="../functional/monad_error.html">MonadError</a> - The type class behind Recoverable</li>
<li><a href="../monads/validated_monad.html">Validated</a> - The type behind Accumulating</li>
</ul>
</div>
</div>
<div id="admonition-further-reading" class="admonition admonish-tip" role="note" aria-labelledby="admonition-further-reading-title">
<div class="admonition-title">
<div id="admonition-further-reading-title">
<p>Further Reading</p>
</div>
<a class="admonition-anchor-link" href="#admonition-further-reading"></a>
</div>
<div>
<ul>
<li><strong>Mateusz Kubuszok</strong>: <a href="https://kubuszok.com/2018/the-f-words-functors-and-friends/#functor">The F-words: Functors and Friends</a> - An accessible introduction to Functor, Applicative, and Monad with practical examples</li>
</ul>
</div>
</div>
<hr />
<p><strong>Previous:</strong> <a href="effect_path_overview.html">Effect Path Overview</a>
<strong>Next:</strong> <a href="path_types.html">Path Types</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../effect/effect_path_overview.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../effect/path_types.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../effect/effect_path_overview.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../effect/path_types.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../version-switcher.js"></script>
        <script src=".././theme/version-switcher.js"></script>
        <script src=".././theme/sidebar-nav-link.js"></script>


    </div>
    </body>
</html>
