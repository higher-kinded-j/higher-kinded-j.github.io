<!DOCTYPE HTML>
<html lang="en" class="latte sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>RequestContext - Higher-Kinded-J: Composable Effects and Advanced Optics for Java</title>


        <!-- Custom HTML head -->


            <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">


        <meta name="keywords" content="Higher-Kinded Types, Higher-Kinded-J, HKT, Java, Optics, Lens, Prism, Traversal, Iso, Affine, Focus DSL, Effect Path API, Functional Programming, Monad, Functor, Applicative, EitherPath, MaybePath, TryPath, ValidationPath, Java Records, Sealed Interface, Error Handling, Immutable Data">
        
        <meta property="og:title" content="RequestContext - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
            <meta property="og:description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta property="og:type" content="website">
        <meta property="og:url" content="https://higher-kinded-j.github.io/">
        <meta property="og:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta property="og:image:width" content="1200">
        <meta property="og:image:height" content="630">
        <meta property="og:site_name" content="Higher-Kinded-J Documentation">
        <meta property="og:locale" content="en_GB">
        
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="RequestContext - Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="twitter:description" content="Unifying Composable Effects and Advanced Optics for Java. Effect Path API, Focus DSL, and the most comprehensive optics implementation in the Java ecosystem.">
        <meta name="twitter:image" content="https://higher-kinded-j.github.io/preview.png">
        <meta name="twitter:image:alt" content="Higher-Kinded-J: Composable Effects and Advanced Optics for Java">
        <meta name="description" content="The most comprehensive functional programming library for Java. Unify error handling, optional values, and immutable data navigation with the Effect Path API and Focus DSL. Features advanced optics with code generation for Java records, filtered traversals, indexed optics, and seamless Spring Boot integration.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">
        <meta name="google-site-verification" content="X-xsiAq2cKMLOzh9dexUrX8Onx2h_YMUFgp5lHHUwSg" />
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="../highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="../tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href=".././mdbook-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin.css">
        <link rel="stylesheet" href=".././theme/catppuccin-admonish.css">
        <link rel="stylesheet" href=".././theme/catppuccin-alerts.css">
        <link rel="stylesheet" href=".././theme/additional-hkj.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "../";
            const default_light_theme = "latte";
            const default_dark_theme = "macchiato";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('latte')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="latte">Latte</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="frappe">Frappé</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="macchiato">Macchiato</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mocha">Mocha</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        <div class="version-selector-container">
                            <select id="version-selector" class="version-selector" aria-label="Select documentation version" title="Select documentation version">
                                <option value="">Loading versions...</option>
                            </select>
                        </div>
                    </div>

                    <h1 class="menu-title">Higher-Kinded-J: Composable Effects and Advanced Optics for Java</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/higher-kinded-j/higher-kinded-j/edit/main/hkj-book/src/effect/context_request.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <style>
.mdbook-alerts {
  padding: 8px 16px;
  margin-bottom: 16px;
  border-left: 0.25em solid var(--mdbook-alerts-color);
}

.mdbook-alerts > *:first-child {
  margin-top: 0;
}

.mdbook-alerts > *:last-child {
  margin-bottom: 0;
}

.mdbook-alerts-title {
  display: flex;
  font-weight: 600;
  align-items: center;
  line-height: 1;
  color: var(--mdbook-alerts-color);
  text-transform: capitalize;
}

.mdbook-alerts-icon {
  display: inline-block;
  width: 1em;
  height: 1em;
  margin-right: 0.2em;
  background-color: currentColor;
  -webkit-mask: no-repeat center / 100%;
  mask: no-repeat center / 100%;
  -webkit-mask-image: var(--mdbook-alerts-icon);
  mask-image: var(--mdbook-alerts-icon);
}

.mdbook-alerts-note {
  --mdbook-alerts-color: rgb(9, 105, 218);
  /* https://icon-sets.iconify.design/material-symbols/info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16v-4q0-.425-.288-.712T12 11q-.425 0-.712.288T11 12v4q0 .425.288.713T12 17m0-8q.425 0 .713-.288T13 8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8q0 .425.288.713T12 9m0 13q-2.075 0-3.9-.788t-3.175-2.137q-1.35-1.35-2.137-3.175T2 12q0-2.075.788-3.9t2.137-3.175q1.35-1.35 3.175-2.137T12 2q2.075 0 3.9.788t3.175 2.137q1.35 1.35 2.138 3.175T22 12q0 2.075-.788 3.9t-2.137 3.175q-1.35 1.35-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12q0-3.35-2.325-5.675T12 4Q8.65 4 6.325 6.325T4 12q0 3.35 2.325 5.675T12 20m0-8"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-tip {
  --mdbook-alerts-color: rgb(26, 127, 55);
  /* https://icon-sets.iconify.design/material-symbols/lightbulb-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 22q-.825 0-1.412-.587T10 20h4q0 .825-.587 1.413T12 22m-3-3q-.425 0-.712-.288T8 18q0-.425.288-.712T9 17h6q.425 0 .713.288T16 18q0 .425-.288.713T15 19zm-.75-3q-1.725-1.025-2.738-2.75T4.5 9.5q0-3.125 2.188-5.312T12 2q3.125 0 5.313 2.188T19.5 9.5q0 2.025-1.012 3.75T15.75 16zm.6-2h6.3q1.125-.8 1.738-1.975T17.5 9.5q0-2.3-1.6-3.9T12 4Q9.7 4 8.1 5.6T6.5 9.5q0 1.35.613 2.525T8.85 14M12 14"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-important {
  --mdbook-alerts-color: rgb(130, 80, 223);
  /* https://icon-sets.iconify.design/material-symbols/chat-info-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 7q.425 0 .713-.288T13 6q0-.425-.288-.712T12 5q-.425 0-.712.288T11 6q0 .425.288.713T12 7m0 8q.425 0 .713-.288T13 14v-4q0-.425-.288-.712T12 9q-.425 0-.712.288T11 10v4q0 .425.288.713T12 15m-6 3l-2.3 2.3q-.475.475-1.088.213T2 19.575V4q0-.825.588-1.412T4 2h16q.825 0 1.413.588T22 4v12q0 .825-.587 1.413T20 18zm-.85-2H20V4H4v13.125zM4 16V4z"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-warning {
  --mdbook-alerts-color: rgb(154, 103, 0);
  /* https://icon-sets.iconify.design/material-symbols/warning-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M2.725 21q-.275 0-.5-.137t-.35-.363q-.125-.225-.137-.488t.137-.512l9.25-16q.15-.25.388-.375T12 3q.25 0 .488.125t.387.375l9.25 16q.15.25.138.513t-.138.487q-.125.225-.35.363t-.5.137zm1.725-2h15.1L12 6zM12 18q.425 0 .713-.288T13 17q0-.425-.288-.712T12 16q-.425 0-.712.288T11 17q0 .425.288.713T12 18m0-3q.425 0 .713-.288T13 14v-3q0-.425-.288-.712T12 10q-.425 0-.712.288T11 11v3q0 .425.288.713T12 15m0-2.5"%2F%3E%3C%2Fsvg%3E');
}

.mdbook-alerts-caution {
  --mdbook-alerts-color: rgb(207, 34, 46);
  /* https://icon-sets.iconify.design/material-symbols/brightness-alert-outline-rounded/ */
  --mdbook-alerts-icon: url('data:image/svg+xml,%3Csvg xmlns="http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg" width="24" height="24" viewBox="0 0 24 24"%3E%3Cpath fill="currentColor" d="M12 17q.425 0 .713-.288T13 16q0-.425-.288-.712T12 15q-.425 0-.712.288T11 16q0 .425.288.713T12 17m0-4q.425 0 .713-.288T13 12V8q0-.425-.288-.712T12 7q-.425 0-.712.288T11 8v4q0 .425.288.713T12 13m-3.35 7H6q-.825 0-1.412-.587T4 18v-2.65L2.075 13.4q-.275-.3-.425-.662T1.5 12q0-.375.15-.737t.425-.663L4 8.65V6q0-.825.588-1.412T6 4h2.65l1.95-1.925q.3-.275.663-.425T12 1.5q.375 0 .738.15t.662.425L15.35 4H18q.825 0 1.413.588T20 6v2.65l1.925 1.95q.275.3.425.663t.15.737q0 .375-.15.738t-.425.662L20 15.35V18q0 .825-.587 1.413T18 20h-2.65l-1.95 1.925q-.3.275-.662.425T12 22.5q-.375 0-.737-.15t-.663-.425zm.85-2l2.5 2.5l2.5-2.5H18v-3.5l2.5-2.5L18 9.5V6h-3.5L12 3.5L9.5 6H6v3.5L3.5 12L6 14.5V18zm2.5-6"%2F%3E%3C%2Fsvg%3E');
}

</style>
<h1 id="requestcontext-request-scoped-patterns"><a class="header" href="#requestcontext-request-scoped-patterns">RequestContext: Request-Scoped Patterns</a></h1>
<blockquote>
<p><em>"Never get out of the boat. Absolutely goddamn right. Unless you were goin' all the way."</em></p>
<p>-- Captain Willard, <em>Apocalypse Now</em></p>
</blockquote>
<p>A request enters your system and begins its journey through layers of services, queues, and databases. At each step, you need to know where it came from, where it's going, and how to find it again when something goes wrong. The trace ID is your boat; stay in it, and you can navigate any complexity. Lose it, and you're swimming blind in hostile waters.</p>
<blockquote>
<p><em>"Keep a little fire burning; however small, however hidden."</em></p>
<p>-- Cormac McCarthy, <em>The Road</em></p>
</blockquote>
<p>That small fire is the context you propagate: trace IDs, correlation identifiers, locale preferences, timing information. It may seem like overhead, but when a production incident strikes at 3 AM, that carefully preserved context is the difference between a five-minute diagnosis and a five-hour nightmare.</p>
<p><code>RequestContext</code> provides pre-built patterns for the most common request-scoped values, designed to integrate seamlessly with virtual threads and structured concurrency.</p>
<div id="admonition-what-youll-learn" class="admonition admonish-info" role="note" aria-labelledby="admonition-what-youll-learn-title">
<div class="admonition-title">
<div id="admonition-what-youll-learn-title">
<p>What You'll Learn</p>
</div>
<a class="admonition-anchor-link" href="#admonition-what-youll-learn"></a>
</div>
<div>
<ul>
<li>Defining and using standard request context values</li>
<li>Propagating trace IDs through concurrent operations</li>
<li>Integrating with MDC for structured logging</li>
<li>Building request pipelines with automatic context flow</li>
<li>Timing and audit patterns with REQUEST_TIME</li>
<li>Multi-tenant context with TENANT_ID</li>
</ul>
</div>
</div>
<div id="admonition-example-code" class="admonition admonish-example" role="note" aria-labelledby="admonition-example-code-title">
<div class="admonition-title">
<div id="admonition-example-code-title">
<p>Example Code</p>
</div>
<a class="admonition-anchor-link" href="#admonition-example-code"></a>
</div>
<div>
<ul>
<li><a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/main/java/org/higherkindedj/example/context/RequestContextExample.java">RequestContextExample.java</a> -- Complete request tracing examples</li>
</ul>
</div>
</div>
<hr />
<h2 id="the-requestcontext-utility-class"><a class="header" href="#the-requestcontext-utility-class">The RequestContext Utility Class</a></h2>
<p><code>RequestContext</code> is a utility class providing pre-defined <code>ScopedValue</code> instances for common request metadata:</p>
<pre><code class="language-java">public final class RequestContext {
    private RequestContext() {}  // Utility class -- no instantiation

    /**
     * Unique identifier for distributed tracing.
     * Typically generated at the edge (API gateway, load balancer)
     * and propagated through all downstream services.
     */
    public static final ScopedValue&lt;String&gt; TRACE_ID = ScopedValue.newInstance();

    /**
     * Correlation ID linking related requests.
     * Used to group requests that are part of the same user action
     * or business transaction, even across separate trace trees.
     */
    public static final ScopedValue&lt;String&gt; CORRELATION_ID = ScopedValue.newInstance();

    /**
     * User's preferred locale for response formatting.
     * Influences date formats, number formats, and message translations.
     */
    public static final ScopedValue&lt;Locale&gt; LOCALE = ScopedValue.newInstance();

    /**
     * Tenant identifier for multi-tenant applications.
     * Determines which tenant's data and configuration to use.
     */
    public static final ScopedValue&lt;String&gt; TENANT_ID = ScopedValue.newInstance();

    /**
     * Timestamp when the request was received.
     * Useful for timeout calculations, audit logging, and latency measurement.
     */
    public static final ScopedValue&lt;Instant&gt; REQUEST_TIME = ScopedValue.newInstance();

    /**
     * Request deadline for timeout propagation.
     * Operations should check this and fail fast if deadline has passed.
     */
    public static final ScopedValue&lt;Instant&gt; DEADLINE = ScopedValue.newInstance();
}
</code></pre>
<div id="admonition-design-rationale-utility-class" class="admonition admonish-tip" role="note" aria-labelledby="admonition-design-rationale-utility-class-title">
<div class="admonition-title">
<div id="admonition-design-rationale-utility-class-title">
<p>Design Rationale: Utility Class</p>
</div>
<a class="admonition-anchor-link" href="#admonition-design-rationale-utility-class"></a>
</div>
<div>
<p><code>RequestContext</code> uses static <code>ScopedValue</code> fields rather than bundling values in a record. This design provides:</p>
<ul>
<li><strong>Flexibility</strong>: Bind only the values you need; others remain unbound</li>
<li><strong>Granularity</strong>: Different parts of your system can read different values</li>
<li><strong>Composition</strong>: Easily add custom scoped values alongside standard ones</li>
<li><strong>Compatibility</strong>: Works naturally with <code>ScopedValue.where().where()</code> chaining</li>
</ul>
</div>
</div>
<hr />
<h2 id="trace-id-the-foundation-of-observability"><a class="header" href="#trace-id-the-foundation-of-observability">Trace ID: The Foundation of Observability</a></h2>
<p>The trace ID is the most critical piece of request context. It's a unique identifier that follows a request through every service, database query, and message queue interaction.</p>
<h3 id="generating-trace-ids"><a class="header" href="#generating-trace-ids">Generating Trace IDs</a></h3>
<pre><code class="language-java">public final class TraceIdGenerator {
    private TraceIdGenerator() {}

    /**
     * Generate a trace ID using UUID.
     * Simple and guaranteed unique, but verbose (36 characters).
     */
    public static String uuid() {
        return UUID.randomUUID().toString();
    }

    /**
     * Generate a compact trace ID.
     * 16 characters, URL-safe, suitable for headers.
     */
    public static String compact() {
        byte[] bytes = new byte[12];
        ThreadLocalRandom.current().nextBytes(bytes);
        return Base64.getUrlEncoder().withoutPadding().encodeToString(bytes);
    }

    /**
     * Generate a trace ID with timestamp prefix.
     * Format: {timestamp-hex}-{random-hex}
     * Enables rough time-based sorting of traces.
     */
    public static String timestamped() {
        long timestamp = System.currentTimeMillis();
        long random = ThreadLocalRandom.current().nextLong();
        return String.format("%012x-%08x", timestamp, random &amp; 0xFFFFFFFFL);
    }
}
</code></pre>
<h3 id="establishing-trace-context-at-the-edge"><a class="header" href="#establishing-trace-context-at-the-edge">Establishing Trace Context at the Edge</a></h3>
<p>At your application's entry point (HTTP handler, message consumer, scheduled job), establish the trace context:</p>
<pre><code class="language-java">public class RequestHandler {

    public Response handle(HttpRequest request) {
        // Extract or generate trace ID
        String traceId = request.header("X-Trace-ID")
            .orElseGet(TraceIdGenerator::compact);

        String correlationId = request.header("X-Correlation-ID")
            .orElse(traceId);  // Default correlation to trace if not provided

        Locale locale = request.header("Accept-Language")
            .map(Locale::forLanguageTag)
            .orElse(Locale.UK);

        // Bind context and process
        return ScopedValue
            .where(RequestContext.TRACE_ID, traceId)
            .where(RequestContext.CORRELATION_ID, correlationId)
            .where(RequestContext.LOCALE, locale)
            .where(RequestContext.REQUEST_TIME, Instant.now())
            .call(() -&gt; processRequest(request));
    }

    private Response processRequest(HttpRequest request) {
        // All code in this scope has access to request context
        // including any virtual threads forked from here
        return router.route(request);
    }
}
</code></pre>
<h3 id="reading-trace-id-deep-in-the-stack"><a class="header" href="#reading-trace-id-deep-in-the-stack">Reading Trace ID Deep in the Stack</a></h3>
<p>Anywhere in your call stack, read the trace ID without parameter passing:</p>
<pre><code class="language-java">public class OrderService {
    private static final ContextLogger log = new ContextLogger(OrderService.class);

    public Order createOrder(OrderRequest request) {
        // Trace ID is available implicitly
        String traceId = RequestContext.TRACE_ID.get();
        log.info("Creating order for customer: {}", request.customerId());

        Order order = buildOrder(request);
        orderRepository.save(order);

        log.info("Order created: {}", order.id());
        return order;
    }
}
</code></pre>
<h3 id="propagating-to-downstream-services"><a class="header" href="#propagating-to-downstream-services">Propagating to Downstream Services</a></h3>
<p>When calling external services, include the trace ID in headers:</p>
<pre><code class="language-java">public class ExternalServiceClient {

    public &lt;T&gt; T call(String url, Class&lt;T&gt; responseType) {
        HttpRequest.Builder builder = HttpRequest.newBuilder()
            .uri(URI.create(url))
            .GET();

        // Propagate trace context to downstream service
        if (RequestContext.TRACE_ID.isBound()) {
            builder.header("X-Trace-ID", RequestContext.TRACE_ID.get());
        }
        if (RequestContext.CORRELATION_ID.isBound()) {
            builder.header("X-Correlation-ID", RequestContext.CORRELATION_ID.get());
        }

        HttpResponse&lt;String&gt; response = httpClient.send(
            builder.build(),
            HttpResponse.BodyHandlers.ofString());

        return parseResponse(response, responseType);
    }
}
</code></pre>
<pre><code>┌──────────────────────────────────────────────────────────────────────┐
│                     Trace Propagation Flow                           │
│                                                                      │
│   API Gateway                                                        │
│   ┌─────────────────────────────────────────────────────────────┐    │
│   │ X-Trace-ID: abc123                                          │    │
│   │ Generates or extracts trace ID from incoming request        │    │
│   └─────────────────────┬───────────────────────────────────────┘    │
│                         │                                            │
│                         ▼                                            │
│   Order Service         │                                            │
│   ┌─────────────────────┴───────────────────────────────────────┐    │
│   │ ScopedValue.where(TRACE_ID, "abc123")                       │    │
│   │                                                             │    │
│   │   ┌──────────────┐    ┌──────────────┐                      │    │
│   │   │ Validate     │    │ Calculate    │   (forked tasks      │    │
│   │   │ TRACE_ID=abc │    │ TRACE_ID=abc │    inherit context)  │    │
│   │   └──────────────┘    └──────────────┘                      │    │
│   │                                                             │    │
│   └─────────────────────┬───────────────────────────────────────┘    │
│                         │ HTTP call with X-Trace-ID: abc123          │
│                         ▼                                            │
│   Payment Service                                                    │
│   ┌─────────────────────────────────────────────────────────────┐    │
│   │ Extracts X-Trace-ID header                                  │    │
│   │ ScopedValue.where(TRACE_ID, "abc123")                       │    │
│   │ → Same trace ID continues through downstream service        │    │
│   └─────────────────────────────────────────────────────────────┘    │
│                                                                      │
└──────────────────────────────────────────────────────────────────────┘
</code></pre>
<hr />
<h2 id="correlation-id-linking-related-requests"><a class="header" href="#correlation-id-linking-related-requests">Correlation ID: Linking Related Requests</a></h2>
<p>While trace ID identifies a single request, correlation ID groups related requests that form a logical unit of work.</p>
<h3 id="use-cases-for-correlation-id"><a class="header" href="#use-cases-for-correlation-id">Use Cases for Correlation ID</a></h3>
<pre><code class="language-java">// Scenario: User clicks "Submit Order" which triggers multiple API calls
// All share the same correlation ID but have different trace IDs

// Frontend generates correlation ID for the user action
String correlationId = "user-action-" + UUID.randomUUID();

// Request 1: Validate cart
// Trace: t1, Correlation: user-action-xyz
validateCart(cartId);

// Request 2: Process payment
// Trace: t2, Correlation: user-action-xyz
processPayment(paymentDetails);

// Request 3: Create order
// Trace: t3, Correlation: user-action-xyz
createOrder(orderDetails);

// All three requests can be found by searching for correlation ID
</code></pre>
<h3 id="correlation-in-async-workflows"><a class="header" href="#correlation-in-async-workflows">Correlation in Async Workflows</a></h3>
<pre><code class="language-java">public class OrderWorkflow {

    public void submitOrder(OrderRequest request, String correlationId) {
        ScopedValue
            .where(RequestContext.CORRELATION_ID, correlationId)
            .where(RequestContext.TRACE_ID, TraceIdGenerator.compact())
            .run(() -&gt; {
                // Publish event with correlation ID
                OrderSubmittedEvent event = new OrderSubmittedEvent(
                    request,
                    RequestContext.TRACE_ID.get(),
                    RequestContext.CORRELATION_ID.get()
                );
                eventPublisher.publish(event);
            });
    }

    // Later, when processing the event (possibly in a different service)
    public void handleOrderSubmitted(OrderSubmittedEvent event) {
        ScopedValue
            .where(RequestContext.CORRELATION_ID, event.correlationId())
            .where(RequestContext.TRACE_ID, TraceIdGenerator.compact())  // New trace
            .run(() -&gt; {
                // New trace ID, but same correlation links it to original action
                processOrder(event.orderRequest());
            });
    }
}
</code></pre>
<hr />
<h2 id="locale-internationalisation-context"><a class="header" href="#locale-internationalisation-context">Locale: Internationalisation Context</a></h2>
<p>The locale determines how dates, numbers, and messages are formatted in responses.</p>
<h3 id="reading-locale-for-formatting"><a class="header" href="#reading-locale-for-formatting">Reading Locale for Formatting</a></h3>
<pre><code class="language-java">public class ResponseFormatter {

    public String formatCurrency(BigDecimal amount) {
        Locale locale = RequestContext.LOCALE.orElse(Locale.UK);
        NumberFormat formatter = NumberFormat.getCurrencyInstance(locale);
        return formatter.format(amount);
    }

    public String formatDate(LocalDate date) {
        Locale locale = RequestContext.LOCALE.orElse(Locale.UK);
        DateTimeFormatter formatter = DateTimeFormatter
            .ofLocalizedDate(FormatStyle.MEDIUM)
            .withLocale(locale);
        return date.format(formatter);
    }

    public String getMessage(String key, Object... args) {
        Locale locale = RequestContext.LOCALE.orElse(Locale.UK);
        ResourceBundle bundle = ResourceBundle.getBundle("messages", locale);
        String pattern = bundle.getString(key);
        return MessageFormat.format(pattern, args);
    }
}
</code></pre>
<h3 id="locale-aware-response-building"><a class="header" href="#locale-aware-response-building">Locale-Aware Response Building</a></h3>
<pre><code class="language-java">public class OrderResponseBuilder {

    private final ResponseFormatter formatter = new ResponseFormatter();

    public OrderResponse build(Order order) {
        return new OrderResponse(
            order.id(),
            formatter.formatCurrency(order.total()),
            formatter.formatDate(order.createdDate()),
            formatter.getMessage("order.status." + order.status().name())
        );
    }
}
</code></pre>
<hr />
<h2 id="request-timing-and-deadlines"><a class="header" href="#request-timing-and-deadlines">Request Timing and Deadlines</a></h2>
<h3 id="request_time-when-did-this-start"><a class="header" href="#request_time-when-did-this-start">REQUEST_TIME: When Did This Start?</a></h3>
<p>Track when the request was received for latency measurement and audit:</p>
<pre><code class="language-java">public class LatencyTracker {

    public void logOperationLatency(String operation) {
        if (RequestContext.REQUEST_TIME.isBound()) {
            Instant start = RequestContext.REQUEST_TIME.get();
            Duration elapsed = Duration.between(start, Instant.now());
            log.info("Operation '{}' at {}ms into request",
                operation, elapsed.toMillis());
        }
    }

    public Duration requestAge() {
        if (RequestContext.REQUEST_TIME.isBound()) {
            return Duration.between(RequestContext.REQUEST_TIME.get(), Instant.now());
        }
        return Duration.ZERO;
    }
}
</code></pre>
<h3 id="deadline-timeout-propagation"><a class="header" href="#deadline-timeout-propagation">DEADLINE: Timeout Propagation</a></h3>
<p>Propagate deadlines to ensure operations fail fast when time runs out:</p>
<pre><code class="language-java">public class DeadlineAwareService {

    public &lt;T&gt; T executeWithDeadline(Callable&lt;T&gt; operation) throws Exception {
        // Check if we've already exceeded the deadline
        if (RequestContext.DEADLINE.isBound()) {
            Instant deadline = RequestContext.DEADLINE.get();
            if (Instant.now().isAfter(deadline)) {
                throw new DeadlineExceededException(
                    "Request deadline exceeded before operation started");
            }
        }

        return operation.call();
    }

    public Duration remainingTime() {
        if (RequestContext.DEADLINE.isBound()) {
            Duration remaining = Duration.between(
                Instant.now(),
                RequestContext.DEADLINE.get());
            return remaining.isNegative() ? Duration.ZERO : remaining;
        }
        return Duration.ofDays(1);  // No deadline = effectively infinite
    }
}

// Usage at edge
public Response handle(HttpRequest request) {
    Instant deadline = Instant.now().plus(Duration.ofSeconds(30));

    return ScopedValue
        .where(RequestContext.REQUEST_TIME, Instant.now())
        .where(RequestContext.DEADLINE, deadline)
        .call(() -&gt; processWithTimeout(request));
}
</code></pre>
<hr />
<h2 id="tenant-id-multi-tenant-applications"><a class="header" href="#tenant-id-multi-tenant-applications">Tenant ID: Multi-Tenant Applications</a></h2>
<p>For SaaS applications serving multiple tenants from a single deployment:</p>
<h3 id="tenant-resolution"><a class="header" href="#tenant-resolution">Tenant Resolution</a></h3>
<pre><code class="language-java">public class TenantResolver {

    /**
     * Resolve tenant from various sources in priority order.
     */
    public String resolve(HttpRequest request) {
        // 1. Explicit header
        Optional&lt;String&gt; headerTenant = request.header("X-Tenant-ID");
        if (headerTenant.isPresent()) {
            return headerTenant.get();
        }

        // 2. Subdomain (tenant.example.com)
        String host = request.host();
        if (host.contains(".")) {
            String subdomain = host.substring(0, host.indexOf('.'));
            if (!subdomain.equals("www") &amp;&amp; !subdomain.equals("api")) {
                return subdomain;
            }
        }

        // 3. Path prefix (/tenant/{tenantId}/...)
        String path = request.path();
        if (path.startsWith("/tenant/")) {
            String[] parts = path.split("/");
            if (parts.length &gt;= 3) {
                return parts[2];
            }
        }

        // 4. Default tenant
        return "default";
    }
}
</code></pre>
<h3 id="tenant-aware-data-access"><a class="header" href="#tenant-aware-data-access">Tenant-Aware Data Access</a></h3>
<pre><code class="language-java">public class TenantAwareRepository&lt;T&gt; {

    private final DataSource dataSource;

    public T findById(String id) {
        String tenantId = RequestContext.TENANT_ID.get();
        String sql = "SELECT * FROM " + tableName() +
            " WHERE id = ? AND tenant_id = ?";

        return jdbcTemplate.queryForObject(sql, rowMapper(), id, tenantId);
    }

    public void save(T entity) {
        String tenantId = RequestContext.TENANT_ID.get();
        // Automatically tag entity with current tenant
        setTenantId(entity, tenantId);
        jdbcTemplate.save(entity);
    }
}
</code></pre>
<h3 id="tenant-specific-configuration"><a class="header" href="#tenant-specific-configuration">Tenant-Specific Configuration</a></h3>
<pre><code class="language-java">public class TenantConfigService {

    private final Map&lt;String, TenantConfig&gt; configCache;

    public TenantConfig currentConfig() {
        String tenantId = RequestContext.TENANT_ID.get();
        return configCache.computeIfAbsent(tenantId, this::loadConfig);
    }

    public String getConnectionString() {
        TenantConfig config = currentConfig();
        return config.databaseUrl();
    }

    public Set&lt;String&gt; getEnabledFeatures() {
        TenantConfig config = currentConfig();
        return config.featureFlags();
    }
}
</code></pre>
<hr />
<h2 id="mdc-integration-for-structured-logging"><a class="header" href="#mdc-integration-for-structured-logging">MDC Integration for Structured Logging</a></h2>
<h3 id="the-contextlogger-pattern"><a class="header" href="#the-contextlogger-pattern">The ContextLogger Pattern</a></h3>
<p>Build a logger that automatically includes request context:</p>
<pre><code class="language-java">public class ContextLogger {
    private final Logger delegate;

    public ContextLogger(Class&lt;?&gt; clazz) {
        this.delegate = LoggerFactory.getLogger(clazz);
    }

    public void info(String message, Object... args) {
        delegate.info(formatWithContext(message), args);
    }

    public void warn(String message, Object... args) {
        delegate.warn(formatWithContext(message), args);
    }

    public void error(String message, Throwable t) {
        delegate.error(formatWithContext(message), t);
    }

    public void error(String message, Object... args) {
        delegate.error(formatWithContext(message), args);
    }

    private String formatWithContext(String message) {
        StringBuilder prefix = new StringBuilder();

        if (RequestContext.TRACE_ID.isBound()) {
            prefix.append("[trace=").append(RequestContext.TRACE_ID.get()).append("] ");
        }
        if (RequestContext.TENANT_ID.isBound()) {
            prefix.append("[tenant=").append(RequestContext.TENANT_ID.get()).append("] ");
        }

        return prefix.toString() + message;
    }
}
</code></pre>
<h3 id="json-structured-logging"><a class="header" href="#json-structured-logging">JSON Structured Logging</a></h3>
<p>For log aggregation systems (ELK, Splunk, CloudWatch):</p>
<pre><code class="language-java">public class StructuredLogger {
    private final Logger delegate;
    private final ObjectMapper mapper;

    public void info(String message, Object... args) {
        LogEntry entry = buildEntry("INFO", message, args);
        delegate.info(toJson(entry));
    }

    private LogEntry buildEntry(String level, String message, Object[] args) {
        return new LogEntry(
            level,
            String.format(message.replace("{}", "%s"), args),
            Instant.now(),
            contextMap()
        );
    }

    private Map&lt;String, String&gt; contextMap() {
        Map&lt;String, String&gt; context = new HashMap&lt;&gt;();

        if (RequestContext.TRACE_ID.isBound()) {
            context.put("traceId", RequestContext.TRACE_ID.get());
        }
        if (RequestContext.CORRELATION_ID.isBound()) {
            context.put("correlationId", RequestContext.CORRELATION_ID.get());
        }
        if (RequestContext.TENANT_ID.isBound()) {
            context.put("tenantId", RequestContext.TENANT_ID.get());
        }
        if (RequestContext.REQUEST_TIME.isBound()) {
            context.put("requestAge",
                Duration.between(RequestContext.REQUEST_TIME.get(), Instant.now())
                    .toMillis() + "ms");
        }

        return context;
    }

    record LogEntry(
        String level,
        String message,
        Instant timestamp,
        Map&lt;String, String&gt; context
    ) {}
}
</code></pre>
<p>Sample output:</p>
<pre><code class="language-json">{
  "level": "INFO",
  "message": "Order created: ORD-123",
  "timestamp": "2025-01-15T10:30:45.123Z",
  "context": {
    "traceId": "abc-123-def",
    "correlationId": "user-action-xyz",
    "tenantId": "acme-corp",
    "requestAge": "45ms"
  }
}
</code></pre>
<h3 id="bridging-to-slf4j-mdc"><a class="header" href="#bridging-to-slf4j-mdc">Bridging to SLF4J MDC</a></h3>
<p>If you have existing code using SLF4J MDC, bridge at scope boundaries:</p>
<pre><code class="language-java">public class MdcBridge {

    /**
     * Execute a task with ScopedValue context copied to MDC.
     * Use this when calling legacy code that reads from MDC.
     */
    public static &lt;T&gt; T withMdc(Callable&lt;T&gt; task) throws Exception {
        try {
            // Copy ScopedValues to MDC
            if (RequestContext.TRACE_ID.isBound()) {
                MDC.put("traceId", RequestContext.TRACE_ID.get());
            }
            if (RequestContext.CORRELATION_ID.isBound()) {
                MDC.put("correlationId", RequestContext.CORRELATION_ID.get());
            }
            if (RequestContext.TENANT_ID.isBound()) {
                MDC.put("tenantId", RequestContext.TENANT_ID.get());
            }

            return task.call();
        } finally {
            MDC.clear();
        }
    }
}

// Usage with legacy logging code
public void callLegacyService() {
    MdcBridge.withMdc(() -&gt; {
        // Legacy code that uses MDC.get("traceId") will work here
        legacyService.process();
        return null;
    });
}
</code></pre>
<div id="admonition-mdc-bridge-limitations" class="admonition admonish-warning" role="note" aria-labelledby="admonition-mdc-bridge-limitations-title">
<div class="admonition-title">
<div id="admonition-mdc-bridge-limitations-title">
<p>MDC Bridge Limitations</p>
</div>
<a class="admonition-anchor-link" href="#admonition-mdc-bridge-limitations"></a>
</div>
<div>
<p>The MDC bridge only works within the thread where it's called. Virtual threads forked after the bridge call won't have MDC values; they'll need their own bridge call. For new code, prefer <code>ContextLogger</code> which reads directly from <code>ScopedValue</code>.</p>
</div>
</div>
<hr />
<h2 id="complete-request-pipeline-example"><a class="header" href="#complete-request-pipeline-example">Complete Request Pipeline Example</a></h2>
<p>Putting it all together:</p>
<pre><code class="language-java">public class OrderController {
    private static final ContextLogger log = new ContextLogger(OrderController.class);

    private final OrderService orderService;
    private final TenantResolver tenantResolver;

    public Response createOrder(HttpRequest request) {
        // Resolve all context values
        String traceId = request.header("X-Trace-ID")
            .orElseGet(TraceIdGenerator::compact);
        String correlationId = request.header("X-Correlation-ID")
            .orElse(traceId);
        Locale locale = request.header("Accept-Language")
            .map(Locale::forLanguageTag)
            .orElse(Locale.UK);
        String tenantId = tenantResolver.resolve(request);
        Instant now = Instant.now();
        Instant deadline = now.plus(Duration.ofSeconds(30));

        // Bind context and process
        return ScopedValue
            .where(RequestContext.TRACE_ID, traceId)
            .where(RequestContext.CORRELATION_ID, correlationId)
            .where(RequestContext.LOCALE, locale)
            .where(RequestContext.TENANT_ID, tenantId)
            .where(RequestContext.REQUEST_TIME, now)
            .where(RequestContext.DEADLINE, deadline)
            .call(() -&gt; {
                log.info("Processing order request");

                try {
                    OrderRequest orderRequest = parseBody(request, OrderRequest.class);
                    Order order = orderService.create(orderRequest);

                    log.info("Order created successfully: {}", order.id());
                    return Response.ok(order);

                } catch (ValidationException e) {
                    log.warn("Validation failed: {}", e.getMessage());
                    return Response.badRequest(e.getMessage());

                } catch (DeadlineExceededException e) {
                    log.error("Request deadline exceeded", e);
                    return Response.timeout();

                } catch (Exception e) {
                    log.error("Order creation failed", e);
                    return Response.serverError();
                }
            });
    }
}
</code></pre>
<hr />
<h2 id="integration-with-vtask-and-scope"><a class="header" href="#integration-with-vtask-and-scope">Integration with VTask and Scope</a></h2>
<p>Request context propagates automatically to forked virtual threads:</p>
<pre><code class="language-java">public class OrderService {
    private static final ContextLogger log = new ContextLogger(OrderService.class);

    public Order create(OrderRequest request) {
        log.info("Starting order creation");

        // Context propagates to all forked tasks
        return Scope.&lt;OrderComponent&gt;allSucceed()
            .fork(() -&gt; {
                log.info("Validating inventory");  // Has trace ID
                return validateInventory(request);
            })
            .fork(() -&gt; {
                log.info("Calculating pricing");   // Has trace ID
                return calculatePricing(request);
            })
            .fork(() -&gt; {
                log.info("Checking fraud score");  // Has trace ID
                return checkFraudScore(request);
            })
            .join((inventory, pricing, fraud) -&gt; {
                log.info("Assembling order");      // Has trace ID
                return assembleOrder(request, inventory, pricing, fraud);
            })
            .run();
    }
}
</code></pre>
<hr />
<h2 id="summary"><a class="header" href="#summary">Summary</a></h2>
<div class="table-wrapper"><table><thead><tr><th>ScopedValue</th><th>Purpose</th><th>Typical Source</th></tr></thead><tbody>
<tr><td><code>TRACE_ID</code></td><td>Distributed tracing</td><td>Generated or from <code>X-Trace-ID</code> header</td></tr>
<tr><td><code>CORRELATION_ID</code></td><td>Link related requests</td><td>From <code>X-Correlation-ID</code> or same as trace</td></tr>
<tr><td><code>LOCALE</code></td><td>Response formatting</td><td>From <code>Accept-Language</code> header</td></tr>
<tr><td><code>TENANT_ID</code></td><td>Multi-tenant isolation</td><td>From header, subdomain, or path</td></tr>
<tr><td><code>REQUEST_TIME</code></td><td>Latency tracking</td><td><code>Instant.now()</code> at request start</td></tr>
<tr><td><code>DEADLINE</code></td><td>Timeout propagation</td><td>Calculated from timeout policy</td></tr>
</tbody></table>
</div><div id="admonition-hands-on-learning" class="admonition admonish-info" role="note" aria-labelledby="admonition-hands-on-learning-title">
<div class="admonition-title">
<div id="admonition-hands-on-learning-title">
<p>Hands-On Learning</p>
</div>
<a class="admonition-anchor-link" href="#admonition-hands-on-learning"></a>
</div>
<div>
<p>Practice request tracing patterns in <a href="https://github.com/higher-kinded-j/higher-kinded-j/blob/main/hkj-examples/src/test/java/org/higherkindedj/tutorial/context/Tutorial03_RequestTracingPatterns.java">Tutorial 03: Request Tracing Patterns</a> (6 exercises, ~25 minutes).</p>
</div>
</div>
<div id="admonition-see-also" class="admonition admonish-tip" role="note" aria-labelledby="admonition-see-also-title">
<div class="admonition-title">
<div id="admonition-see-also-title">
<p>See Also</p>
</div>
<a class="admonition-anchor-link" href="#admonition-see-also"></a>
</div>
<div>
<ul>
<li><a href="../monads/context_scoped.html">Context Effect</a> -- Core Context documentation</li>
<li><a href="context_security.html">SecurityContext Patterns</a> -- Authentication and authorisation</li>
<li><a href="path_vtask.html">VTaskPath</a> -- Virtual thread effect paths</li>
<li><a href="../monads/vtask_scope.html">Scope</a> -- Structured concurrency</li>
</ul>
</div>
</div>
<hr />
<p><strong>Previous:</strong> <a href="effect_contexts.html">Effect Contexts Overview</a>
<strong>Next:</strong> <a href="context_security.html">SecurityContext Patterns</a></p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../effect/effect_contexts_mutable.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../effect/context_security.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../effect/effect_contexts_mutable.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../effect/context_security.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../version-switcher.js"></script>
        <script src=".././theme/version-switcher.js"></script>
        <script src=".././theme/sidebar-nav-link.js"></script>


    </div>
    </body>
</html>
