<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="335px" preserveAspectRatio="none" style="width:1220px;height:335px;background:#24273A;" version="1.1" viewBox="0 0 1220 335" width="1220px" zoomAndPan="magnify"><defs/><g><rect fill="#24273A" height="335" style="stroke:none;stroke-width:1;" width="1220" x="0" y="0"/><!--class Trampoline<A>--><g class="entity" data-entity="Trampoline.A." data-source-line="5" data-uid="ent0002" id="entity_Trampoline.A."><rect fill="#24273A" height="154.2008" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="325.6981" x="303.55" y="7"/><rect fill="#363A4F" height="48.1362" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2;" width="325.6981" x="303.55" y="7"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2;" width="325.6981" x="303.55" y="53.6362"/><rect fill="none" height="154.2008" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="325.6981" x="303.55" y="7"/><ellipse cx="408.127" cy="31.0681" fill="#B4A7E5" rx="10" ry="10" style="stroke:#181818;stroke-width:1;"/><path d="M405.7051,35.5681 L405.7051,34.365 L407.377,34.1775 L407.377,28.3962 L405.7051,28.1931 L405.7051,27.0056 L410.752,27.0056 L410.752,28.1931 L409.0488,28.3962 L409.0488,34.1775 L410.752,34.365 L410.752,35.5681 L405.7051,35.5681 Z " fill="#CAD3F5"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="95.4367" x="433.6807" y="24.8281">&#171;sealed interface&#187;</text><text fill="#A6DA95" font-family="Helvetica" font-size="16" font-style="italic" lengthAdjust="spacing" textLength="108.5442" x="427.127" y="45.4481">Trampoline&lt;A&gt;</text><line style="stroke:#C6A0F6;stroke-width:2;" x1="304.55" x2="628.2481" y1="55.1362" y2="55.1362"/><ellipse cx="314.55" cy="68.8082" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="166.0332" x="322.55" y="71.9642">Trampoline&lt;A&gt; done(A value)</text><ellipse cx="314.55" cy="85.1523" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" text-decoration="underline" textLength="300.6981" x="322.55" y="88.3084">Trampoline&lt;A&gt; defer(Supplier&lt;Trampoline&lt;A&gt;&gt; next)</text><ellipse cx="314.55" cy="101.4964" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.3885" x="325.67" y="104.6525">Trampoline</text><text fill="#A6DA95" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="131.4009" x="397.1785" y="104.6525">map(Function&lt;A, B&gt; f)</text><ellipse cx="314.55" cy="117.8406" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="68.3885" x="325.67" y="120.9966">Trampoline</text><text fill="#A6DA95" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="193.3453" x="397.1785" y="120.9966">flatMap(Function&lt;A, Trampoline</text><text fill="#A6DA95" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="18.6961" x="590.5239" y="120.9966">&gt; f)</text><ellipse cx="314.55" cy="134.1847" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="37.7763" x="322.55" y="137.3407">A run()</text><ellipse cx="314.55" cy="150.5288" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="44.4483" x="322.55" y="153.6848">A runT()</text></g><!--class Done<A>--><g class="entity" data-entity="Done.A." data-source-line="14" data-uid="ent0003" id="entity_Done.A."><rect fill="#24273A" height="72.4803" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="98.8001" x="7" y="247.38"/><rect fill="#363A4F" height="48.1362" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2;" width="98.8001" x="7" y="247.38"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2;" width="98.8001" x="7" y="294.0162"/><rect fill="none" height="72.4803" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="98.8001" x="7" y="247.38"/><ellipse cx="21" cy="271.4481" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1;"/><path d="M20.7188,276.0731 Q19.4688,276.0731 18.6719,275.5575 Q17.875,275.0262 17.4844,274.0731 Q17.0938,273.12 17.0938,271.8387 Q17.0938,270.4168 17.5625,269.4012 Q18.0313,268.37 18.9375,267.8231 Q19.8438,267.2606 21.1563,267.2606 Q21.7813,267.2606 22.25,267.3856 Q22.7344,267.5106 23.2188,267.745 L22.6406,269.1825 Q22.2031,268.9481 21.8125,268.87 Q21.4375,268.7918 21.0938,268.7918 Q20.2656,268.7918 19.7656,269.1668 Q19.2813,269.5262 19.0625,270.1981 Q18.8594,270.87 18.8594,271.7762 Q18.8594,273.1825 19.3594,273.87 Q19.875,274.5418 21,274.5418 Q21.4219,274.5418 21.8594,274.4325 Q22.2969,274.3231 22.8906,274.0575 L22.8906,275.62 Q22.375,275.8543 21.8125,275.9637 Q21.25,276.0731 20.7188,276.0731 Z " fill="#CAD3F5"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46.1283" x="45.3359" y="265.2081">&#171;record&#187;</text><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="68.8001" x="34" y="285.8281">Done&lt;A&gt;</text><line style="stroke:#C6A0F6;stroke-width:2;" x1="8" x2="104.8001" y1="295.5162" y2="295.5162"/><ellipse cx="18" cy="309.1882" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="40.8963" x="26" y="312.3442">A value</text></g><!--class More<A>--><g class="entity" data-entity="More.A." data-source-line="18" data-uid="ent0004" id="entity_More.A."><rect fill="#24273A" height="72.4803" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="199.3852" x="366.71" y="247.38"/><rect fill="#363A4F" height="48.1362" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2;" width="199.3852" x="366.71" y="247.38"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2;" width="199.3852" x="366.71" y="294.0162"/><rect fill="none" height="72.4803" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="199.3852" x="366.71" y="247.38"/><ellipse cx="428.2265" cy="271.4481" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1;"/><path d="M427.9453,276.0731 Q426.6953,276.0731 425.8984,275.5575 Q425.1015,275.0262 424.7109,274.0731 Q424.3203,273.12 424.3203,271.8387 Q424.3203,270.4168 424.789,269.4012 Q425.2578,268.37 426.164,267.8231 Q427.0703,267.2606 428.3828,267.2606 Q429.0078,267.2606 429.4765,267.3856 Q429.9609,267.5106 430.4453,267.745 L429.8672,269.1825 Q429.4297,268.9481 429.039,268.87 Q428.664,268.7918 428.3203,268.7918 Q427.4922,268.7918 426.9922,269.1668 Q426.5078,269.5262 426.289,270.1981 Q426.0859,270.87 426.0859,271.7762 Q426.0859,273.1825 426.5859,273.87 Q427.1015,274.5418 428.2265,274.5418 Q428.6484,274.5418 429.0859,274.4325 Q429.5234,274.3231 430.1172,274.0575 L430.1172,275.62 Q429.6015,275.8543 429.039,275.9637 Q428.4765,276.0731 427.9453,276.0731 Z " fill="#CAD3F5"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46.1283" x="458.3384" y="265.2081">&#171;record&#187;</text><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="68.3521" x="447.2265" y="285.8281">More&lt;A&gt;</text><line style="stroke:#C6A0F6;stroke-width:2;" x1="367.71" x2="565.0952" y1="295.5162" y2="295.5162"/><ellipse cx="377.71" cy="309.1882" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="174.3852" x="385.71" y="312.3442">Supplier&lt;Trampoline&lt;A&gt;&gt; next</text></g><!--class FlatMap<A, B>--><g class="entity" data-entity="FlatMap.A. B." data-source-line="22" data-uid="ent0005" id="entity_FlatMap.A. B."><rect fill="#24273A" height="88.8244" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="174.017" x="824.39" y="239.21"/><rect fill="#363A4F" height="48.1362" rx="1.5" ry="1.5" style="stroke:#363A4F;stroke-width:2;" width="174.017" x="824.39" y="239.21"/><rect fill="#363A4F" height="1.5" style="stroke:#363A4F;stroke-width:2;" width="174.017" x="824.39" y="285.8462"/><rect fill="none" height="88.8244" rx="1.5" ry="1.5" style="stroke:#C6A0F6;stroke-width:2;" width="174.017" x="824.39" y="239.21"/><ellipse cx="854.648" cy="263.2781" fill="#ADD1B2" rx="10" ry="10" style="stroke:#181818;stroke-width:1;"/><path d="M854.3667,267.9031 Q853.1167,267.9031 852.3198,267.3875 Q851.523,266.8562 851.1323,265.9031 Q850.7417,264.95 850.7417,263.6687 Q850.7417,262.2468 851.2105,261.2312 Q851.6792,260.2 852.5855,259.6531 Q853.4917,259.0906 854.8042,259.0906 Q855.4292,259.0906 855.898,259.2156 Q856.3823,259.3406 856.8667,259.575 L856.2886,261.0125 Q855.8511,260.7781 855.4605,260.7 Q855.0855,260.6218 854.7417,260.6218 Q853.9136,260.6218 853.4136,260.9968 Q852.9292,261.3562 852.7105,262.0281 Q852.5073,262.7 852.5073,263.6062 Q852.5073,265.0125 853.0073,265.7 Q853.523,266.3718 854.648,266.3718 Q855.0698,266.3718 855.5073,266.2625 Q855.9448,266.1531 856.5386,265.8875 L856.5386,267.45 Q856.023,267.6843 855.4605,267.7937 Q854.898,267.9031 854.3667,267.9031 Z " fill="#CAD3F5"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" font-style="italic" lengthAdjust="spacing" textLength="46.1283" x="902.1408" y="257.0381">&#171;record&#187;</text><text fill="#A6DA95" font-family="Helvetica" font-size="16" lengthAdjust="spacing" textLength="107.8882" x="871.2608" y="277.6581">FlatMap&lt;A, B&gt;</text><line style="stroke:#C6A0F6;stroke-width:2;" x1="825.39" x2="997.407" y1="287.3462" y2="287.3462"/><ellipse cx="835.39" cy="301.0182" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="109.6568" x="843.39" y="304.1742">Trampoline&lt;A&gt; sub</text><ellipse cx="835.39" cy="317.3623" fill="none" rx="3" ry="3" style="stroke:#038048;stroke-width:1;"/><text fill="#A6DA95" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="134.3889" x="843.39" y="320.5184">Function&lt;A, Trampoline</text><text fill="#A6DA95" font-family="Helvetica" font-size="12" font-weight="bold" lengthAdjust="spacing" textLength="14.6281" x="977.7789" y="320.5184">&gt; f</text></g><g class="entity" data-entity="GMN12" data-source-line="32" data-uid="ent0013" id="entity_GMN12"><path d="M140.77,263.77 L140.77,279.62 L105.97,283.62 L140.77,287.62 L140.77,303.4582 A1.5,1.5 0 0 0 142.27,304.9582 L330.5392,304.9582 A1.5,1.5 0 0 0 332.0392,303.4582 L332.0392,272.27 L322.0392,262.27 L142.27,262.27 A1.5,1.5 0 0 0 140.77,263.77" fill="#EED49F" style="stroke:#24273A;stroke-width:0.5;"/><path d="M322.0392,262.27 L322.0392,271.52 A0.75,0.75 0 0 0 322.7892,272.27 L332.0392,272.27 L322.0392,262.27" fill="#EED49F" style="stroke:#24273A;stroke-width:0.5;"/><text fill="#24273A" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="136.285" x="146.77" y="280.0981">Represents a completed</text><text fill="#24273A" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="170.2692" x="146.77" y="296.4422">computation with a final value</text></g><g class="entity" data-entity="GMN15" data-source-line="37" data-uid="ent0016" id="entity_GMN15"><path d="M601.03,263.77 L601.03,279.62 L566.59,283.62 L601.03,287.62 L601.03,303.4582 A1.5,1.5 0 0 0 602.53,304.9582 L788.2672,304.9582 A1.5,1.5 0 0 0 789.7672,303.4582 L789.7672,272.27 L779.7672,262.27 L602.53,262.27 A1.5,1.5 0 0 0 601.03,263.77" fill="#EED49F" style="stroke:#24273A;stroke-width:0.5;"/><path d="M779.7672,262.27 L779.7672,271.52 A0.75,0.75 0 0 0 780.5172,272.27 L789.7672,272.27 L779.7672,262.27" fill="#EED49F" style="stroke:#24273A;stroke-width:0.5;"/><text fill="#24273A" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="138.325" x="607.03" y="280.0981">Represents a suspended</text><text fill="#24273A" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="167.7372" x="607.03" y="296.4422">computation (deferred thunk)</text></g><g class="entity" data-entity="GMN18" data-source-line="42" data-uid="ent0019" id="entity_GMN18"><path d="M1033.01,263.77 L1033.01,279.62 L998.77,283.62 L1033.01,287.62 L1033.01,303.4582 A1.5,1.5 0 0 0 1034.51,304.9582 L1212.2911,304.9582 A1.5,1.5 0 0 0 1213.7911,303.4582 L1213.7911,272.27 L1203.7911,262.27 L1034.51,262.27 A1.5,1.5 0 0 0 1033.01,263.77" fill="#EED49F" style="stroke:#24273A;stroke-width:0.5;"/><path d="M1203.7911,262.27 L1203.7911,271.52 A0.75,0.75 0 0 0 1204.5411,272.27 L1213.7911,272.27 L1203.7911,262.27" fill="#EED49F" style="stroke:#24273A;stroke-width:0.5;"/><text fill="#24273A" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="137.725" x="1039.01" y="280.0981">Represents a sequenced</text><text fill="#24273A" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="159.7811" x="1039.01" y="296.4422">computation (monadic bind)</text></g><!--reverse link Trampoline<A> to Done<A>--><g class="link" data-entity-1="Trampoline.A." data-entity-2="Done.A." data-source-line="27" data-uid="lnk7" id="link_Trampoline.A._Done.A."><path codeLine="27" d="M286.9204,159.5003 C229.1304,184.8903 180.73,207.99 123.4,239.21 C117.68,242.32 111.8,245.76 106.01,249.29" fill="none" id="Trampoline&lt;A&gt;-backto-Done&lt;A&gt;" style="stroke:#F5BDE6;stroke-width:1;"/><polygon fill="none" points="303.4,152.26,284.5069,154.0071,289.3338,164.9935,303.4,152.26" style="stroke:#F5BDE6;stroke-width:1;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="67.0445" x="216.43" y="205.0381">implements</text></g><!--reverse link Trampoline<A> to More<A>--><g class="link" data-entity-1="Trampoline.A." data-entity-2="More.A." data-source-line="28" data-uid="lnk9" id="link_Trampoline.A._More.A."><path codeLine="28" d="M466.4,179.47 C466.4,208.89 466.4,223.1 466.4,246.92" fill="none" id="Trampoline&lt;A&gt;-backto-More&lt;A&gt;" style="stroke:#F5BDE6;stroke-width:1;"/><polygon fill="none" points="466.4,161.47,460.4,179.47,472.4,179.47,466.4,161.47" style="stroke:#F5BDE6;stroke-width:1;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="67.0445" x="467.4" y="205.0381">implements</text></g><!--reverse link Trampoline<A> to FlatMap<A, B>--><g class="link" data-entity-1="Trampoline.A." data-entity-2="FlatMap.A. B." data-source-line="29" data-uid="lnk11" id="link_Trampoline.A._FlatMap.A. B."><path codeLine="29" d="M646.0224,164.8319 C711.8824,194.0619 768.77,219.31 824.12,243.88" fill="none" id="Trampoline&lt;A&gt;-backto-FlatMap&lt;A, B&gt;" style="stroke:#F5BDE6;stroke-width:1;"/><polygon fill="none" points="629.57,157.53,643.5884,170.3161,648.4564,159.3478,629.57,157.53" style="stroke:#F5BDE6;stroke-width:1;"/><text fill="#CAD3F5" font-family="Helvetica" font-size="12" lengthAdjust="spacing" textLength="67.0445" x="742.84" y="205.0381">implements</text></g><!--SRC=[ZLF1Rjim3BthAzYSN7IExuLX8CFGMozTVa2HwLgOHAaIjRHe- - -LaownuoN8ZIBVU-AZg1jDogGMeMVsyRwgWjmkdpNtQPCY1kM8aNYfdAr8kSYorAfIahrFIcaghLIgrv9TwOqaJjQKtAF5oafDrIvS-fmLejVv5hIUty2YtM28GkYi7Zgf41Rh8ArtHXFMgsO1THrH6cpX06aQU1S0T_2Uks2jFc52WTOH5YluAqt2suj0x30KlvFtHcEe9yK625zvJwz_DcDcFbdfYuT4YhMZUlK3SgexX-sCvCSJ_0HnuAuW92f6yJeVFeLGHiO8Yr_kC9A0oeNsC8XlioFiemjdi9ViZWGUzbtlpVr7PZh9c3Qxx2MFW_ZHGvby-T7CNliUjFKcxmfn54SNLw5FMhw68yWnGj3FFOFhZYFEPfxG1um32YJahSySnZONXZWD- -G8jlb_v7AdIPhlDq1gOL2TQVypSweTK_IPDDCkTkiPykRdFqX_RiyhJutFzF4b8QcvldKaMwrWewaTgNy1]--></g></svg>